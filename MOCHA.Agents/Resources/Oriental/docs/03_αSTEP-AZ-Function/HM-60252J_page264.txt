ファイル名: HM-60252J_page264

<overview>
本ページは「ファンクションコード」についての説明で構成されています。  
テキスト部分では、AZシリーズドライバがサポートするファンクションコードの概要と注意点が記載されています。  
表部分では、保持レジスタの読み出しに関する具体例のデータ一覧と、クエリのフィールド名称と内容の詳細が示されています。  
グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### 3 ファンクションコード
AZシリーズドライバがサポートしているファンクションコードについて説明しています。  
ここで紹介している以外のファンクションコードを送信しても実行されないため注意が必要です。

#### 3-1 保持レジスタの読み出し（03h）
レジスタ（16bit）を読み出します。  
連続するレジスタを最大125個（125×16bit）まで読み出せます。  
データは上位と下位を同時に読み出してください。  
同時に読み出さないと値が不正になる場合があります。  
複数の保持レジスタを読み出すときは、レジスタアドレスの順に実行されます。

##### 読み出しの例
サーバーアドレス1の運転データNo.1の「方式、位置、速度」を読み出します。

### 表
#### 運転データNo.1の方式、位置、速度の読み出し例

| 内容                   | レジスタアドレス | 読み出される値 | 10進数の表示 |
|------------------------|------------------|----------------|--------------|
| 運転データNo.1の方式（上位） | 6208 (1840h)     | 0000h          | 2            |
| 運転データNo.1の方式（下位） | 6209 (1841h)     | 0002h          |              |
| 運転データNo.1の位置（上位） | 6210 (1842h)     | FFFFh          | -10,000      |
| 運転データNo.1の位置（下位） | 6211 (1843h)     | D8F0h          |              |
| 運転データNo.1の速度（上位） | 6212 (1844h)     | 0000h          | 10,000       |
| 運転データNo.1の速度（下位） | 6213 (1845h)     | 2710h          |              |

#### クエリのフィールド詳細

| フィールド名称           | データ | 内容                             |
|--------------------------|--------|--------------------------------|
| サーバーアドレス         | 01h    | サーバーアドレス1               |
| ファンクションコード     | 03h    | 保持レジスタからの読み出し      |
| データ                   |        |                                |
| ├ レジスタアドレス（上位） | 18h    | 読み出しの起点となるレジスタアドレス |
| ├ レジスタアドレス（下位） | 40h    |                                |
| ├ レジスタ数（上位）       | 00h    | 起点のレジスタアドレスから読み出すレジスタの数（6個=0006h） |
| └ レジスタ数（下位）       | 06h    |                                |
| エラーチェック（下位）     | C2h    | CRC-16の計算結果               |
| エラーチェック（上位）     | BCh    |                                |
</contents>