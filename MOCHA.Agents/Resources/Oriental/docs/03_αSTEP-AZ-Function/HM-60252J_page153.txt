ファイル名: HM-60252J_page153

<overview>
本ページは「座標情報モニタ機能」についての説明で構成されています。  
主に以下のセクションがあります。  
- テキスト部分：座標情報モニタ機能の概要、I/O位置出力機能の説明、関連パラメータの説明  
- 表部分：関連パラメータの詳細（MEXE02ツリー表示、パラメータ名、内容、初期値）を示す表  
- グラフ部分：なし  
</overview>

<contents>
### テキスト
#### 座標情報モニタ機能
ABZOセンサが管理している座標系と上位システムの座標系の同期をとる方法は2つある。  
- 高速原点復帰運転、位置プリセット、または原点復帰運転完了後に上位システムのエンコーダカウンタを0にクリアする方法  
- 座標情報モニタ機能でABZOセンサの現在位置と上位システムのエンコーダカウンタの値を一致させる方法  

座標情報モニタ機能にはI/O位置出力機能とパルスリクエスト機能が搭載されている。

#### I/O位置出力機能
- モニタリクエスト入力（MON-REQ0、MON-REQ1）に応じて位置情報またはアラーム情報をクロック同期式のシリアル通信（SPI通信）で上位システムに伝える機能。  
- MON-CLK入力にパルスを入力するとパルスが立ち上がるタイミングでMON-OUTから出力される情報が切り替わる。通信はLSBファーストで行われる。  
- 位置情報は32bit、アラーム情報は8bitのデータを送信し、最後にチェックサム（送信データを1byteごとに分けて加算した結果の下位8bit）が送信される。  

#### 関連するパラメータ
I/O動作・機能に関するパラメータは以下の通り。

| MEXE02ツリー表示 | パラメータ名 | 内容 | 初期値 |
| :--- | :--- | :--- | :--- |
| I/O動作・機能 | MON-REQ0対象設定 | 各モニタリクエストの入力をONにしたときに出力される情報を選択。<br>【設定範囲】<br>1:検出位置(32bit)<br>2:検出位置32bitカウンタ(32bit)<br>3:指令位置(32bit)<br>4:指令位置32bitカウンタ(32bit)<br>8:アラームコード(8bit)<br>9:検出位置(32bit) & アラームコード(8bit)<br>10:検出位置32bitカウンタ(32bit) & アラームコード(8bit)<br>11:指令位置(32bit) & アラームコード(8bit)<br>12:指令位置32bitカウンタ(32bit) & アラームコード(8bit) | 1 |
|  | MON-REQ1対象設定 | MON-REQ0と同様の設定が可能。 | 8 |

#### I/O出力機能で出力できる情報
- 現在座標は32bitのデータで送信される。  
- 出力する位置情報はMON-REQ0対象設定とMON-REQ1対象設定パラメータで設定する。  

##### 現在座標の種類
- 検出位置(32bit)  
  ABZOセンサで検出された現在位置が出力される。ラウンド(RND)設定パラメータが「有効」の場合はラウンド範囲内の値が出力される。  
- 検出位置32bitカウンタ(32bit)  
  ABZOセンサで検出された現在位置が出力される。ラウンド(RND)設定パラメータに関わらず、ラウンド設定を無効にした場合の値を表示。  
- 指令位置(32bit)  
  ドライバの指令位置が出力される。ラウンド(RND)設定パラメータが「有効」の場合はラウンド範囲内の値が出力される。  
- 指令位置32bitカウンタ(32bit)  
  ドライバの指令位置が出力される。ラウンド(RND)設定パラメータに関わらず、ラウンド設定を無効にした場合の値を表示。  
</contents>