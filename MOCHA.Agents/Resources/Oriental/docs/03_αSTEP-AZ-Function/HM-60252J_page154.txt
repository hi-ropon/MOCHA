ファイル名: HM-60252J_page154

<overview>
本ページは「座標管理」に関する内容で構成されています。主に以下のセクションで構成されています。
- テキスト部分：座標管理の説明、アラームコードやチェックサムの説明
- 表部分：MEXE02ツリー表示のパラメータ設定例、2進数および送信データの例
- グラフ部分：座標の範囲を示すスケール図と円形の座標移動イメージ図
</overview>

<contents>
### テキスト
#### 座標管理 出力例
機械原点から700 step、FWD方向へ回転した場合のパラメータ設定例を示しています。

#### アラームコード
現在発生しているアラームのアラームコードを8bitのデータで送信します。

#### 現在位置＋アラームコード
現在位置情報とアラームコードを連続して送信します。

#### チェックサム
送信データを1バイトごとに区切り、1バイトずつ加算した結果の下位8bitをチェックサムとします。データが正しく出力されたか確認するための情報です。

### 表
#### MEXE02ツリー表示 パラメータ設定例

| パラメータ名                         | 設定値  |
| :--------------------------------- | :------ |
| 電子ギヤA                          | 1       |
| 電子ギヤB                          | 1       |
| 初期座標生成・ラウンド設定範囲     | 1 rev   |
| 初期座標生成・ラウンドオフセット比率設定 | 50 %    |
| 初期座標生成・ラウンドオフセット値設定   | 0 step  |

#### 指令位置(32 bit)：-300 step

| 種類           | 2進数                                           |
| -------------- | ---------------------------------------------- |
| 2進数          | 1111 1111 1111 1111 1111 1110 1101 0100       |
| 送信データ(LSBファースト) | 0010 1011 0111 1111 1111 1111 1111 1111       |

#### 指令位置32 bitカウンタ：700 step

| 種類           | 2進数                                           |
| -------------- | ---------------------------------------------- |
| 2進数          | 0000 0000 0000 0000 0000 0010 1011 1100       |
| 送信データ(LSBファースト) | 0011 1101 0100 0000 0000 0000 0000 0000       |

#### アラームコード例：過負荷のアラーム(アラームコード30h)

| 種類           | 2進数           |
| -------------- | -------------- |
| 2進数          | 0011 0000       |
| 送信データ(LSBファースト) | 0000 1100       |

#### チェックサム計算例
- 検出位置300 step = 0000 0000 0000 0000 0000 0001 0010 1100
- アラームコード66h = 0110 0110
- チェックサム = 0000 0000 + 0000 0000 + 0000 0001 + 0010 1100 + 0110 0110 = 1001 0011

#### ドライバから出力されるデータ例

| 検出位置                         | アラームコード | チェックサム |
| :------------------------------ | :------------- | :----------- |
| 0011 0100 1000 0000 0000 0000 0000 0000 | 0110 0110      | 1100 1001    |

### 図
#### 座標範囲スケールと円形座標移動イメージ

```mermaid
flowchart LR
    A[-500] --> B[-250] --> C[0] --> D[250] --> E[499]
    E --> F[→]
    F --> G((円形座標))
    G --> H[-500]
    G --> I[-250]
    G --> J[0]
    G --> K[250]
    G --> L[-300]
    note right of L: 移動量700 step
```

**図の説明:**
- 横軸は-500から499までのstep範囲を示すスケール
- 右側の円形図は座標の回転方向を示し、-300 stepの位置が示されている
- 移動量700 stepが円周上の移動として表現されている
</contents>