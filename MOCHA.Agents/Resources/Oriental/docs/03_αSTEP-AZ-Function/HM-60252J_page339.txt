ファイル名: HM-60252J_page339

<overview>
本ページはEtherCAT通信を用いた位置決め運転の基本的な操作手順について説明しています。構成は以下の通りです。
- テキスト部分：位置決め運転の設定例と操作手順の説明
- 表部分：NETC01-ECTのリモートレジスタコマンドとレスポンスの詳細を示す2つの表
- メモ部分：TRIG操作に関する注意事項
グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### 基本的な操作手順
EtherCAT通信で制御する場合の位置決め運転とモニタ機能の基本的な操作手順を説明しています。例としてNETC01-ECTを使用した手順を紹介。

##### ■位置決め運転
- 設定例
  - ドライバの号機番号（デバイスアドレス）：0
  - 運転データNo.1
  - 位置（移動量）：5,000 step
  - 運転データの設定方法：互換コマンド（項目ごとの設定）

- 操作手順
  1. リモートレジスタに運転データNo.1の位置（移動量）5,000 stepを送信する。TRIGをONにするとリモートレジスタに設定したデータが書き込まれる。
  2. 書き込み完了後、TRIG_RがONになりSTATUSはOFFのまま。書き込み後はTRIGをOFFに戻す。

### 表
#### NETC01-ECTのリモートレジスタコマンド（送信側）

| CoE Index | Sub-Index | 名称    | 型    | アクセス | 内容                          |
| :-------- | :-------- | :------ | :---- | :------- | :---------------------------- |
| 2800h (0号機) | 0         | －       | U8    | R        | Sub-index数:4                 |
|           | 1         | Axis    | U8    | RW       | 予約（未使用）                |
|           | 2         | Command | U16   | RW       | 命令コード:1201h（運転データNo.1の位置） |
|           | 3         | Data    | INT32 | RW       | データ:5,000（移動量:5,000 step） |
|           | 4         | TRIG    | U8    | RW       | bit[0]:TRIG（書き込みトリガ） |

#### NETC01-ECTのリモートレジスタレスポンス（受信側）

| CoE Index | Sub-index | 名称    | 型    | アクセス | 内容                          |
| :-------- | :-------- | :------ | :---- | :------- | :---------------------------- |
| 2900h (0号機) | 0         | －       | U8    | R        | Sub-index数:4                 |
|           | 1         | Axis    | U8    | R        | 予約（未使用）                |
|           | 2         | Command | U16   | R        | 命令コード応答:1201h          |
|           | 3         | Data    | INT32 | R        | データ応答:5,000              |
|           | 4         | Status  | U8    | R        | bit[3]:Command Error<br>bit[2]:Axis Error<br>bit[1]:STATUS<br>bit[0]:TRIG_R |

### メモ
- TRIGをONにしたら必ずOFFに戻すこと。
- TRIGでデータを書き込むとRAMに保存される。NVメモリに保存する場合はメンテナンスコマンド「NVメモリー一括書き込み（3E85h）」を実行する。

</contents>