ファイル名: HM-60252J_page483

<overview>
本ページは「モニタ機能」のタイミングチャートの説明と、「パルスリクエスト機能」の概要および関連パラメータの説明で構成されています。
上部はテキストとタイミングチャートの図、下部はテキスト説明とパラメータの表で構成されています。
</overview>

<contents>
### テキスト
#### モニタ機能 タイミングチャート
1. MON-REQ0入力またはMON-REQ1入力をONにすると、その瞬間の指令位置、検出位置、アラームコードが記録され、MON-OUT出力がONになる。
2. MON-OUT出力がONになったことを確認し、クロック信号をMON-CLK入力に入力する。
3. クロック信号に同期して、MON-OUT出力から「MON-REQ0対象設定」と「MON-REQ1対象設定」パラメータで設定した情報が出力される。
4. 必要な情報が取得できたら、MON-REQ入力をOFFにする。データはLSBファーストで出力される。チェックサム確認不要なら出力中断も可能。

※ MON-CLK入力のONエッジ検出からMON-OUT出力状態確定までの時間は1ms以下。

memo: MON-CLK入力に入力するクロック信号の周波数は最大500Hz。

#### パルスリクエスト機能
- A相/B相出力を用いて現在位置（絶対位置）を上位システムに伝える機能。
- 上位システムのエンコーダカウンタとドライバのA相/B相出力を接続し、パルスリクエスト機能を実行すると、ドライバの現在位置をA相/B相パルスとして出力可能。
- 上位システムのエンコーダカウンタを「0」に設定しておくことでABZOセンサと上位システムの座標系を簡単に同期できる。

### 表
#### 関連するパラメータ

| MEXE02ツリー表示 | パラメータ名       | 内容                                                                                      | 初期値 |
| :---------------- | :----------------- | :---------------------------------------------------------------------------------------- | :----- |
| I/O動作・機能     | PLSOUT対象設定     | パルスリクエスト機能によって出力される情報を選択する。<br>【設定範囲】<br>0:指令位置(32bit)<br>1:指令位置32bitカウンタ(32bit)<br>2:検出位置(32bit)<br>3:検出位置32bitカウンタ(32bit) | 0      |
| I/O動作・機能     | PLSOUT最大周波数   | パルスリクエスト機能で出力するパルスの周波数を設定する。<br>【設定範囲】1～10,000(1=0.1kHz)                                         | 100    |

### 図
```mermaid
flowchart TD
    A[MON-REQ0入力 ON / MON-REQ1入力 OFF] -->|1ms以下| B[MON-CLK入力 クロック信号 ON/OFF]
    B --> C[MON-OUT出力 LSBファーストで情報出力]
    C --> D[MON-REQ入力 OFFで出力停止]
    
    subgraph タイミングチャート
        direction TB
        A
        B
        C
        D
    end
```

**図の説明:**
- MON-REQ0またはMON-REQ1入力がONになると情報が記録されMON-OUT出力がONになる。
- クロック信号MON-CLK入力に同期してMON-OUTから情報がLSBファーストで出力される。
- 必要情報取得後、MON-REQ入力をOFFにして出力を停止する。
</contents>