ファイル名: HM-60252J_page267

<overview>
本ページは「複数の保持レジスタへの書き込み(10h)」に関する説明で構成されています。ページ全体は以下のセクションで構成されています。
- テキスト部分：複数の連続するレジスタにデータを書き込む概要説明と注意点、書き込みの具体例の説明
- 表部分：書き込み例のデータ内容を示す表、クエリのフィールド名称・データ・内容を示す詳細な表、レスポンスのフィールド名称・データ・内容を示す表
- グラフ部分：特になし。図やフローチャートは含まれていません。
</overview>

<contents>
### テキスト
#### 複数の保持レジスタへの書き込み(10h)
複数の連続するレジスタにデータを書き込みます。最大123個のレジスタに書き込むことが可能です。データは上位と下位を同時に書き込む必要があり、同時に書き込まないと値が不正になる場合があります。書き込みはレジスタアドレスの順に実行されます。範囲外のデータや一部のデータによって例外応答が返されても、他のデータは正常に書き込まれている場合があります。

##### 書き込みの例
サーバーアドレス4の運転データNo.3の「起動・変速レート、停止レート、運転電流」に設定する例を示しています。

### 表
#### 書き込み例データ内容

| 内容                         | レジスタアドレス   | 書き込む値 | 10進数の表示 |
| :--------------------------- | :----------------- | :--------- | :----------- |
| 運転データNo.3の起動・変速レート(上位) | 6342(18C6h)        | 0000h      | 10,000       |
| 運転データNo.3の起動・変速レート(下位) | 6343(18C7h)        | 2710h      |              |
| 運転データNo.3の停止レート(上位)       | 6344(18C8h)        | 0000h      | 20,000       |
| 運転データNo.3の停止レート(下位)       | 6345(18C9h)        | 4E20h      |              |
| 運転データNo.3の運転電流(上位)         | 6346(18CAh)        | 0000h      | 500          |
| 運転データNo.3の運転電流(下位)         | 6347(18CBh)        | 01F4h      |              |

#### クエリ

| フィールド名称               | データ  | 内容                             |
| :--------------------------- | :------ | :------------------------------- |
| サーバーアドレス             | 04h     | サーバーアドレス4                |
| ファンクションコード         | 10h     | 複数の保持レジスタへの書き込み  |
| レジスタアドレス(上位)       | 18h     | 書き込みの起点となるレジスタアドレス |
| レジスタアドレス(下位)       | C6h     |                                 |
| レジスタ数(上位)             | 00h     | 起点のレジスタアドレスから書き込むレジスタの数(6個=0006h) |
| レジスタ数(下位)             | 06h     |                                 |
| バイト数                     | 0Ch     | クエリのレジスタ数の2倍の値     |
| レジスタアドレスのライト値(上位) | 00h     | レジスタアドレス18C6hの書き込み値 |
| レジスタアドレスのライト値(下位) | 00h     |                                 |
| レジスタアドレス+1のライト値(上位) | 27h     | レジスタアドレス18C7hの書き込み値 |
| レジスタアドレス+1のライト値(下位) | 10h     |                                 |
| レジスタアドレス+2のライト値(上位) | 00h     | レジスタアドレス18C8hの書き込み値 |
| レジスタアドレス+2のライト値(下位) | 00h     |                                 |
| レジスタアドレス+3のライト値(上位) | 4Eh     | レジスタアドレス18C9hの書き込み値 |
| レジスタアドレス+3のライト値(下位) | 20h     |                                 |
| レジスタアドレス+4のライト値(上位) | 00h     | レジスタアドレス18CAhの書き込み値 |
| レジスタアドレス+4のライト値(下位) | 00h     |                                 |
| レジスタアドレス+5のライト値(上位) | 01h     | レジスタアドレス18CBhの書き込み値 |
| レジスタアドレス+5のライト値(下位) | F4h     |                                 |
| エラーチェック(下位)         | 6Ch     | CRC-16の計算結果                |
| エラーチェック(上位)         | A0h     |                                |

#### レスポンス

| フィールド名称               | データ  | 内容           |
| :--------------------------- | :------ | :------------- |
| サーバーアドレス             | 04h     | クエリと同じ値 |
| ファンクションコード         | 10h     | クエリと同じ値 |
| レジスタアドレス(上位)       | 18h     | クエリと同じ値 |
| レジスタアドレス(下位)       | C6h     |               |
| レジスタ数(上位)             | 00h     | クエリと同じ値 |
| レジスタ数(下位)             | 06h     |               |
| エラーチェック(下位)         | A6h     | CRC-16の計算結果 |
| エラーチェック(上位)         | C3h     |               |
</contents>