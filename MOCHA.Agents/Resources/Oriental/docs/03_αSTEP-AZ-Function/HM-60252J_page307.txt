ファイル名: HM-60252J_page307

<overview>
このページは、Modbus RTU制御（RS-485通信）に関する説明で構成されています。  
テキスト部分では、「グループID」コマンドの設定値の保存方法や注意点について解説しています。  
表部分では、MEXE02ツリー表示における「グループID初期値（Modbus）」のパラメータ名、内容、初期値が示されています。  
図部分は、上位システム、親サーバー、子サーバー間の通信フローとモーター動作のタイミングを示すシーケンス図となっています。
</overview>

<contents>
### テキスト
#### 関連するパラメータ
「グループID」コマンドの設定値はRAMに保存されるため、電源を切ると初期値に戻りグループが解除されてしまいます。  
そのため、電源投入後は常にグループを設定しなおす必要があります。  
一方、「グループID初期値（Modbus）」パラメータはNVメモリに保存でき、このパラメータにグループのアドレスを設定しNVメモリに保存しておくと、電源を切ってもグループが解除されません。  
電源投入後すぐにグループ機能を使うことが可能です。  
NVメモリに保存する方法は以下の通りです。  
- MEXE02で設定したとき：「データの書き込み」を行うとNVメモリに保存されます。  
- RS-485通信で設定したとき：メンテナンスコマンドの「NVメモリー一括書き込み」を行うとNVメモリに保存されます。

### 表
#### MEXE02ツリー表示 パラメータ一覧

| MEXE02ツリー表示 | パラメータ名               | 内容                                                                                   | 初期値 |
|------------------|----------------------------|----------------------------------------------------------------------------------------|--------|
| 通信・I/F機能    | グループID初期値 (Modbus) | グループのアドレス（親サーバーの号機番号）を設定します。<br>【設定範囲】<br>-1：無効（グループ送信しない）<br>1～31：グループID<br>※0は使用しないでください。 | -1     |

### 図
#### Modbus RTU制御（RS-485通信）における通信フローとモーター動作シーケンス

```mermaid
sequenceDiagram
    participant 上位システム
    participant 親サーバー
    participant 子サーバー1
    participant 子サーバー2

    上位システム->>親サーバー: アドレス1「グループID」コマンド:-1(個別)
    親サーバー->>子サーバー1: アドレス2「グループID」コマンド:1
    子サーバー1->>子サーバー2: アドレス3「グループID」コマンド:1

    クライアント->>サーバー: アドレス1 位置決め運転開始
    サーバー->>クライアント: アドレス1 返信

    クライアント->>サーバー: アドレス2 位置決め運転開始
    サーバー->>クライアント: アドレス2 返信

    Note over 親サーバー: アドレス1のモーター動作
    Note over 子サーバー1: アドレス2のモーター動作
    Note over 子サーバー2: アドレス3のモーター動作
```

**図の説明:**  
- 上位システムから親サーバーへ「グループID」コマンド（個別指定）を送信。  
- 親サーバーは子サーバーにグループIDコマンドを送信し、子サーバー間でも同様に伝達。  
- クライアントからサーバーへ位置決め運転開始指令を送り、各サーバーはモーターを動作させる。  
- 各アドレスの返信をクライアントに返すことで通信が成立していることを示す。
</contents>