ファイル名: XSEL-RA_SA_RAX_SAX_RAXD_SAXD(MJ0359-9E)_page279

<overview>
このページは「IXAスカラロボットの衝突検知機能」に関する説明で構成されています。  
主に以下のセクションで構成されています。  
- テキスト部分：ECMD5命令の概要、対応機種、機能説明、注意事項  
- 表部分：ECMD5命令の拡張条件・入力条件・命令・出力部の仕様表、対応機種一覧表  
- 図部分：変数99のビット割り当てを示すビットマップ図と各ビットの意味の説明  
</overview>

<contents>
### テキスト
#### ECMD5（軸動作ステータス取得）
ECMD5命令は、操作2で指定された軸のステータスを変数99に格納します。  
軸のステータスは各ビットのON/OFFで表され、取得値は2進数として解釈する必要があります。

#### 対応機種
- ASEL/PSEL/SSEL（製品初版以降）  
- XSEL-P/Q/PCT/QCT（メインアプリ部V1.09以降）  
- XSEL-R/S/RX/SX/RXD/SXD（製品初版以降）  
- XSEL-RAX/SAX/RAXD/SAXD（製品初版以降）  
- MSEL（製品初版以降）  

#### 注意事項
操作2に無効軸No.を指定するとエラーNo.CC4「SELデータエラー」が発生します。

### 表
#### ECMD5命令仕様

| 拡張条件 (LD,A,O,AB,OB) | 入力条件 (入出力・フラグ) | 命令・宣言 | 操作1 | 操作2 | 出力部 (出力・フラグ) |
| :----------------------- | :------------------------- | :--------- | :---- | :---- | :-------------------- |
| E（自由）               | N,Cnd（自由）             | ECMD       | 5     | 軸No. | CC                    |

#### 対応機種一覧

| 対応機種                                                                 |
| :----------------------------------------------------------------------- |
| ASEL/PSEL/SSEL（製品初版以降）                                           |
| XSEL-P/Q/PCT/QCT（メインアプリ部V1.09以降）                            |
| XSEL-R/S/RX/SX/RXD/SXD（製品初版以降）                                 |
| XSEL-RAX/SAX/RAXD/SAXD（製品初版以降）                                 |
| MSEL（製品初版以降）                                                    |

### 図
#### 変数99のビット割り当てと意味

```mermaid
flowchart LR
    subgraph 変数99ビット[変数99 (ビット7〜0)]
        B7[7]
        B6[6]
        B5[5]
        B4[4]
        B3[3]
        B2[2]
        B1[1]
        B0[0]
    end

    B7 -->|サーボ軸使用中| S1[0=未使用, 1=使用]
    B6 -->|原点復帰| S2[00=未完了, 01=動作中, 10=完了]
    B5 -->|サーボON/OFF| S3[0=OFF, 1=ON]
    B4 -->|動作系コマンド正常終了| S4[0=未終了, 正常終了]
    B3 -->|押付け空振り検出| S5[0=未検出, 1=検出]
    B2 -->|衝突検知機能| S6[0=未使用, 1=使用中]
```

**図の説明:**  
- ビット7: サーボ軸使用中 (0=未使用、1=使用)  
- ビット6: 原点復帰状態 (00=未完了、01=動作中、10=完了)  
- ビット5: サーボON/OFF (0=OFF、1=ON)  
- ビット4: 動作系コマンド正常終了 (0=未終了、正常終了)  
- ビット3: 押付け空振り検出 (0=未検出、1=検出)  
- ビット2: 衝突検知機能 (0=未使用、1=使用中)  

※ 衝突検知機能のステータスはXSEL-RAX/SAX/RAXD/SAXDメインアプリV1.10以降で対応。

</contents>