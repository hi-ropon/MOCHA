ファイル名: SCON2_FIELDNETOWORK(MJ0469-3A)_page396

<overview>
本ページはMECHATROLINK-Ⅲの基本通信に関する説明で構成されています。テキスト部分ではウォッチドッグデータの監視目的やコマンド制御の概要が記載されています。表部分ではコマンドフォーマットのビット割り当てが示されており、コマンドとレスポンスのビット構成が2つの表で説明されています。グラフや図はなく、主にテキストと表で構成された技術的な内容です。
</overview>

<contents>
### テキスト
#### ウォッチドッグデータ（WDT/RWDT）
通信が定期的に行われているかを監視するためのタイマーを設定します。  
監視は通信フェーズP3が確立後から行われるため、SCON2の標準I/Oプロファイルではウォッチドッグデータの監視および更新は必須ではありません。

#### コマンド制御/コマンドステータス（CMD_CTRL/CMD_STAT）
アラームやワーニングの解除指令および現在のコントローラーの状態をモニターします。

##### コマンド制御
コマンドフォーマット第2、3バイトのビット割り当てを示します。

- ALM_CLR（アラーム・ワーニングのクリア）  
  立ち上がりエッジ検出でアラームまたはワーニングの解除を指令します。  
  コントローラーの動作モードがAUTOの場合、通信を含むコントローラーに発生しているアラーム/ワーニング解除を指令します。  
  MANUの場合は通信に関連したアラーム/ワーニングのみ解除指令となります。

### 表
#### コマンドフォーマット第1バイト（WDT/RWDT）

| ビット7 | ビット6 | ビット5 | ビット4 | ビット3 | ビット2 | ビット1 | ビット0 |
| :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: |
| RWDTのビット7～4の値をコピーしてください | 通信周期ごとに1を加算してください |

（左側：コマンド）

| ビット7 | ビット6 | ビット5 | ビット4 | ビット3 | ビット2 | ビット1 | ビット0 |
| :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: |
| 常時0が表示されます | WDTのビット3～0の値が返信されます |

（右側：レスポンス）

#### コマンドフォーマット第2、3バイト（CMD_CTRL）

| ビット15～12 | ビット11～9 | ビット8 | ビット7 | ビット6 | ビット5 | ビット4 | ビット3 | ビット2 | ビット1 | ビット0 |
| :-----------: | :---------: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: | :-----: |
| 予約          | CMD_ID（未使用） | 予約    | ALM_CLR | 予約    |

（第3バイトが左側、第2バイトが右側に並ぶ形）

</contents>