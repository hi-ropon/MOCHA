ファイル名: SCON2_FIELDNETOWORK(MJ0469-3A)_page398

<overview>
本ページは「MECHATROLINK-Ⅲ 基本通信のフローおよびコマンド」に関する内容で構成されています。上部に通信アラームのビット情報を示した表があり、その下にコマンドデータおよびレスポンスデータの説明テキストが配置されています。表は通信異常の状態や内容、備考を詳細に示しており、テキスト部分はコマンドデータのバイトモード別の設定範囲について記述しています。グラフや図は含まれていません。
</overview>

<contents>
### 表
#### MECHATROLINK-Ⅲ 通信アラーム（COMM_ALM）

| ビット | 略称       | 名称         | 内容                                                                                         |
|--------|------------|--------------|----------------------------------------------------------------------------------------------|
| 12～15 | COMM_ALM   | 通信アラーム | 通信の異常を示す。CMD_CTRLのALM_CLRビットまたはALM_CLRコマンドで解除。                     |

| コード（ビット8～11） | 状態     | 内容           | 備考                                                                                         |
|-----------------------|----------|----------------|----------------------------------------------------------------------------------------------|
| 0H                    | 正常     | 正常           |                                                                                              |
| 1H                    | ワーニング | FCS異常        | 単発で通信異常が検出された場合に発生。通信フェーズ、およびサーボステータスは継続される。     |
| 2H                    | ワーニング | 指令データ未受信 |                                                                                              |
| 3H                    | ワーニング | 同期フレーム未受信 |                                                                                              |
| 8H                    | アラーム | FCS異常        | 指定回数連続して通信異常が検出された場合に発生。通信フェーズP3であれば通信フェーズP2へ遷移。 |
| 9H                    | アラーム | 指令データ未受信 |                                                                                              |
| AH                    | アラーム | 同期フレーム未受信 | アラームコード8～Aは上記1～3のワーニングを2回連続検出でアラームとなる。                     |
| BH                    | アラーム | 同期間隔異常   | アラームコードBおよびCは1回の検出でアラームとなる。                                        |
| CH                    | アラーム | WDT異常       | コントローラがAUTOモードの場合、サーボOFFしてブレーキをかける。                             |

---

### テキスト
#### コマンドデータ/レスポンスデータ（CMD_DATA/RSP_DATA）

運転に合わせて必要なコマンドを設定する。詳細は「7.1.2 コマンドフォーマット」を参照。

1. コマンドデータ
- 16バイトモードの場合：コマンドフォーマット第4～15バイト
- 32バイトモードの場合：コマンドフォーマット第4～31バイト
- 48バイトモードの場合：コマンドフォーマット第4～47バイト

2. レスポンスデータ
- 16バイトモードの場合：コマンドフォーマット第4～15バイト
- 32バイトモードの場合：コマンドフォーマット第4～31バイト
- 48バイトモードの場合：コマンドフォーマット第4～47バイト
</contents>