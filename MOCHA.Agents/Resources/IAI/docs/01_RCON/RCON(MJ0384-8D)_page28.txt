ファイル名: RCON(MJ0384-8D)_page28

<overview>
このページはシーケンスプログラム作成時の注意点について説明しています。  
構成は以下の通りです。  
- テキスト部分：シーケンスプログラム作成時のスキャンタイムの違いによる信号受渡しの注意点とタイマー設定の推奨値について詳細に解説。  
- 図部分：異なるスキャンタイムを持つ2つの装置間での信号受渡しの動作イメージを示すイラスト。  
- 表やグラフはなし。
</overview>

<contents>
### テキスト
#### 10. シーケンスプログラムの作成について
シーケンスプログラムを作成する際の注意点を説明しています。  
異なるスキャンタイムを持つ装置間でデータの受渡しを行う場合、信号の確実な読み取り処理には長いスキャンタイム以上の時間が必要です。  
PLC側で安全に読み取り処理を行うためには、最低でも長いスキャンタイムの2倍以上の値をタイマー設定することが推奨されています。

##### 動作イメージ
- 異なるスキャンタイムを持つ2つの装置間で信号の受渡しを行う場合、入出力のタイミングは合いません。  
- 本コントローラーの信号がONになっても、PLCがすぐに読み取る保証はありません。  
- PLC側では、スキャンタイムの長い方の時間以上経過した後に読み取るようにします。  
- タイマー設定の安全率はスキャンタイムの2～4倍以上を確保してください。  
- タイマーもスキャン処理中に処理されるため、スキャンタイム以下の設定は危険です。  
- 例として、本コントローラーが1msに1回出力処理を行っても、PLCは20msに1回しか認識できません。  
- PLCは20msに1回しか出力処理を行わないため、本コントローラーはその間ずっと同じ出力状態を認識しています。

また、相手装置が出力を書換えている最中に読み取りが行われると誤った信号を読み取る可能性があります。  
完全に書換えが終わるのを待って（2スキャン以上の時間を置いて）から読み取りを行う必要があります。  
出力側装置は相手が読み取りを完了するまで出力を変化させないようにしてください。  
入力部にはノイズ誤認識防止のため一定時間以上の信号でないと受付けない入力時定数が設定されており、この時間も加算する必要があります。

### 図
```mermaid
flowchart LR
    subgraph PLC [PLC (例: スキャンタイム 20ms)]
        direction TB
        A[入力処理] --> B[出力処理]
    end
    subgraph Controller [本コントローラー (スキャンタイム 1ms)]
        direction TB
        C[入力処理] --> D[出力処理]
    end
    Controller -- 信号受渡し --> PLC
```

**図の説明:**  
- 左側の大きなリングがPLCのスキャンサイクル（20ms）を示し、入力処理と出力処理のタイミングを表現。  
- 右側の小さなリングが本コントローラーのスキャンサイクル（1ms）を示す。  
- 矢印は信号の受渡しを示し、スキャンタイムの違いによるタイミングのずれを視覚的に表現している。
</contents>