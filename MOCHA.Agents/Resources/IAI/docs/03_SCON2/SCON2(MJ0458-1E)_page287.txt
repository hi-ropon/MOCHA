ファイル名: SCON2(MJ0458-1E)_page287

<overview>
本ページは「衝突検出機能」に関する説明で構成されています。テキスト部分では衝突判定距離と衝突判定時間の定義と設定方法について詳細に解説しています。図部分には、距離と時間の関係を示すグラフがあり、仮想位置、現在位置、仮想位置差分値、衝突判定距離、衝突検出のタイミングを視覚的に表現しています。表はありません。
</overview>

<contents>
### テキスト
#### 衝突判定距離
衝突判定距離は現在位置と仮想位置の差分（仮想位置差分値）の絶対値と比較し、仮想位置差分値が衝突判定距離より大きい場合に衝突検出と判定されます。判定距離が「0」の場合は判定無効となり、0より大きい値が設定されていると判定有効です。非衝突検出時でも仮想位置差分が存在するため、距離判定のみの衝突検出では誤検出の可能性があります。判定電流値を同時に設定することで誤検出防止が可能です。判定値に同時に「0」を設定するとエラーNo.0A1「パラメータデータ異常」となります。

#### 衝突判定時間
衝突判定時間は、衝突判定電流値および衝突判定距離を超えてから衝突と判定するまでの時間設定です。判定値以上ならアップカウント、未満ならダウンカウントし、カウンターが判定時間を超えると衝突検出と判定します。両方の判定値が設定されている場合は両方の判定値を超えてからアップカウントされます。判定時間は1～65535msの範囲で設定し、範囲外の値はエラーNo.0A1「パラメータデータ異常」となります。

### 図
```mermaid
flowchart LR
    A[移動開始] --> B[カウント開始]
    B -->|5ms| C[衝突検出]
    C --> D[反転動作中]

    subgraph グラフ軸
        direction TB
        E[距離 (mm)]
        F[時間 (ms)]
    end

    仮想位置 -->|増加| 仮想位置差分値
    現在位置 -->|増加後減少| 仮想位置差分値
    仮想位置差分値 -->|絶対値比較| 衝突判定距離
```

**図の説明:**
- 横軸は時間（ms）、縦軸は距離（mm）を示す。
- 「移動開始」から「カウント開始」までの時間経過を示し、5ms後に衝突検出が行われる。
- 仮想位置は一定の傾きで増加し、現在位置は増加後に減少する。
- 仮想位置と現在位置の差分（仮想位置差分値）を絶対値で衝突判定距離と比較し、判定距離を超えた時点で衝突が発生する。
- 衝突検出後は反転動作中の状態となる。
</contents>