ファイル名: RSEL(MJ0392-4M)_page309

<overview>
このページは「SELプログラムを使用した制御」に関する説明で構成されています。  
主に以下のセクションで構成されています。  
・テキスト部分：SELプログラムによる制御の動作イメージと動作説明  
・図部分：SELプログラムの動作フローを示す図（EC接続ユニット、エレシリンダー、信号の流れ）  
・表部分はなく、数値や命令コードはテキスト内に記載されています。  
</overview>

<contents>
### テキスト
#### SELプログラムを使用した制御

【動作イメージ】  
1. SELプログラムによりEC接続ユニットに移動指令信号を入力する（前進または後退）  
2. EC接続ユニットから移動指令信号を各エレシリンダーに入力する  
3. エレシリンダーが動作する  
4. エレシリンダーから位置検出信号が出力される（前進端または後退端）  
5. EC接続ユニットから位置検出信号がSELプログラムに出力される  

エレシリンダーは、移動指令信号（ST0/ST1）をONしている間、動作を継続し、動作完了後に位置検出信号（LS0/LS1）をONする。  
動作完了前に移動指令信号をOFFにすると動作を中断し、減速停止する。原点復帰動作も同様。  

※XSELパソコン専用ティーチングソフトからプログラムを起動して動かす場合は、「EC I/O指令許可」に設定する必要がある。設定方法は別章を参照。

### 図
```mermaid
flowchart LR
    A[SELプログラム] -->|① 前進指令 or 後退指令| B[EC接続ユニット]
    B -->|② 前進指令 or 後退指令| C[エレシリンダー]
    C -->|③ 動作| C
    C -->|④ 前進端検出 or 後退端検出| B
    B -->|⑤ 前進端検出 or 後退端検出| A

    subgraph SELプログラム内信号例
        direction TB
        BTOF_397[前進指令オフ]
        BTON_396[後退指令オン]
        WTON_96[後退端検出待ち]
        BTOF_396[後退指令オフ]
        BTON_397[前進指令オン]
        WTON_97[前進端検出待ち]
    end
```

**図の説明:**  
- 青色矢印は移動指令信号（前進指令 or 後退指令）の流れを示す。  
- 赤色矢印は位置検出信号（前進端検出 or 後退端検出）の流れを示す。  
- SELプログラム内では、BTOF、BTON、WTON命令を用いて指令のON/OFFや検出待ちを制御している。  
- EC接続ユニットが信号の中継役を担い、エレシリンダーの動作と位置検出を管理している。  
</contents>