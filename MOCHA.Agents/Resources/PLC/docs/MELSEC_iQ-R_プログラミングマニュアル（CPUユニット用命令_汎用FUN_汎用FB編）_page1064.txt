ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1064

<overview>
このページは「データベースロールバック(DBROLBAK)」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、使用不可CPU、実行内容の説明、実行条件の説明
- 図部分：ラダー回路図、FBD/LDの命令ブロック図
- 表部分：実行条件の命令一覧表、設定データの内容・範囲・データ型の表、使用可能デバイスの一覧表
グラフは含まれていません。
</overview>

<contents>
### テキスト
#### データベースロールバック(DBROLBAK)
指定した識別番号に対するデータベースのロールバックを実行する命令です。  
使用できないCPUはR00CPU、R01CPU、R02CPUです。

#### 実行条件
- DBROLBAK命令は立下りエッジで実行されます。
- DBROLBAKP命令は立上りエッジで実行されます。

### 図
#### ラダー回路図
- ラダー図では、(s)、(d1)、(d2)の3つのオペランドを持つ命令が示されています。
- ST言語では、`ENO:=DBROLBAK(EN,s,d1,d2);` または `ENO:=DBROLBAKP(EN,s,d1,d2);` と記述します。

#### FBD/LD命令ブロック図
- ブロックにはEN（実行条件入力）、s（識別番号）、d1、d2の入力端子と、ENO（実行結果出力）端子があります。

### 表
#### 実行条件
| 命令       | 実行条件               |
|------------|------------------------|
| DBROLBAK   | 立下りエッジ           |
| DBROLBAKP  | 立上りエッジ           |

#### 設定データ：内容、範囲、データ型
| オペランド | 内容                                   | 範囲 | データ型           | データ型(ラベル)      |
|------------|--------------------------------------|------|--------------------|-----------------------|
| (s)        | データベース識別番号                 | 1～4 | 符号付きBIN16ビット | ANY16                 |
| (d1)       | 完了デバイス（命令完了で1スキャンONする先頭デバイス）<br>・(d1)+0:完了信号<br>・(d1)+1:異常完了信号 | —    | ビット             | ANYBIT_ARRAY(要素数:2) |
| (d2)       | 完了ステータス<br>・0000:正常完了<br>・0000以外:異常完了(エラーコード) | —    | ワード             | ANY16                 |
| EN         | 実行条件                             | —    | ビット             | BOOL                  |
| ENO        | 実行結果                             | —    | ビット             | BOOL                  |

#### 使用可能デバイス
| オペランド | ビット                                     | ワード                                               | ダブルワード | 間接指定 | 定数 | その他 |
|------------|--------------------------------------------|------------------------------------------------------|--------------|----------|------|--------|
| (s)        | —                                          | ○ (T, ST, C, D, W, SD, SW, FD, R, ZR, RD)           | —            | —        | ○    | —      |
| (d1)       | ○ (X, Y, M, L, SM, F, B, SB, FX, FY)       | —                                                    | —            | —        | —    | —      |
| (d2)       | —                                          | ○ (T, ST, C, D, W, SD, SW, FD, R, ZR, RD)           | —            | —        | —    | —      |

### ポイント
- (s)はデータベース識別番号で1～4の範囲。
- (d1)は完了信号と異常完了信号の2要素を持つビット配列。
- (d2)は完了ステータスを示し、正常完了は0000、異常完了はエラーコードとして0000以外の値を持つ。
- ENは命令の実行条件、ENOは実行結果のビット信号。
</contents>