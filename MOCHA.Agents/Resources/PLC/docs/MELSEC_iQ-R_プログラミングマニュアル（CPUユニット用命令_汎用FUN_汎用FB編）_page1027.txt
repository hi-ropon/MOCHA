ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1027

<overview>
本ページは、CPUユニット内蔵データベースアクセス機能の一部である「DBIMPORT(P)命令」について説明しています。ページ構成は以下の通りです。
- テキスト部分：DBIMPORT(P)命令の機能説明、動作条件、注意事項などの詳細な解説。
- 表部分：使用可能なデバイスの種類と対応状況を示した表。
- 図（グラフ）部分：DBIMPORT(P)命令実行時の完了デバイスの動作タイミングを示すタイムチャート。
</overview>

<contents>
### テキスト
#### DBIMPORT(P)命令の機能
- 指定したUnicodeテキストファイルからデータを取り込み、データベースを構築する命令。
- 使用するUnicodeテキストファイルは、あらかじめテーブル構成などを定義しておく必要がある。
- 他にオープン中のデータベースがある場合、命令実行は異常完了する。
- 正常完了すると、完了デバイス(d1)+0がONになり、(d2)の完了ステータスに0が格納される。

#### DBIMPORT(P)命令実行時の完了デバイス動作
- 命令実行中はSM753（ファイルアクセス中）がONになる。
- SM753がON中はDBIMPORT(P)命令は実行不可で、実行しても無処理となる。
- データベースアクセス命令実行中の場合は異常完了となる。
- CPUユニットのユニットパラメータで「内蔵データベースアクセス使用有無」を“使用する”に設定していない場合、命令は無処理となる。
- SM1498（CPUユニット内蔵データベース起動完了フラグ）がOFFの間も命令は実行不可。

#### 注意事項
- Unicodeテキストファイル名と同じパスに同名のデータベースが存在した場合、SDメモリカード内の同名データベースフォルダを削除し、新規作成する。

### 表
#### 使用可能デバイス一覧
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s) | - | ○（T,ST,C,D,W,SD,SW,FD,R,ZR,RD） | - | - | ○ | - |
| (d1) | ○ | ○（T,ST,C,D,W,SD,SW,FD,R,ZR,RD） | - | - | ○ | - |
| (d2) | - | ○（T,ST,C,D,W,SD,SW,FD,R,ZR,RD） | - | - | ○ | - |

- ビットデバイスはX,Y,M,L,SM,F,B,SB,FX,FYに対応。
- ワードデバイスはT,ST,C,D,W,SD,SW,FD,R,ZR,RDに対応。
- 間接指定はLT,LST,LZに対応。
- 定数はK,H,E,$に対応。

### 図（タイムチャート）
- DBIMPORT(P)命令実行開始から完了までの動作を示す。
- プログラム開始後、DBIMPORT(P)命令が実行されると完了デバイス(d1)と(d1)+1がOFFからONに変わる。
- データベースへのインポート処理が行われる。
- 正常完了または異常完了時に完了デバイスがONのまま維持される。
- END処理により完了デバイスはOFFに戻る。
</contents>