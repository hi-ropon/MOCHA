ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1373

<overview>
このページは「REAL型→STRING型変換」についての説明で構成されています。  
主にテキスト部分で関数の概要、使用可能なCPU、ラダーやST言語での使用例、引数の説明があり、  
表形式で引数の内容・種別・データ型が示されています。  
また、機能説明としてREAL型データをSTRING型（指数型式）に変換する演算処理の説明があり、  
図でREAL型データのビット構成と変換後のSTRING型データのバイト構成が示されています。  
表や図は変換の具体的なデータ構造を言語化して説明しています。
</overview>

<contents>
### テキスト
#### 32.43 REAL型→STRING型変換
REAL_TO_STRING(_E)関数は、REAL型データをSTRING型（指数型式）データへ変換します。  
対応CPUはRnCPU、RnECPU（プロセス、三重化、一般、安全）で、  
ラダーやFBD/LD、ST言語で使用可能です。  

ラダー/FBD/LDではEN/ENO付き・なしの2種類のブロックがあり、  
ST言語では以下のように記述します。  
- EN/ENOなし: d:=REAL_TO_STRING(s);  
- EN/ENO付き: d:=REAL_TO_STRING_E(EN,ENO,s);

#### 設定データ
| 引数 | 内容 | 種別 | データ型 |
| --- | --- | --- | --- |
| EN | 実行条件(TRUE:実行、FALSE:停止) | 入力変数 | BOOL |
| s(IN) | 入力 | 入力変数 | REAL |
| ENO | 出力状態(TRUE:正常、FALSE:異常) | 出力変数 | BOOL |
| d | 出力 | 出力変数 | STRING(13) |

### 機能
#### 演算処理
入力されたREAL型データ(s)をSTRING型（指数型式）のデータに変換し、出力(d)します。

### 図（REAL→STRING変換のデータ構造）
- REAL型は符号部（整数部）と符号（指数部）に分かれ、符号（指数部）は自動的に付加されます。  
- 変換後のSTRING型は上位バイトと下位バイトに分かれ、13バイトのASCIIコードで構成されます。  

| バイト位置 | 内容 |
| --- | --- |
| 0 | 20H（スペース） |
| 1 | 符号のアスキーコード（整数部） |
| 2 | 整数部のアスキーコード（小数点第一位） |
| 3 | 小数点第二位のアスキーコード |
| 4 | 小数点第四位のアスキーコード |
| 5 | 小数点第三位のアスキーコード |
| 6 | 小数点第五位のアスキーコード |
| 7 | 45H（E） |
| 8 | 指数部十の位のアスキーコード |
| 9 | 符号のアスキーコード（指数部） |
| 10 | 指数部一の位のアスキーコード |
| 11 | （未記載、図では00H） |
| 12 | （未記載、図では00H） |

※SM701 OFF時のみ00Hが格納されます。

この構造により、REAL型の数値を指数表記の文字列として扱うことが可能です。
</contents>