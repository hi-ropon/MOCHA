ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1584

<overview>
本ページは「付4 PID演算プログラム例」と題されており、PID演算命令を用いたプログラム例のシステム構成、制御データの設定値、及び出力値の動作について説明しています。構成は以下の通りです。
- テキスト部分：PID演算プログラム例の概要説明、制御指令の説明
- 図部分：CPUユニットとセンサ、制御対象の接続構成図、出力値の動作を示すタイムチャート（PID制御時とオートチューニング時）
- 表部分：オートチューニング中とPID制御中の制御用データの設定値比較表
</overview>

<contents>
### テキスト
#### 付4 PID演算プログラム例
PID演算命令を使用したPID演算プログラムの例を示しています。プログラム例のシステム構成はCPUユニット内のPID演算部と、A/D変換ユニット、D/A変換ユニット、センサ、制御対象から構成されています。

- X2: オートチューニング指令
- X3: PID制御指令
- Y20: エラー表示
- Y21: ヒータ出力

#### 出力値の動作
- PID制御時の出力は、1ms単位でON/OFFを繰り返し、2000ms周期で制御される。
- オートチューニング時は最大出力90%の場合、ON時間が1800ms、OFF時間が200ms程度となり、2000ms周期で制御される。

### 図
- システム構成図：CPUユニット内のPID演算部からPV（プロセス変数）がA/D変換ユニットを経てセンサに入力され、MV（操作変数）がD/A変換ユニットを経て制御対象に出力される構成を示す。
- 出力値の動作タイムチャート：
  - PID制御時：OFFからONに切り替わり、1ms単位でONが繰り返され、2000msごとに周期がある。
  - オートチューニング時（最大出力90%の場合）：ON時間が1800ms、OFF時間が200ms程度で2000ms周期の制御。

### 表
#### 制御用データの設定値比較

| 項目               | オートチューニング中       | PID制御中           |
|--------------------|----------------------------|---------------------|
| 目標値 (s1)        | 500(+50℃)                  | 500(+50℃)           |
| サンプリングタイム(Ts) (s3) | 3000ms                     | 500ms               |
| 入力フィルタ(α) (s3)+2 | 70%                        | 70%                 |
| 微分ゲイン(KD) (s3)+5 | 0%                         | 0%                  |
| 出力値上限 (s3)+22  | 2000(2秒)                  | 2000(2秒)           |
| 出力値下限 (s3)+23  | 0                          | 0                   |
| 動作設定(ACT) 入力変化量警報 (s3)+1 ビット1 | なし                       | なし                |
| 動作設定(ACT) 出力変化量警報 (s3)+1 ビット2 | なし                       | なし                |
| 動作設定(ACT) 出力値上下限設定 (s3)+1 ビット5 | あり                       | あり                |
| 出力値 (d)         | 1800                       | 演算による           |
</contents>