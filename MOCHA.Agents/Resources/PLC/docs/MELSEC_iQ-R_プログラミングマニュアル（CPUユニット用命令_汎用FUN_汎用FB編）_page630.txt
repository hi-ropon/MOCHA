ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page630

<overview>
本ページは「データメモリへのデータライト」命令（SP.DEVST）についての説明で構成されています。  
テキスト部分では命令の概要、実行条件、設定データの内容・範囲・データ型について詳細に記載されています。  
表部分ではオペランドごとの内容説明や使用可能なデバイスの種類と対応関係が示されています。  
図部分はラダー回路、FBD/LD回路の命令ブロック形状を示し、命令の構造を視覚的に説明しています。
</overview>

<contents>
### テキスト
#### データメモリへのデータライト（SP.DEVST）
指定した点数のデバイスデータを、データメモリ上のデバイスデータ格納用ファイルに書き込みます。

- **ラダー形式**  
  ENO:=SP_DEVST(EN,s1,s2,n,d);

- **FBD/LD形式**  
  EN（入力）、s1、s2、n（入力）、d（出力）、ENO（出力）を持つ命令ブロック。

#### ■実行条件
- 命令：SP.DEVST  
- 実行条件は立ち上がりエッジ（↑）で実行される。

#### ■設定データ
##### 内容、範囲、データ型

| オペランド | 内容 | 範囲 | データ型 | データ型（ラベル） |
| --- | --- | --- | --- | --- |
| (s1) | デバイスデータ格納用ファイルの書き込みオフセット（1点16ビット単位で指定） | 0～524287 | 符号なしBIN32ビット | ANY32 |
| (s2) | 書き込む先頭デバイス | ― | ワード | ANY16*1 |
| (n) | 書き込み点数 | 1～65535 | 符号なしBIN16ビット | ANY16 |
| (d) | (d):完了デバイス、(d)+1:異常完了デバイス | ― | ビット | ANYBIT_ARRAY（要素数:2） |
| EN | 実行条件 | ― | ビット | BOOL |
| ENO | 実行結果 | ― | ビット | BOOL |

*注1：ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定すること。

#### ■使用可能デバイス
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| --- | --- | --- | --- | --- | --- | --- |
| (s1) | ― | ○ | ― | ○ | ○ | ― | ― |
| (s2) | ― | ― | ― | ― | ○ | ― | ― |
| (n) | ○ | ― | ○ | ― | ○ | ― | ― |
| (d) | ― | ― | ― | ○ | ― | ― | ― |

- ビットデバイス例：X, Y, M, L, SM, F, B, SB, FX, FY  
- ワードデバイス例：T, ST, C, D, W, SD, SW, FD, R, ZR, RD  
- ダブルワードデバイス例：Z, LT, LST, LZ, LC  
- 間接指定例：J口, U口, U3E口, J口￥口, U口￥口, (H)G口  
- 定数例：K, H, E, $  

### 図
- ラダー図：SP.DEVST命令のパラメータ（s1, s2, n, d）を示すブロック図。  
- FBD/LD図：EN, ENO, s1, s2, n, dの入出力ポートを持つ命令ブロックの形状。

### 表
- 命令の実行条件を示す表（SP.DEVST命令は立ち上がりエッジで実行）。  
- オペランドごとの内容、範囲、データ型の詳細表。  
- 使用可能なデバイス種別とオペランドの対応表。

</contents>