ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1263

<overview>
本ページは、M(P).DRRD命令の動作概要の説明、命令実行の流れを示す図、命令の完了状態の確認方法、命令で使用するブロック数の決定方法、及びエラーコード一覧で構成されています。構成は以下の通りです。
- テキスト部分：命令の動作概要、完了デバイスの状態確認方法、ブロック数の決定方法、注意事項などの説明。
- 図部分：シーケンススキャンにおける命令実行のタイミングと信号の流れを示すタイムチャート。
- 表部分：エラーコードとその内容をまとめた2つの表。
グラフは含まれていません。
</overview>

<contents>
### テキスト
#### M(P).DRRD命令の動作概要
- シーケンススキャン中に命令が実行されると、他号機CPUユニットに要求信号を送信し、受付処理を行う。
- 他号機CPUユニットから応答信号が返されると、完了デバイス(d2)のON/OFFが制御される。
- 命令の完了状態は完了デバイス(d2)および状態表示デバイス(d2)+1で確認可能。
- 正常完了時はOFFのまま変化せず、異常完了時はエラーコードをステータス(s1)+0に格納する。
- 命令で使用するブロック数は読出しデータ点数により決定される。
- システムエリアに空きブロックがない場合は異常完了となるため、SD796～SD799をインタロックとして使用可能。

#### 注意事項
- 他号機CPUユニットアクセス命令の詳細は1257ページ参照。
- CPU間通信を使用しない設定での実行も可能。

### 図
#### M(P).DRRD命令の動作タイムチャート
- シーケンススキャンの命令実行タイミングに合わせて、要求信号が他号機CPUユニットに送られる。
- 他号機CPUユニットは受付処理を行い、応答信号を返す。
- 応答信号を受けて完了デバイス(d2)がONになり、1スキャン後にOFFになる。
- この一連の流れで命令の実行完了を示す。

### 表
#### エラーコード(SD0)
| エラーコード | 内容 |
| :--- | :--- |
| 2800H | 指定した他号機CPUユニットの先頭入出力番号(16進数4桁の上3桁)が3E0H～3E3Hの範囲外のとき。 |
| 2801H | 指定した他号機CPUユニットが誤っている。予約設定されている号機や未装着号機を指定した場合。 |
| 2802H | 他号機CPUユニットがD(P).DRRD命令、M(P).DRRD命令をサポートしていない。 |
| 2803H | 指定した他号機CPUユニットに自身のCPUユニットを指定したとき。 |
| 2810H | 指定した他号機CPUユニットに命令を実行できないCPUユニットを指定したとき。 |
| 3404H | デバイスを指定する文字列が誤っているとき。 |
| 3405H | 読出しデータ点数(s1)+1が0～8192以外である。 |
| 3440H | CPU間定周期通信を使用しない設定でD(P).DRRD命令を実行した。 |
| 3441H | 各号機で使用可能なシステムエリアサイズを超えるデータ点数を指定した。 |

※注記：2台のCPUユニットによるマルチCPUシステム構成時の最大設定範囲。システム構成により読出し可能なデータ点数は変わり、8192点以下となる場合あり。

#### エラーコード((s1)+0)
| エラーコード | 内容 |
| :--- | :--- |
| 0010H | 対象先CPUユニットへの命令要求が許容値以上（システムエリアに空きブロックがない）。 |
| 1001H | (s2)で指定した他号機CPUユニットのデバイスが他号機CPUユニットで使用できないデバイス、またはデバイス範囲外。 |
| 1081H | D(P).DRRD命令、M(P).DRRD命令で設定した読出しデータ点数が0である。 |
</contents>