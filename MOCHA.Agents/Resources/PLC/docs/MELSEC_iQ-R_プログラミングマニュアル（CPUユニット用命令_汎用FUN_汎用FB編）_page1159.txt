ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1159

<overview>
本ページは「24.2 ソケット通信命令」の説明で構成されており、主にテキスト説明、ラダー図およびFBD/LD図の命令構造、実行条件の表、設定データの詳細な表で構成されています。テキスト部分では命令の概要と動作説明があり、図部分では命令のラダーおよびFBD/LDでの表現が示されています。表部分では命令のオペランドの内容、範囲、データ型、使用可能デバイスの詳細が記載されています。
</overview>

<contents>
### テキスト
#### 24.2 ソケット通信命令
受信データのEND処理時に読み出す命令「SP.SOCRCV」について説明しています。  
命令実行後のEND処理にて、指定したコネクションの受信データをソケット通信受信データエリアから読み出します。

### 図
#### ラダー図
- 命令はラダー図で「SP.SOCRCV(U)(s1)(s2)(d1)(d2)」の形で表現されており、U、s1、s2、d1、d2がオペランドとして指定されます。

#### FBD/LD図
- ブロック図でEN（実行条件）、ENO（実行結果）、U、s1、s2、d1、d2の各入力・出力が示されています。

### 表
#### 実行条件
| 命令       | 実行条件 |
|------------|----------|
| SP.SOCRCV  | ↑        |

#### 設定データ
##### 内容、範囲、データ型

| オペランド | 内容                         | 範囲          | データ型           | データ型(ラベル)         |
|------------|------------------------------|---------------|--------------------|--------------------------|
| (U)        | ダミー                       | －            | 文字列             | ANYSTRING_SINGLE         |
| (s1)       | コネクション番号             | 1～16         | 符号付きBIN16ビット | ANY16                    |
| (s2)       | コントロールデータを格納する先頭デバイス | コントロールデータ参照 | ワード               | ANY16_ARRAY (要素数:2)   |
| (d1)       | 受信データを格納する先頭デバイス | －            | ワード             | ANY16*1                  |
| (d2)       | 命令完了にて1スキャンONするデバイス 異常完了時は(d2)+1もONします。 | －            | ビット               | ANYBIT_ARRAY (要素数:2)  |
| EN         | 実行条件                     | －            | ビット             | BOOL                     |
| ENO        | 実行結果                     | －            | ビット             | BOOL                     |

*1 ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定する必要があります。

#### 使用可能デバイス

| オペランド | ビット                             | ワード                                     | ダブルワード | 間接指定 | 定数 | その他 (U) |
|------------|----------------------------------|--------------------------------------------|--------------|----------|------|------------|
| (U)        | －                               | ○ (T, ST, C, D, W, SD, SW, FD, R, ZR, RD) | －            | －        | ○    | ○          |
| (s1)       | －                               | ○                                          | －            | －        | ○    | －          |
| (s2)       | －                               | ○                                          | －            | －        | －    | －          |
| (d1)       | －                               | －                                          | －            | ○        | －    | －          |
| (d2)       | ○                               | －                                          | －            | ○        | －    | －          |

### 補足
- (d2)のデバイスは命令完了時に1スキャンONし、異常完了時は(d2)+1もONする仕様です。
- 各オペランドのデータ型や使用可能デバイスの詳細な指定により、命令の正確な設定が可能です。
</contents>