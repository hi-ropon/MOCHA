ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1166

<overview>
本ページは、SP.SOCSND命令を使用した受信処理のタイミングに関する説明で構成されています。ページ上部にタイミングを示す図（シーケンスチャート）があり、下部にエラーコードの説明を含む表が配置されています。テキストは命令の動作説明とエラー発生時の動作について記載されています。
</overview>

<contents>
### テキスト
#### SP.SOCSND命令の受信処理タイミング
SP.SOCSND命令を使用した受信処理のタイミングは、オープン処理完了信号のON/OFF、シーケンススキャンの進行、命令実行、完了デバイスのON/OFF、完了時の状態表示デバイスのON/OFFの流れで示されています。完了デバイスがONになった後も送信が続く場合があるため、送信完了の確認が必要な場合は受信側で完了を確認することが推奨されています。

### 図（シーケンスチャート）
- オープン完了信号(SD1504.n)がOFFからONに変わり、オープン処理が開始される。
- シーケンススキャンは0からENDまで繰り返される。
- SP.SOCSND命令は命令実行のタイミングで動作し、完了デバイス(d)がOFFからONに変わる。
- 完了時の状態表示デバイス(d)+1も同様にOFFからONになる。
- データ送信が行われ、TCPの場合はACKが返される。
- 正常完了時は1スキャンの間、完了デバイスと状態表示デバイスがONのまま維持される。
- 異常完了時は早期にOFFになる。

### 表（エラーコード）
| エラーコード(SD0) | 内容                                      |
|-------------------|-------------------------------------------|
| 3405H             | (s1)で指定するコネクション番号が1～16以外のとき。 |

#### エラー発生時の動作
異常完了時は、完了時の状態表示デバイス(d)+1がONになり、完了ステータス(s2)+1にエラーコードが格納されます。完了ステータスに格納されるエラーコードの詳細は、MELSEC iQ-R Ethernetユーザーズマニュアル（応用編）を参照してください。
</contents>