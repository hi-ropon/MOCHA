ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page561

<overview>
本ページは「7.2 プログラム実行制御命令」に関する内容で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、機能説明、実行条件の詳細解説
- 図部分：ラダー図、FBD/LD図、シーケンスプログラムと割込みプログラムの関係を示す図
- 表部分：命令と実行条件の対応表
グラフは含まれていません。
</overview>

<contents>
### テキスト
#### 7.2 プログラム実行制御命令 割込禁止，割込許可
本命令はDI（割込み禁止）とEI（割込み許可）の2つの命令からなり、割込みプログラムの実行制御を行います。

- **DI**: 割込みプログラムの実行を禁止します。
- **EI**: 割込み禁止状態を解除し、割込みプログラムの実行を許可します。

##### 実行条件
| 命令 | 実行条件 |
| :--- | :--- |
| DI | 常時実行 |
| EI | 常時実行 |

##### 機能詳細
- **DI命令**
  - 割込みプログラムの起動要因が発生しても、EI命令が実行されるまで割込みプログラムの実行を禁止します。
  - 電源投入時やCPUユニットリセット時はDI命令が実行された状態になります。
  - DI命令は割込みプログラム中では実行できず、実行した場合は無処理となります。
  - DI命令の動作詳細は別途563ページを参照。

- **EI命令**
  - DI命令実行時の割込み禁止状態を解除し、IMASK命令により許可された割込みポインタ番号の割込みプログラムを実行可能状態にします。
  - IMASK命令非実行時は、I32～I43が割込み禁止となります。
  - EI命令の動作詳細は別途563ページを参照。

### 図
- **ラダー図**  
  DI命令、EI命令のラダー表現が示されています。  
  例：  
  ```
  ┌───┐
  │DI │
  └───┘
  ```
- **FBD/LD図**  
  DI命令、EI命令のFBD/LD表現が示されています。  
  例：  
  ```
  ┌─────┐
  │ EN  │
  │ DI   │
  │ ENO │
  └─────┘
  ```
- **シーケンスプログラムと割込みプログラムの関係図**  
  DI～EI命令間の割込み禁止状態の動作を示す図。  
  - A: シーケンスプログラム  
  - B: 割込みプログラム  
  - DI命令実行後、EI命令実行まで割込みプログラムは待たされることを表現。

</contents>