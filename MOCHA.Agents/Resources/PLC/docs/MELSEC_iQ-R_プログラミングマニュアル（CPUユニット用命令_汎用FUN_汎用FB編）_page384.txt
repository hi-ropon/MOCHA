ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page384

<overview>
本ページは「WSFL(P)」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、使用可能なCPUバージョン、動作説明、注意事項など。
- 図部分：ラダー図、ST（構造化テキスト）記述例、FBD/LD（ファンクションブロック図/ラダーダイアグラム）での表現。
- 表部分：実行条件、設定データ（内容・範囲・データ型）、使用可能デバイスの詳細を示す表。
グラフ部分は含まれていません。
</overview>

<contents>
### テキスト
#### WSFL(P)命令概要
- R00CPU、R01CPU、R02CPUはバージョンによる制約なし。
- RnCPU（R00CPU、R01CPU、R02CPU除く）、RnENCPUはファームウェアバージョン17以降で使用可能。
- エンジニアリングツールはバージョン1.020W以降で使用可能。
- 指定したデバイスから(n1)ワード分のデータ範囲内で、左へ(n2)ワード分シフトし、シフト後の空きデータには指定データを格納する。

### 図
#### ラダー図
- 横線上に(s)、(d)、(n1)、(n2)の入力があり、命令ボックスが配置されている。

#### ST（構造化テキスト）
- ENO:=WSFL(EN,s,n1,n2,d);
- ENO:=WSFLP(EN,s,n1,n2,d);

#### FBD/LD
- EN、s、n1、n2が入力、ENOとdが出力のブロック図。

### 表
#### 実行条件
| 命令   | 実行条件の波形 |
|--------|----------------|
| WSFL   | 立ち下がりエッジ |
| WSFLP  | 立ち上がりエッジ |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容                             | 範囲       | データ型           | データ型(ラベル) |
|------------|--------------------------------|------------|--------------------|------------------|
| (s)        | シフト後の空きデータに格納する先頭デバイス | —          | 符号なしBIN16ビット | ANY16            |
| (d)        | シフトする先頭デバイス           | —          | ワード             | ANY16            |
| (n1)*1     | シフトするデータの数             | 0〜65535   | 符号なしBIN16ビット | ANY16_U          |
| (n2)*1     | シフト数                       | 0〜65535   | 符号なしBIN16ビット | ANY16_U          |
| EN         | 実行条件                       | —          | ビット             | BOOL             |
| ENO        | 実行結果                       | —          | ビット             | BOOL             |

*1 (n2) ≤ (n1)となるように設定する必要あり。

#### 使用可能デバイス
| オペランド | ビット                             | ワード                             | ダブルワード | 間接指定 | 定数 | その他 |
|------------|----------------------------------|----------------------------------|--------------|----------|------|--------|
| (s)        | ○*1                              | —                                | ○            | —        | —    | ○      | ○      | — | — | — |
| (d)        | ○*1                              | —                                | ○            | —        | —    | —      | —      | — | — | — |
| (n1)       | ○*1                              | ○                                | ○            | ○        | —    | —      | ○      | — | — | — |
| (n2)       | ○*1                              | ○                                | ○            | ○        | ○    | —      | —      | — | — | — |

*1 FX、FYは使用不可。

---

以上がWSFL(P)命令の詳細説明です。指定デバイスのワードデータを左方向に指定ワード数シフトし、空いた部分に指定データを格納する動作を行います。実行条件は立ち下がりまたは立ち上がりエッジで、使用可能なデバイスやデータ型の制限も明示されています。
</contents>