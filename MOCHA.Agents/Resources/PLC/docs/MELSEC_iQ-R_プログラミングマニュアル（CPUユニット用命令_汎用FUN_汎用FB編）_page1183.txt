ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1183

<overview>
本ページは主にテキストで構成されており、エラーコードの説明と注意事項が記載されています。表はエラーコードと内容の対応表が1つあり、グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### エラー
- エラーコード(SD0)「3405H」の内容は「(s1)が1～16以外のとき」。
- 異常完了時は、完了時の状態表示デバイス(d)+1がONになり、完了ステータス(s3)+1にエラーコードが格納される。
- 完了ステータス(s3)+1に格納されるエラーコードの詳細は「MELSEC iQ-R Ethernetユーザーズマニュアル(応用編)」を参照。

#### 注意事項
- 複数のプロトコルを実行する場合、m番目のプロトコルでエラーが発生すると、m+1番目以降のプロトコルは実行されず命令が異常完了する。
- 変換なし変数を含むプロトコルを実行する場合、1パケット中の変数データ長合計が1920バイトを超えると、数スキャンにわたりCPUデバイス値を取得する可能性があるため、命令起動時から実行完了まで変換なし変数に指定したCPUデバイス値を変更しないこと。
- プロトコルキャンセルについて
  - SP.ECPRTCL命令は異常完了し、(s3)+1の完了ステータスにプロトコルキャンセル要求エラー(C404H)を格納。
  - 実行中のプロトコルがない状態でキャンセル要求をセットするとCPUユニットは無処理でキャンセル完了。
  - 通信プロトコルを使用しない場合、キャンセル要求をセットしても無処理。
  - 複数のプロトコルを連続実行する場合、n番目のプロトコル実行中にキャンセル要求されるとCPUユニットはn番目のプロトコルを強制終了し、m+1番目以降のプロトコルは実行しない。
  - 実行結果(s3)+0に実行中のプロトコル番号を、完了ステータス(s3)+1にプロトコルキャンセル要求エラー(C404H)を格納。
  - CPUユニットはキャンセル要求があるたび定期処理で確認し、キャンセル要求指示からキャンセル処理が行われるまで時間がかかる場合あり。

- SP.ECPRTCL命令単体ではコネクションのオープン/クローズを行わないため、SP.SOCOPEN/SP.SOCCLOSE命令によるコネクションのオープン/クローズ処理が必要。
  - 参照：1154ページ SP.SOCOPEN、1157ページ SP.SOCCLOSE

- 同一コネクションに対して同一命令を実行した場合、先に実行中の命令が完了するまで後の命令は無視され実行されない。

- 受信待ち時間を「0:無限待ち」に設定している場合、プロトコル設定で指定しているデータが受信されるまでSP.ECPRTCL命令は完了しない。

### 表
| エラーコード(SD0) | 内容               |
|-------------------|--------------------|
| 3405H             | (s1)が1～16以外のとき。 |

</contents>