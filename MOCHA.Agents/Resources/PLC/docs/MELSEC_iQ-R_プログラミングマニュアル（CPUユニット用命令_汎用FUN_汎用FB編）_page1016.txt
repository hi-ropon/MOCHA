ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1016

<overview>
このページは「使用可能デバイス」に関する説明で構成されています。上部にオペランドごとの使用可能なビット、ワード、ダブルワード、間接指定、定数、その他のデバイスの対応表（表形式）があり、その下に各種機能の詳細説明（テキスト形式）が記載されています。グラフや図はなく、表とテキストのみで構成されています。
</overview>

<contents>
### 表
#### 使用可能デバイス一覧
オペランドごとに使用可能なデバイスの種類を示した表です。

| オペランド | ビット (X, Y, M, L, SM, F, B, SB, FX, FY) | Jロ￥口 | ワード (T, ST, C, D, W, SD, SW, FD, R, ZR, RD) | Uロ￥G口, Jロ￥口, U3Eロ￥(H)G口 | Z | LT, LST, LC | LZ | 間接指定 | 定数 (K, H, E) | $ | その他 |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| (s) | － | － | ○ | － | － | － | － | ○ | － | － | － |
| (n1) | ○ | ○ | ○ | ○ | ○ | － | － | ○ | ○ | － | － |
| (n2) | ○ | ○ | ○ | － | － | － | － | － | － | － | － |
| (d) | ○ | － | － | － | － | － | － | － | － | － | － |

### テキスト
#### 機能説明
- (n1)で指定された値で等分割されたロータリーテーブル上で、(s)+2で指定された番号の品物を出し入れするために、(s)+1で指定された窓口番号の位置にロータリーテーブルを近回りで回転させる制御を行う。
- 品物番号および窓口番号は反時計回りで割り付けられているものとして制御する。
- (s)+0は、0番目の窓口に何番目の品物があるかを数えるカウンタとしてシステムが使用。プログラムで書き換えないこと。書き換えると正常な制御ができなくなる。
- (n2)は、(n1)で指定のテーブル分割数未満にする。
- (d)+0と(d)+1は、ロータリーテーブルの正転/逆転を検出するためのA相およびB相入力信号。回転方向の判別はA相がON時のB相の立上り/立下りで行う。
  - B相が立上り時：正転（時計回り）
  - B相が立下り時：逆転（反時計回り）
- (d)+2は、0番目の品物が0番目の窓口に来たときにONする0点検出信号。ROTC命令実行中に、(d)+2で指定されたデバイスがONすると、(s)+0がクリアされる。あらかじめクリア操作を行ってからROTC命令による近回り制御を開始する必要がある。
- (d)+3～(d)+7は、テーブルの動作を制御するための出力信号。ROTC命令の実行結果に応じて(d)+3～(d)+7のいずれかの出力信号がONする。
- ROTC命令の指令がOFFの場合は、近回り制御を行わず(d)+3～(d)+7をすべてOFFにする。
- ROTC命令は、実行している全プログラムで1回のみ使用可能。2回以上使用すると正常に実行できない。
- (s)+0～(s)+2または(n2)の値が(n1)以上の場合は無処理となる。
</contents>