ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1091

<overview>
このページは「時刻用命令」に関する説明で構成されています。主にテキストで機能の概要、比較対象の設定方法、ビット構成の説明があり、表で比較対象時刻のビット指定と処理内容をまとめています。図は時刻データ（時、分、秒）の比較演算の流れを示す簡単なブロック図が2つあります。グラフはなく、テキストと表が中心の技術的な解説ページです。
</overview>

<contents>
### テキスト
#### 機能概要
(s1)、(s2)で指定した時刻データ、または(s1)で指定した時刻データと現在の時刻を比較します。比較対象は(s3)のビット設定により選択可能です。

- (s1)と(s2)の時刻データの比較や、(s1)と現在時刻の比較を行い、(s3)の条件に従って接点扱いします。
- 各時刻データは「時(hour)」「分(minute)」「秒(second)」で構成され、BIN値で設定します。
- 時は0～23、分・秒は0～59の範囲で設定します。

#### 比較対象の詳細設定（s3のビット構成）
- ビット0：秒を比較対象に追加
- ビット1：分を比較対象に追加
- ビット2：時を比較対象に追加
- ビット4：0以外を指定すると非導通（比較無効）
- ビット15：ONにすると、(s1)と現在時刻を0～2ビット目で比較

比較対象時刻の0～2ビット目が0の場合は比較対象の時刻データ（時、分、秒）の比較は行わず、1の場合は比較します。

#### 比較演算の処理内容
- (s1)、(s2)の時刻データの比較や、(s1)と現在時刻の比較を行います。
- (s2)の時刻データはダミーデータ扱いとなる場合があります。
- 比較対象ビットの設定により、秒・分・時の比較を細かく制御可能です。

#### 注意事項
- 比較対象となるデバイスに時刻データとして認識できないデータが格納されている場合、命令実行後に不正データ検出フラグがONになり、非導通状態になります。
- SM709命令は一度ONするとリセットや電源OFFまでON状態を保持します。必要に応じてOFFにしてください。

### 図
- 時刻データの比較演算の流れを示すブロック図が2つあります。
  1. (s1)と(s2)の時刻データ（hour, minute, second）を比較演算子(1)で比較し、結果(2)を得る。
  2. (s1)の時刻データと現在の時刻データを比較演算子(1)で比較し、結果(3)を得る。

### 表
#### 任意の時刻データとの比較時の(s3)値による処理内容

| 任意の時刻データとの比較時の(s3)値 | 現在の時刻データとの比較時の(s3)値 | 比較対象時刻 | 処理内容 |
| :--- | :--- | :--- | :--- |
| 0001H | 8001H | 秒 | (s1)+2のみを比較 |
| 0002H | 8002H | 分 | (s1)+1のみを比較 |
| 0003H | 8003H | 分、秒 | (s1)+1、(s1)+2を比較 |
| 0004H | 8004H | 時 | (s1)のみを比較 |
| 0005H | 8005H | 時、秒 | (s1)、(s1)+2を比較 |
| 0006H | 8006H | 時、分 | (s1)、(s1)+1を比較 |
| 0007H | 8007H | 時、分、秒 | (s1)、(s1)+1、(s1)+2すべてを比較 |
| 0001H～0007H、8001H～8007H以外 | なし | なし | (s1)、(s1)+1、(s1)+2すべてを比較しない（非導通） |

この表は、s3の値によってどの時刻要素を比較対象にするか、また比較演算の処理内容を示しています。

</contents>