ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page645

<overview>
本ページは、CSV形式で保存されたデータを読み込む際に、各行の列数が異なる場合の動作について説明しています。ページ構成は、テキスト説明、例示のための表、及びデバイスに読み込まれるデータの構造を示す図で構成されています。テキスト部分で動作の概要を説明し、表で具体的なデータ例を示し、図で制御データや読み込まれたデータの割り当てを視覚的に表現しています。
</overview>

<contents>
### テキスト
- 列数がそれぞれの行で異なる場合でも、指定列数を超える要素は無視され、指定列数に足りない列は0で補われる。
- 例として、CSV形式で保存したデータの列数が異なる場合の動作を示している。

### 図・表の説明
#### CSV形式で保存したデータ（例）
| 大／小項目 |  ,  | 測定値 |  ,  | 余分 | CR | LF |
| --- | --- | --- | --- | --- | --- | --- |
| 長さ | CR | LF |  |  |  |  |
| 温度 |  ,  | -21 |  ,  | CR | LF |  |

- (1) 指定列数を超える要素は無視される。

#### デバイスに読み込まれるデータの構造
- SP.FREAD命令により、U0、K2、D10、"ABCD"、D99、M0の順でデータが読み込まれる。
- (2) 読み込まれたデータ
- (3) ファイル名
- (4) コントロールデータ

#### コントロールデータ（デバイス割り当て）
| デバイス | 内容 |
| --- | --- |
| D10 | 実行/完了タイプ (0100H) |
| D11 | 完了ステータス (-) |
| D12 | 要求読出しデータ数 (K6) |
| D13 | 最大読出しデータ数 (K0) |
| D14 | ファイル位置 (K0) |
| D15 | ファイル位置 (K0) |
| D16 | 列数指定 (K2) |
| D17 | データタイプ指定 (K0) |

#### 読み込まれたデータ（デバイス割り当て）
| デバイス | 内容 |
| --- | --- |
| D99 | 読出し結果データ数 (K6) |
| D100 | 「大／小項目」は数値以外のデータのため、変換データ(0)が格納される (K0) |
| D101 | 「,」は数値以外のデータのため、変換データ(0)が格納される (K0) |
| D102 | 「長さ」は数値以外のデータのため、変換データ(0)が格納される (K0) |
| D103 | 該当する要素が無いため、変換データ(0)が補われる (K0) |
| D104 | 「温度」は数値以外のデータのため、変換データ(0)が格納される (K0) |
| D105 | 「-21」は数値であるため、バイナリ値に変換される (K-21) |

### ポイント
- 指定列数を超えた要素は無視される。
- 指定列数に満たない場合は0で補完される。
- 数値以外のデータは変換データ(0)として格納される。
- 数値データはバイナリ値に変換されて格納される。
</contents>