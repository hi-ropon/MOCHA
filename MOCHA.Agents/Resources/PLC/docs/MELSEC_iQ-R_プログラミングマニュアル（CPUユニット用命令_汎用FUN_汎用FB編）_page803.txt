ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page803

<overview>
本ページは文字列処理に関する説明で構成されており、主にテキスト部分と図表部分で構成されています。テキスト部分では、BIN32ビットデータを文字列に変換する機能の概要と条件について説明しています。図表部分では、データのビット構成や文字列への変換例を示す図解と、変換後のデータの格納形式を表形式で詳細に説明しています。グラフは含まれていません。
</overview>

<contents>
### テキスト
#### 機能概要
(s2)で指定されたBIN32ビットデータを、(s1)で指定された位置に小数点を付加して文字列に変換し、(d)で指定されたデバイス番号以降に格納します。

- (s1)は全桁数と小数部桁数を指定します。
- (s2)はBIN32ビットデータの上位16ビットと下位16ビットに分かれています。
- 変換後の文字列の最後には自動的に00H（NULL文字）が格納されます。

#### 注意事項
- (s1)で指定できる全桁数は2～13桁です。
- (s1)+1で指定できる小数部桁数は0～10桁ですが、小数部桁数は全桁数-3以下に設定してください。

### 図・表
#### 図1: BIN32ビットデータの構成と文字列変換のイメージ
- (s1)で全桁数と小数部桁数を指定。
- (s2)のBIN32ビットデータは上位16ビット(b31～b16)と下位16ビット(b15～b0)に分かれる。
- これらのデータを元に、(s1)で指定した位置に小数点を付加し、符号を含む文字列に変換。
- 変換後の文字列は(d)で指定されたデバイス番号以降に格納される。

#### 例: データ「-654321」を小数部3桁「-654.321」として文字列変換する場合
- (s1)に8（全桁数）、(s1)+1に3（小数部桁数）を指定。
- (s2)にBIN32データ「-654321」をセット。
- 変換後の文字列は「-654.321」となり、16進数コードで順に格納される。
- 格納例（16進数コードと対応文字）：
  - (d): 36H (6), 2DH (-)
  - (d)+1: 34H (4), 35H (5)
  - (d)+2: 33H (3), 2EH (.)
  - (d)+3: 31H (1), 32H (2)
  - (d)+4: 00H (文字列終端)

#### 表: 変換後の文字列格納例（16進数コード）
| アドレス | b15～b8 | b7～b0 | 内容（文字） |
| :------- | :------- | :------- | :------------ |
| (d)      | 36H      | 2DH      | 6, -          |
| (d)+1    | 34H      | 35H      | 4, 5          |
| (d)+2    | 33H      | 2EH      | 3, .          |
| (d)+3    | 31H      | 32H      | 1, 2          |
| (d)+4    | 00H      |          | 文字列終端    |
</contents>