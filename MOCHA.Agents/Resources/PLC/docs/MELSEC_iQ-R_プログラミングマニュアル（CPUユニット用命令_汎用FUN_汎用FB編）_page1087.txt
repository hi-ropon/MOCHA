ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1087

<overview>
このページは主にテキストと表で構成されています。テキスト部分では、日付データの比較機能の説明があり、(s1)、(s2)、(s3)の各パラメータの役割や設定方法について詳細に述べられています。図は比較対象の日付データの構造を示す簡単なブロック図が2つあります。表は、比較対象の日付ビットの値に応じた処理内容をまとめています。グラフや複雑な図はありません。
</overview>

<contents>
### テキスト
#### 機能概要
- (s1)、(s2)で指定した日付データ、または(s1)で指定した日付データと現在の日付を比較できる。
- (s3)により比較対象を選択可能。
- (s1)と(s2)で指定した日付データの比較は、(s3)の条件に従って接点扱いで行う。
- 現在の日付データとの比較も可能で、(s2)指定の日付データはダミーデータ扱いとなり無視される。

#### 日付データの構成
- (s1)、(s2)はそれぞれ年（1980～2079）、月（1～12）、日（1～31）で設定。
- 各項目はBIN値で設定。
- (s3)のビット構成により比較対象を詳細に設定可能。
  - ビット0：日を追加
  - ビット1：月を追加
  - ビット2：年を追加
  - ビット4：0以外は非導通（比較結果に関係なし）
  - ビット15：ONで(s1)と現在の日付を0～2ビット目で比較

#### 比較のルール
- 比較対象日付の0～2ビット目が0の場合、比較は行わない。
- 1の場合は比較対象の日付データ（年、月、日）と比較。
- 比較演算対象の15ビット目が0の場合は(s1)と(s2)の日付データを比較。
- 1の場合は(s1)と現在の日付データを比較し、(s2)は無視。

#### 注意事項
- 日付データとして認識できない場合は命令実行後にSM709がONとなり非導通になる。
- SM709は一度ONするとリセットまたは電源OFFまでON状態を保持するため、必要に応じてOFFにする。

### 図
- (s1)、(s2)の日付データ構造を示すブロック図（year, month, dayの3項目）。
- 比較演算の流れを示す矢印付きの簡単な図。

### 表
| 任意の日付データとの比較時の(s3)値 | 現在の日付データとの比較時の(s3)値 | 比較対象日付 | 処理内容 |
| --- | --- | --- | --- |
| 0001H | 8001H | 日 | (s1)+2のみ比較 |
| 0002H | 8002H | 月 | (s1)+1のみ比較 |
| 0003H | 8003H | 月、日 | (s1)+1、(s1)+2を比較 |
| 0004H | 8004H | 年 | (s1)のみ比較 |
| 0005H | 8005H | 年、日 | (s1)、(s1)+2を比較 |
| 0006H | 8006H | 年、月 | (s1)、(s1)+1を比較 |
| 0007H | 8007H | 年、月、日 | (s1)、(s1)+1、(s1)+2すべて比較 |
| 0001H～0007H、8001H～8007H以外 | なし | なし | (s1)、(s1)+1、(s1)+2すべて比較しない（非導通） |

</contents>