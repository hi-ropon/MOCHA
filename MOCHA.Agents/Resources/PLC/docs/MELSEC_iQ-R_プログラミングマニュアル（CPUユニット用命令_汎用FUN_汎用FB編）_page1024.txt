ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1024

<overview>
本ページは「マトリクス入力命令」に関する説明で構成されています。ページ全体は以下の3つのセクションで構成されています。
1. テキスト部分：マトリクス入力命令の機能説明と注意事項が箇条書きで記載されています。
2. 表部分はなく、代わりにプログラム例の説明がテキストと図で示されています。
3. 図（グラフ部分に近い）：プログラム例の動作を示す回路図風の図があり、入力信号の取り込みと格納先の関係を視覚的に表現しています。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定された入力番号以降に接続されている16点×(n)列の入力を順次読み込み、取り込んだ入力データを(d2)で指定されたデバイス以降に格納する。
- 取り込みは1スキャンで1列分（16点分）行う。
- 1列目から(n)列目までの取り込みを順次繰り返す。
- (d2)で指定されたデバイス以降は、先頭から16点分が1列目、次の16点分が2列目として格納されるため、(d2)で指定されたデバイスから16×(n)点分をMTR命令で占有する。
- (d1)は取り込みを行う列を選択するための出力で、システムが自動的にON/OFFする。(d1)で指定されたデバイスから(n)点分を使用。
- (s)、(d1)、(d2)には16の倍数のデバイス番号のみ指定可能。
- (n)には2～8が指定可能。
- 以下の場合は無処理となる：
  - (s)、(d1)、(d2)で指定のデバイスNo.が16の倍数でない場合
  - (s)で指定のデバイスが実入力の範囲外の場合
  - (d1)で指定のデバイスが実出力の範囲外の場合
  - (d2)で指定のデバイス以降16×(n)点分が該当デバイスの範囲を超える場合
  - (n)が2～8以外の場合

#### プログラム例
- X0をONすると、X10以降に接続された16点×3列のマトリクスを取り込み、M0以降に格納するプログラム例。
- プログラムはMTR命令を使い、X10を開始点、Y20を(d1)、M0を(d2)、K3を列数として指定。
- END命令で終了。

#### 動作説明
- Y20がONのとき、第1列の入力信号を取り込み、M0～M15に格納。
- Y21がONのとき、第2列の入力信号を取り込み、M16～M31に格納。
- Y22がONのとき、第3列の入力信号を取り込み、M32～M47に格納。

### 図（プログラム例の動作説明）
- 図は3段の水平ラインで構成されており、それぞれ第1列（M0～M15）、第2列（M16～M31）、第3列（M32～M47）の格納先を示す。
- 各列はX010～X01Fまでの16点の入力信号を受け取り、それぞれのMデバイスに対応。
- 各列の入力信号は対応するY20、Y21、Y22のON信号で選択される。
- 図中に(1)、(2)、(3)の注釈があり、それぞれ第1列、第2列、第3列を示している。

</contents>