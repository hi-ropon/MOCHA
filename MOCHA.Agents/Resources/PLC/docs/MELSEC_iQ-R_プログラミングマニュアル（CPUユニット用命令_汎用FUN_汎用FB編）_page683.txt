ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page683

<overview>
本ページは「指定ファイルの状態取得」についての説明で構成されています。ページ全体は以下のセクションに分かれています。
・テキスト部分：命令の概要、使用可能なCPUやバージョンの注意事項、SDメモリカード内のファイルやフォルダの状態取得についての説明。
・図部分：ラダー図、FBD/LD図による命令の接続例。
・表部分：命令の実行条件、設定データの内容・範囲・データ型をまとめた表。
グラフは含まれていません。
</overview>

<contents>
### テキスト
#### 指定ファイルの状態取得
命令「SP.FSTATUS」はSDメモリカード内の指定したファイルまたはフォルダの状態を取得するための命令です。

- 使用可能CPUとバージョンの注意点
  - R00CPUでは使用不可。
  - R01CPU、R02CPUはファームウェアバージョンが"08"以降で使用可能。エンジニアリングツールはバージョン"1.050C"以降で使用可能。
  - RnCPU（R00CPU、R01CPU、R02CPUを除く）、RnENCPUはファームウェアバージョンが"40"以降で使用可能。エンジニアリングツールはバージョン"1.050C"以降で使用可能。

### 図
#### ラダー図
- 命令ブロックの形状が示されており、引数として(U)、(s1)、(d1)、(s2)、(d2)、(d3)が入力される構成。

#### FBD/LD図
- ブロック図でEN（実行条件）、U、s1、s2が入力、ENO（実行結果）、d1、d2、d3が出力として示されている。

### 表
#### 実行条件
| 命令       | 実行条件 |
|------------|----------|
| SP.FSTATUS | なし     |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容                             | 範囲                         | データ型       | データ型(ラベル)               |
|------------|--------------------------------|------------------------------|----------------|-------------------------------|
| (U)        | ダミー                         | —                            | デバイス名     | ANY16                         |
| (s1)       | ドライブ指定                   | 2個（固定）*1                | ワード         | ANY16                         |
| (d1)       | コントロールデータが格納されている先頭デバイス | 684ページ コントロールデータ(d1) | ワード         | ANY16_ARRAY（要素数：2）       |
| (s2)       | ファイル名/フォルダ名が格納されている先頭デバイス | —                            | Unicode文字列  | ANYSTRING_DOUBLE              |
| (d2)       | ファイル状態を格納する先頭デバイス | —                            | ワード         | ANY16_ARRAY（要素数：10）      |
| (d3)       | 処理完了にてONするビットデバイス | —                            | ビット         | ANYBIT_ARRAY（要素数：2）      |
| EN         | 実行条件                       | —                            | ビット         | BOOL                          |
| ENO        | 実行結果                       | —                            | ビット         | BOOL                          |

*1 SDメモリカードのドライブ2のみ設定可能。

以上の内容により、SP.FSTATUS命令はSDメモリカードの指定ファイルやフォルダの状態を取得し、複数のデバイスに状態情報を格納、処理完了を示すビットも設定可能であることがわかります。
</contents>