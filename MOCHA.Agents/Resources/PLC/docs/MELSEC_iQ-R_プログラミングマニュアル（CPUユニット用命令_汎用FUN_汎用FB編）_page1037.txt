ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1037

<overview>
本ページはCPUユニット内蔵データベースアクセス機能の一部である「データベースアクセス命令」について説明しています。ページ構成は以下の通りです。
- テキスト部分：データベースのフィールド名と挿入データの定義、設定範囲や注意事項の説明。
- 表部分：オペランドごとに「デバイス」「項目」「内容」「設定範囲」「セット側」を整理した表が2つ掲載されている。
- 図部分：(s3)および(s4)のフォーマットを示す図が2つあり、フィールド数やフィールド名、レコード数、フィールド設定値の配置をビット単位で示している。
</overview>

<contents>
### テキスト
#### データベースのフィールド名
- オペランド：(s3)
- フィールド数：追加したいフィールドの個数を設定。0を指定するとテーブル内の全フィールドが対象になる。
- フィールド名：各フィールドの名前を32文字固定のUnicode文字列で設定。32文字に満たない場合は前詰めし、0000Hでパディングする。
- フィールド数に応じて(s3)の最終アドレスは変化。0指定時は設定不要で無視される。
- ファームウェアバージョンによる対応範囲の違いあり。

#### 挿入データ
- オペランド：(s4)
- レコード数：追加するレコード数を設定。条件式を満たす値で1～mまで設定可能。
- サイズ：1レコードあたりのサイズを設定（データ型に依存）。
- 追加する値：(s3)で指定したフィールド数分のデータを、(s4)+0から指定したレコード数分設定。
- ファームウェアバージョンによる対応範囲の違いあり。

### 図
#### (s3)フォーマット図
- b15～b0のビット範囲でフィールド数を設定。
- 続いて1個目からn個目までのフィールド名が順に配置される。
- nはフィールド数。n=0の場合は設定不要。

#### (s4)フォーマット図
- レコード数mを設定。
- 1レコードのデータサイズを設定。
- 1個目からn個目までのフィールドの設定値が順に並ぶ。
- mレコード分の件数を設定。

### 表
#### データベースのフィールド名（オペランド：s3）
| デバイス | 項目       | 内容                                                                                      | 設定範囲     | セット側 |
|----------|------------|-------------------------------------------------------------------------------------------|--------------|----------|
| +0       | フィールド数 | 追加したいフィールドの個数を設定。0指定でテーブル全フィールド対象。                         | 0～128*2     | ユーザ   |
| +1～+□   | フィールド名 | 各フィールドの名前を32文字固定Unicode文字列で設定。未満は前詰めし0000Hでパディング。          | －           | ユーザ   |

#### 挿入データ（オペランド：s4）
| デバイス | 項目       | 内容                                                                                      | 設定範囲     | セット側 |
|----------|------------|-------------------------------------------------------------------------------------------|--------------|----------|
| +0       | レコード数  | 追加するレコード数を設定。条件式を満たす値。                                              | 1～m*1       | ユーザ   |
| +1       | サイズ      | 1レコードあたりのサイズを設定。                                                           | データ型依存 | ユーザ   |
| +2～+□   | 追加する値  | (s3)で指定したフィールド数分のデータを(s4)+0から指定したレコード数分設定。                  | データ型依存 | ユーザ   |

### 注意事項
- ファームウェアバージョン28以降のシーケンサCPUが対象。
- バージョン28以前はフィールド数やレコード数の設定範囲が異なる。
- フォーマットは図の通りビット単位で詳細に定義されている。
</contents>