ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page589

<overview>
このページはテキスト部分と図（ラダープログラムの例とメモリの変化を示す図）で構成されています。テキストはECALL(P)命令の引数に使用するデバイスの注意点と、サブルーチンプログラムでの誤った使用例について説明しています。図はラダープログラムの一部と、サブルーチンプログラム実行前後およびRET命令実行後のメモリ内容の変化を示しています。
</overview>

<contents>
### テキスト
- ECALL(P)命令の引数に使用したデバイスをサブルーチンプログラムで使用しないよう注意喚起しています。もし使用した場合、正常な演算ができません。
- 例として、サブルーチンプログラムのFD0にD0を指定し、サブルーチンプログラムでD1を使用した場合の動作を説明しています。

### 図
#### ラダープログラム例
- [MAIN]プログラムではM0がONのとき、ECALL命令で"ABC"サブルーチンプログラムを呼び出し、引数にP0、D0を指定しています。
- [ABC]サブルーチンプログラムではM0がONのとき、FD0の値をK100で割りK3の値をFD0に格納し、さらにK100とD1の和を計算してD1に格納、その後RET命令で戻ります。

#### メモリ内容の変化
- サブルーチンプログラム実行前のD0～D3、FD0の値を示しています。
- ECALL命令実行直後はD0～D3の値は変わらず、FD0はD0の値がコピーされています。
- サブルーチンプログラム実行時はD1の値が110に変わり、FD0の一部の値も変化しています。
- RET命令実行後はD0が33に、D1が110のまま、D2、D3は変わらず、FD0の値は不定となっています。

#### 注釈
1. サブルーチンプログラムの実行結果が格納される。
2. ファンクションデバイスの値に置き換わる。
3. D1はファンクションデバイスの値が反映されない。
4. FD0の値は不定になる。
</contents>