ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page711

<overview>
このページは「データ処理命令」に関する説明で構成されています。主にテキスト部分で機能の詳細説明があり、2つの図が掲載されています。1つ目の図はBIN16ビットデータのサーチ処理の流れを示したもので、サーチデータとサーチされる先頭番号の関係やサーチ結果の格納方法を視覚的に説明しています。2つ目の図はサーチ方法の違い（逐次探索法と二分探索法）によるサーチ順序の違いを示すグラフ的な説明です。表はなく、エラー情報も簡潔に記載されています。
</overview>

<contents>
### テキスト
#### 機能
- (s1)で指定したデバイスのBIN16ビットデータをキーワードとして、(s2)で指定したデバイスからBIN16ビット単位で(n)点分をサーチする。
- キーワードと一致した個数を(d)+1で指定されたデバイスに格納し、最初に一致したデバイス番号が(s2)からの相対値(d)で指定されたデバイスに格納される。
- (n)が0の場合は無処理となる。
- サーチ結果で一致データが見つからなかった場合、(d)、(d)+1で指定されたデバイスは0になる。

#### Point
- SERDATA(P)命令でサーチされるデータが昇順にソートされている場合、SM702（サーチ方法）をONにすると二分探索法で高速に処理可能。
- 昇順にソートされていない場合にSM702をONにすると正常なサーチ結果が得られない。
- 二分探索法の例として、サーチデータ500を昇順にソートされたデータ列に対して探索範囲を絞り込みながら比較していく様子を示している。

#### エラー
- 演算エラーはなし。

### 図
1. **BIN16ビットデータのサーチ処理の流れ**
   - (s1)のサーチデータ「123」を基に、(s2)から始まる複数のデータ（例：10、500、123、-123、20、123、123）をサーチ。
   - 一致データ「123」が複数あり、サーチ範囲(n)点内で一致した位置と個数を(d)、(d)+1のデバイスに格納。
   - 図中にサーチ範囲や相対値の関係が矢印で示されている。

2. **二分探索法によるサーチ順序の例**
   - サーチデータ「500」を昇順にソートされたデータ列（100、200、300、400、500、600、700）に対して探索。
   - 逐次探索法（SM702 OFF）の場合は先頭から順に比較。
   - 二分探索法（SM702 ON）の場合は探索範囲の中央値を調べて範囲を絞り込みながら探索。
   - 各段階でのサーチ範囲と比較対象が図示されている。

### 用語説明
- **SM702**: サーチ方法設定用の特殊リレー。OFFで逐次探索法（線形探索法）、ONで二分探索法を使用。
- **逐次探索法**: データの先頭から順に比較していく方法。
- **二分探索法**: 昇順にソートされたデータに対し、探索範囲の中央値を調べて範囲を絞り込みながら検索する方法。

</contents>