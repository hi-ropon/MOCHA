ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page713

<overview>
このページは「データ処理命令」に関する説明で構成されています。主にテキスト部分で機能の概要とポイント、エラー情報を記載しています。表はなく、図は2つあり、1つはBIN32ビットデータのサーチ処理のイメージ図、もう1つは二分探索法によるサーチの例を示した図です。
</overview>

<contents>
### テキスト
#### 機能
(s1)で指定したデバイスのBIN32ビットデータをキーワードとして、(s2)で指定したデバイスからBIN32ビット単位で(n)点分（16ビット単位で2×(n)点分）をサーチします。  
キーワードと一致した個数を(d)+1で指定したデバイスに格納し、一致したデバイス番号が(s2)からの相対値を(d)で指定したデバイスに格納します。  
(n)が0の場合は無処理となり、一致データが見つからなかった場合は(d)、(d)+1で指定したデバイスは0になります。

#### Point
- DSDERDATA(P)命令でサーチされるデータが昇順にソートされている場合、SM702（サーチ方法）をONにすると二分探索法による高速サーチが可能です。  
- サーチデータが昇順にソートされていない場合にSM702をONにすると正しい結果が得られません。  
- 二分探索法の例として、サーチデータ500を昇順に並んだデータ列の中から比較しながら探索範囲を絞り込む様子を示しています。

#### エラー
演算エラーはありません。

### 図
1. BIN32ビットデータのサーチ処理のイメージ図  
   - (s1)+1のデバイスにあるサーチデータ（例: 5678901）をキーワードとして、(s2)+1から(s2)+(n)-1までのデバイスのデータと比較し、一致したデータの個数(d)+1と一致した位置(d)を取得する流れを示しています。  
   - 一致しなかった場合は(d)、(d)+1のデバイスは0になります。

2. 二分探索法によるサーチの例  
   - 昇順にソートされたサーチされるデータの中から、サーチデータ（例: 500）と比較し、探索範囲を中央の値と比較して絞り込む過程を3段階で示しています。  
   - 探索範囲を半分ずつ狭めながら目的のデータを探す方法を視覚的に説明しています。

### 注釈
- SM702はサーチ方法設定用の特殊リレーで、OFFの場合は逐次探索法（線形探索法）、ONの場合は二分探索法となります。  
- 二分探索法は昇順にソートされたデータに対して探索範囲の中央値を調べて絞り込みを繰り返す方法です。
</contents>