ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page808

<overview>
本ページは「エラー」と「注意事項」に関する内容で構成されています。ページ上部にエラーコードとその内容を示す表があり、その下に注意事項のテキスト説明があります。注意事項の説明には、BCDDA(P)命令の動作に関する具体例が図解で示されており、ビット配置やメモリの変化を視覚的に理解できるようになっています。図は複数のビット列とその変換結果を示すボックスで構成されており、命令実行時のデータの変化を段階的に説明しています。
</overview>

<contents>
### テキスト
#### エラー
| エラーコード (SD0) | 内容                         |
|--------------------|------------------------------|
| 3401H              | (s)のデータが0～9999以外のとき。 |

#### 注意事項
SM705（変換桁数切換）がONのとき、(d)には演算結果を有効桁数分だけ格納します。このため、BCDDA(P)命令を連続して実行し、演算結果を同一デバイスに格納する場合、(d)の一部に前回の演算結果が上書きされずに残っている可能性があります。

##### 具体例
1. (s)が「9105H」のときBCDDA(P)命令を実行し、さらに(s)が「0007H」のときにBCDDA(P)命令を実行する場合の例を示しています。

- (1) 「9105」を文字列に変換  
- (2) 「7」を文字列に変換  
- (3) (d)+1に前回の変換結果の一部が残ったままになる

##### 図の説明
- (s)のビット配置（b15～b0）と値（例：9,1,0,5や0,0,0,7）を示す。
- (d)+0～(d)+2の各アドレスに格納される16進数値と対応する文字コード（例：31H(1), 39H(9)など）を示す。
- (3)の矢印で、前回の変換結果の一部が残っていることを指摘。

##### 回避方法
格納エリア(d)+0～(d)+1をすべてクリアしてからBCDDA(P)命令を実行するようにプログラムを作成してください。

- (4) 「9105」を文字列に変換  
- (5) (d)+0～(d)+1をクリアする  
- (6) 「7」を文字列に変換

##### クリア後の格納状態
- (d)+0～(d)+1が00Hでクリアされている状態を示す。

### 図（言語化）
- ビット列b15～b0が4つの区切りで示され、それぞれに数値が入っている。
- 矢印で変換後のメモリ(d)+0～(d)+2の内容が示され、16進数値と対応する文字コードが記載されている。
- 複数の図で、変換前後のデータの違いと、クリア処理の有無による結果の違いを比較している。
</contents>