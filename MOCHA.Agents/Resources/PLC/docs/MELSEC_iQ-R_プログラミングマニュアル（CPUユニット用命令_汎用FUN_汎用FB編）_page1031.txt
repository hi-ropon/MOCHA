ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1031

<overview>
本ページは「データベース接続」に関する説明で構成されています。主に以下のセクションで構成されています。
- テキスト部分：DBOPEN命令の概要、使用できないCPUの注意事項、命令の実行条件の説明
- 図部分：ラダー回路図、FBD/LDの命令ブロック図
- 表部分：命令の実行条件一覧、設定データの内容・範囲・データ型の詳細、使用可能デバイスの一覧
</overview>

<contents>
### テキスト
#### データベース接続 DBOPEN(P)
(s)で指定したフォルダに格納されるデータベースに接続し、データベースを使用可能な状態にします。

- R00CPU、R01CPU、R02CPUでは使用できません。
- (s)はオープン対象データベースのフォルダパスを格納する先頭デバイスで、例として "2:\database1\recipe" が挙げられています。文字数は128文字以内。

#### 実行条件
- DBOPEN命令は立ち上がりエッジで実行されます。
- DBOPENP命令は立ち下がりエッジで実行されます。

### 図
- ラダー図：DBOPEN命令のラダー表現。入力(s)、(d1)、(d2)、(d3)があり、命令が実行される様子を示す。
- FBD/LD図：EN入力に対してDBOPEN命令ブロックがあり、出力ENOがある。パラメータとしてs、d1、d2、d3が入力される。

### 表
#### 設定データ 内容、範囲、データ型

| オペランド | 内容 | 範囲 | データ型 | データ型(ラベル) |
| :--- | :--- | :--- | :--- | :--- |
| (s) | オープン対象データベースのフォルダパスを格納する先頭デバイス<br>例："2:\database1\recipe"<br>文字数は128文字以内 | — | Unicode文字列 | ANYSTRING_DOUBLE |
| (d1) | データベース識別番号 | 1〜4 | 符号付きBIN16ビット | ANY16 |
| (d2) | 完了デバイス（命令完了で1スキャンONする先頭デバイス）<br>・(d2)+0：完了信号<br>・(d2)+1：異常完了信号 | — | ビット | ANYBIT_ARRAY（要素数：2） |
| (d3) | 完了ステータス<br>・0000：正常完了<br>・0000以外：異常完了（エラーコード） | — | ワード | ANY16 |
| EN | 実行条件 | — | ビット | BOOL |
| ENO | 実行結果 | — | ビット | BOOL |

#### 使用可能デバイス

| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s) | — | — | ○ | — | — | ○ | — |
| (d1) | — | — | ○ | — | — | — | — |
| (d2) | ○ | ○ | — | — | — | — | — |
| (d3) | — | — | — | — | — | — | — |

- ビットデバイス例：X, Y, M, L, SM, F, B, SB, FX, FY
- ワードデバイス例：T, ST, C, D, W, SD, SW, FD, R, ZR, RD
- ダブルワードデバイス例：Z, LT, LST, LZ, LC
- 定数例：K, H, E, $

### 補足
- ENは命令の実行条件ビット、ENOは命令の実行結果ビットを示す。
- (d2)は完了信号と異常完了信号の2ビット分の配列として扱う。
</contents>