ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page939

<overview>
このページは「BCD型TAN⁻¹演算」についての説明で構成されています。主にテキストで機能説明や使用条件、設定データの詳細が記載されており、ラダー図やFBD/LDの簡単な回路図が含まれています。表形式で実行条件や設定データの内容・範囲・データ型、使用可能なデバイス一覧が示されています。グラフはなく、数式や記号を用いた説明が中心です。
</overview>

<contents>
### テキスト
#### BCD型TAN⁻¹演算（BATAN(P)）
BCD値で指定した値の逆正接（TAN⁻¹）値を演算する命令について説明しています。

##### ■概要
- BATAN命令はBCD値で指定した値の逆正接値を計算し、結果を指定デバイスに格納します。
- 対応するCPU種別がアイコンで示されています。

##### ■ラダー図・FBD/LD図
- ラダー図では、(s)と(d)の2つのオペランドを持つ命令ブロックが示されています。
- FBD/LD図では、EN（実行条件入力）、ENO（実行結果出力）、s（入力値）、d（出力値）のポートがあるブロック図が示されています。

##### ■実行条件
| 命令   | 実行条件の波形 |
|--------|----------------|
| BATAN  | 立ち上がりなしの継続実行 |
| BATANP | 立ち上がりエッジで実行 |

##### ■設定データ
| オペランド | 内容                                         | 範囲     | データ型 | データ型（ラベル）          |
|------------|----------------------------------------------|----------|----------|-----------------------------|
| (s)        | TAN⁻¹（逆正接）演算を行うデータが格納されている先頭デバイス | 0～9999  | BCD4桁  | ANY16_ARRAY（要素数：3）     |
| (d)        | 演算結果を格納するデバイス                     | —        | BCD4桁  | ANY16                       |
| EN         | 実行条件                                     | —        | ビット   | BOOL                        |
| ENO        | 実行結果                                     | —        | ビット   | BOOL                        |

##### ■使用可能デバイス
- (s)はビット、ワード、ダブルワード、間接指定、定数のうち一部に対応していません。
- (d)はビット以外のほぼ全てのデバイスに対応しています。

##### ■機能詳細
- (s)で指定された値のTAN⁻¹（逆正接）値を計算し、(d)で指定されたデバイスに角度（度数）として格納します。
- (s)は符号、整数部、小数部の3つのBCD4桁で構成され、符号は0が正、1が負を示します。
- (s)+1、(s)+2には整数部、小数部がそれぞれBCD値で格納されます（0～9999.9999まで設定可能）。
- (d)に格納される演算結果はBCD値で0～90°、270～360°（DEG.単位）の範囲内の値です。
- 演算結果は小数部を四捨五入した値となります。

### 表
#### 実行条件
| 命令   | 実行条件の波形説明 |
|--------|--------------------|
| BATAN  | 継続的に実行       |
| BATANP | 立ち上がりエッジで実行 |

#### 設定データ（内容・範囲・データ型）
| オペランド | 内容                                         | 範囲     | データ型 | データ型（ラベル）          |
|------------|----------------------------------------------|----------|----------|-----------------------------|
| (s)        | TAN⁻¹演算を行うデータが格納されている先頭デバイス | 0～9999  | BCD4桁  | ANY16_ARRAY（要素数：3）     |
| (d)        | 演算結果を格納するデバイス                     | —        | BCD4桁  | ANY16                       |
| EN         | 実行条件                                     | —        | ビット   | BOOL                        |
| ENO        | 実行結果                                     | —        | ビット   | BOOL                        |

#### 使用可能デバイス一覧
| オペランド | ビット                         | ワード                                   | ダブルワード | 間接指定 | 定数 | その他 |
|------------|-------------------------------|-----------------------------------------|--------------|----------|------|--------|
| (s)        | —                             | ○（T, ST, C, D, W, SD, SW, FD, R, ZR, RD） | —            | —        | ○    | —      |
| (d)        | ○                             | ○                                       | ○            | —        | —    | —      |

</contents>