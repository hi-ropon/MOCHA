ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page742

<overview>
このページは「設定データ」に関する説明で構成されています。主にテキスト部分と表部分があり、テキストで内容や機能の説明がなされ、表でオペランドの内容や使用可能デバイス、データテーブル構成の例、SM774の設定値と並び替え順の対応が示されています。グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### 設定データの内容、範囲、データ型
オペランドごとに内容、範囲、データ型（およびラベル）が説明されています。  
- (s) SORTTBL2、SORTTBL2_U：データテーブルを格納している先頭デバイス。符号付き/符号なしBIN16ビット。  
- (n1) データ（行）数：1～32、符号なしBIN16ビット。  
- (n2) データ（列）数：1～6、符号なしBIN16ビット。  
- (d) SORTTBL2、SORTTBL2_U：演算結果を格納する先頭デバイス。符号付き/符号なしBIN16ビット。  
- (n3) 並び替えの基準となるデータ（列）の列番号。符号なしBIN16ビット。  
- EN：実行条件、ビット型。  
- ENO：実行結果、ビット型。  

ラベル設定時は動作に必要な領域を確保できるよう配列を定義し、配列型ラベルの要素を指定する必要がある。

#### 使用可能デバイス
オペランドごとにビット、ワード、ダブルワード、間接指定、定数の使用可否が表で示されている。  
- (s)はビット・ワード・ダブルワード・間接指定・定数のほとんどが不可。  
- (n1)、(n2)、(n3)は多くのビット・ワード・ダブルワード・定数が使用可能。  
- (d)はビット不可、ワード・ダブルワード・定数は一部使用可能。  

#### 機能
- (s)で指定された行方向に連続する((n1)×(n2))点のデータテーブル（並び替え元）を、(n3)列のデータを基準に昇順または降順で並び替え、(d)で指定した((n1)×(n2))点のデータテーブル（並び替え後）に格納する。  
- データテーブル構成例として、(n1)=3行、(n2)=4列の場合のデータ配置が示されている。  
- 並び替えは命令実行開始時のSM774（データテーブルソート命令実行順）のON/OFF状態で設定。  

#### 並び替えの動作
- SM774がOFFの場合は昇順、ONの場合は降順に並び替え。  
- 実行指令ONでSD774のビット8がONとなり並び替え開始。  
- (n1)スキャン後のEND命令実行時に並び替え完了し、SD774のビット8がOFF、ビット6がONとなる。  
- SD774のビット8がON中はSORTTBL2(_U)命令は実行不可（実行しても無処理）。  

### 表
#### 設定データ（オペランドの内容、範囲、データ型）

| オペランド | 内容                         | 範囲  | データ型           | データ型(ラベル)  |
|------------|------------------------------|-------|--------------------|-------------------|
| (s)        | データテーブルを格納している先頭デバイス | ―     | 符号付きBIN16ビット / 符号なしBIN16ビット | ANY16_S / ANY16_U |
| (n1)       | データ(行)数                 | 1～32 | 符号なしBIN16ビット | ANY16_U           |
| (n2)       | データ(列)数                 | 1～6  | 符号なしBIN16ビット | ANY16_U           |
| (d)        | 演算結果を格納する先頭デバイス | ―     | 符号付きBIN16ビット / 符号なしBIN16ビット | ANY16_S / ANY16_U |
| (n3)       | 並び替えの基準となるデータ(列)の列番号 | ―     | 符号なしBIN16ビット | ANY16_U           |
| EN         | 実行条件                     | ―     | ビット              | BOOL              |
| ENO        | 実行結果                     | ―     | ビット              | BOOL              |

#### 使用可能デバイス

| オペランド | ビット                             | ワード                                   | ダブルワード | 間接指定 | 定数 | その他 |
|------------|----------------------------------|----------------------------------------|--------------|----------|------|--------|
| (s)        | ―                                | ―                                      | ―            | ―        | ―    | ―      |
| (n1)       | ○ (X,Y,M,L,SM,F,B,SB,FX,FY)      | ○ (J口￥口, T,ST,C,D,W,SD,SW,FD,R,ZR,RD) | ○ (U口￥G口,J口￥口,U3E口￥(H)G口) | ○        | ○    | ―      |
| (n2)       | ○                                | ○                                      | ○            | ○        | ○    | ―      |
| (d)        | ―                                | ―                                      | ―            | ―        | ―    | ―      |
| (n3)       | ○                                | ○                                      | ○            | ○        | ○    | ―      |

#### データテーブル構成例（(n1)=3、(n2)=4の場合）

|       | 列番1 | 列番2 | 列番3 | 列番4 |
|-------|-------|-------|-------|-------|
| 行番1 | (s)   | (s)+1 | (s)+2 | (s)+3 |
| 行番2 | (s)+4 | (s)+5 | (s)+6 | (s)+7 |
| 行番3 | (s)+8 | (s)+9 | (s)+10| (s)+11|

#### SM774設定値と並び替え順

| SM774設定値 | 並び替え順 |
|-------------|------------|
| OFF         | 昇順       |
| ON          | 降順       |
</contents>