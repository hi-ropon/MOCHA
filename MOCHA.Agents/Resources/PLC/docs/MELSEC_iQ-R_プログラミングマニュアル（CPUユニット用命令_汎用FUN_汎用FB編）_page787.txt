ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page787

<overview>
本ページは文字列処理に関する説明で構成されており、主にテキスト部分と図解（動作例の説明）が含まれています。テキスト部分ではSM705の状態によるデータ格納形式の違いと動作概要が説明されており、図解では具体的な数値例を用いてOFF/ON状態でのデータ格納の違いを示しています。表形式のデータはなく、グラフもありません。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定されたBIN32ビットデータを10進数で表現した数値をアスキーコードに変換し、(d)で指定されたデバイス番号以降に格納する。
- SM705（変換桁数切換）の状態により、(d)に格納される10進アスキーデータの形式が異なる。

#### SM705の状態と(d)の格納形式
| SM705の状態 | (d)の格納形式 | 参照先 |
|-------------|---------------|---------|
| OFF         | 固定桁数（符号＋10桁）で格納 | 788ページ SM705(変換桁数切換)がOFFの場合の動作 |
| ON          | (s)の値によって各桁を前詰めで格納 | 789ページ SM705(変換桁数切換)がONの場合の動作 |

※SM705に対応しているCPUユニットのファームウェアバージョンについては別途マニュアル参照。対応していないCPUユニットではON/OFFに関わらずOFFと同様の動作。

#### 動作の概要
SM705がOFFの場合とONの場合の動作を以下に示す。

#### 例
(s)に数値「-123456」が格納されている状態で、DBINDA(P)命令を実行した場合の動作。

- SM705: OFFの場合  
  (d)の各アドレスに符号と数字が固定桁数で格納される。  
  1文字目は符号で「2DH（-）」、数字は右詰めで格納。  
  例: (d)+0に20H（スペース）、(d)+1に20H（スペース）、(d)+2に31H（'1'）、(d)+3に33H（'3'）、(d)+4に35H（'5'）、(d)+5に00H（NULL）など。

- SM705: ONの場合  
  (s)の値により各桁を前詰めで格納。  
  数値部が10桁に満たない場合は終端に00H（NULL）が格納される。  
  例: (d)+0に31H（'1'）、(d)+1に33H（'3'）、(d)+2に35H（'5'）、(d)+3に00H（NULL）など。

#### 注意点
- SM705がOFFの場合は固定桁数で、1文字目は符号。0または正の数の場合は1文字目は20H（スペース）となる。数値部は右詰めで格納され、10桁に満たない場合は上位桁のアスキーコードは20H（スペース）となる。
- SM705がONの場合は前詰めで格納し、10桁に満たない場合は終端に00Hが格納される。

### 図解
- 図は「-123456」という数値を(s)に持つ場合のDBINDA(P)命令実行時の(d)への格納例を示す。
- SM705がOFFのときは、(d)+0から(d)+5までに符号と数字が固定桁数で格納されている様子を16進数で示している。
- SM705がONのときは、(d)+0から(d)+3までに数字が前詰めで格納され、残りは空白（NULL）で埋められている様子を示している。
- それぞれの格納形式の違いが視覚的に理解できるようになっている。
</contents>