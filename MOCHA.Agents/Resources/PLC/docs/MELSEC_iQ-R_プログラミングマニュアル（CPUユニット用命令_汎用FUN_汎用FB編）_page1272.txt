ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1272

<overview>
このページは、SFCプログラムのステップ活性状態を読み出す機能について説明しています。構成は以下の通りです。
- テキスト部分：機能の説明、読み出し条件、データの格納方法、例外処理の説明
- 図部分：ビットデータの対応関係や読み出し結果のイメージを示すビットマップ図
- 表部分はなく、代わりに命令の動作例を示すラダー図が含まれている
</overview>

<contents>
### テキスト
#### 機能
- 指定ブロックのステップ活性状態を一括でBIN16ビットデータ単位で読み出す。
- ブロック指定なしの場合は、ブロック0のステップ活性状態を読み出す。
  - シーケンスプログラム中で命令を実行した場合はブロック0
  - SFCプログラム（動作出力内）で命令を実行した場合は命令を実行したブロック（自ブロック）
- 読み出した結果は指定デバイス(d)に格納される。ステップが活性状態なら1、非活性なら0が格納される。
- 読み出すデータ内で欠番のステップNo.に対応するビットは0が格納される。

#### 例示
- 指定ブロックにS5とS8が存在しない場合、該当ビットは空欄（ステップ活性状態が格納される）。
- ブロック指定なしで読み出すデータ範囲がブロックの最大ステップNo.を超えた場合、不定なデータが格納される。
- ブロック指定ありで読み出すデータ範囲がブロック内のステップ数を超えた場合、超過分のビットは0が格納される。
- ブロック指定ありで読み出すデータの先頭が存在しないブロックやステップの場合、読み出すビットデータは0になる。
- SFCプログラムが存在しない状態で実行した場合、読み出すビットデータは0になる。

### 図
- b15からb0までの16ビットがステップNo.に対応し、ビットが1ならステップ活性、0なら非活性を示すビットマップ。
- ラダー図でMOV命令を用い、K4S16（16ステップ分）をD1デバイスに読み出す例を示す。
- 読み出し範囲がステップ数を超えた場合のD1デバイスのビット状態（不定または0）を示す図。
</contents>