ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page603

<overview>
このページは「プログラム出力OFF待機」命令（POFF(P)）に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、使用上の注意、機能説明
- 図部分：ラダー図、ST（構造化テキスト）記述例、FBD/LD（ファンクションブロック図/ラダー図）例
- 表部分：実行条件の命令とその動作波形、設定データの内容・範囲・データ型、使用可能デバイス一覧
テキストと表で命令の詳細な仕様や使用条件が説明され、図で命令のプログラム記述例が示されています。
</overview>

<contents>
### テキスト
#### プログラム出力OFF待機（POFF(P)）
この命令は、指定したデバイスに格納されているファイル名のプログラム実行タイプを変更し、出力をOFFにして待機タイプにします。

- プロセスCPU（二重化モード）およびSIL2プロセスCPUの両系実行プログラムで使用した場合、系切替え時に実行タイプを引き継ぎません。
- プロセスCPU（二重化モード）のSFCプログラムには使用できません。

#### 機能
- 指定されたファイル名のプログラムの実行タイプを変更し、スキャン実行タイプの場合は次のスキャンで出力をOFF（非実行処理）にします。
- 定期期実行タイプやイベント実行タイプの場合は、次のスキャンでスキャン実行タイプになり、その次のスキャン以降は待機タイプになります。
- プログラムメモリに格納されているプログラムのみ待機タイプにできます。
- パラメータで実行形式を指定している場合でもPOFF(P)命令が優先されます。
- ファイル名に拡張子(.PRG)を指定する必要はありません（.PRGファイルのみ対象）。

### 図
#### ラダー図
- ファイル名を指定するデバイスを入力し、POFF命令を実行するラダー図の例が示されています。

#### ST（構造化テキスト）
- EN（実行条件）を入力し、POFFまたはPOFFP命令でファイル名を指定して実行する記述例が示されています。
```
ENO := POFF(EN, ファイル名);
ENO := POFFP(EN, ファイル名);
```

#### FBD/LD（ファンクションブロック図/ラダー図）
- EN（実行条件）とFILE（ファイル名）を入力し、POFF命令を実行するブロック図の例が示されています。

### 表
#### 実行条件
| 命令  | 実行条件（波形）                  |
|-------|---------------------------------|
| POFF  | 立下りエッジで実行               |
| POFFP | 立上りエッジで実行               |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容                                         | 範囲 | データ型       | データ型（ラベル）       |
|------------|----------------------------------------------|------|----------------|--------------------------|
| （ファイル名） | 出力をOFFにして待機タイプにするプログラムのファイル名、またはファイル名が格納されているデバイス | －   | Unicode文字列  | ANYSTRING_DOUBLE         |
| EN         | 実行条件                                     | －   | ビット         | BOOL                     |
| ENO        | 実行結果                                     | －   | ビット         | BOOL                     |

#### 使用可能デバイス
| オペランド | ビット                           | ワード                             | ダブルワード | 間接指定 | 定数 | その他 |
|------------|---------------------------------|----------------------------------|--------------|----------|------|--------|
| （ファイル名） | X, Y, M, L, SM, F, B, SB, FX, FY | T, ST, C, D, W, SD, SW, FD, R, ZR, RD | Z, LT, LST, LC | LZ       | K, H | E, $   |
|            | Jロ￥ロ                         | Uロ￥Gロ, Jロ￥ロ, U3Eロ￥(H)Gロ | －            | －        | －    | 〇      |

### ポイント
- ファイル名はUnicode文字列で指定し、拡張子は不要。
- 実行条件のビット信号の立ち下がりまたは立ち上がりで命令が実行される。
- 指定したプログラムの実行タイプを変更し、次のスキャン以降の動作を制御する。
</contents>