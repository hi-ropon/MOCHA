ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page801

<overview>
本ページは文字列データの変換方法に関する説明と、変換時に発生するエラーコードの一覧で構成されています。テキスト部分では、BIN16ビットデータの格納方法や小数桁数の扱いについて詳細に解説しています。表部分にはエラーコードとその内容が整理されており、エラー発生時の原因が明確に示されています。図部分では、変換の具体例としてデバイス番号への格納イメージが示されており、数値の桁数や符号の扱いが視覚的に理解できるようになっています。
</overview>

<contents>
### テキスト
#### 文字列データの変換と格納方法
- 変換後の文字列データは、(d)以降のデバイス番号に格納されます。
- 符号には、正のときは20H（スペース）、負のときは2DH（-）を格納します。
- 小数桁数が0以外に設定された場合、指定された桁数＋1桁目に自動的に2EH（.）を格納します。小数桁数が0のときは2EHは格納されません。

##### 具体例
- (s1)に6、小数桁数に2を指定した場合、BIN16ビットデータは「1 2 3 4」となり、小数点が自動的に付加されます。
- 小数桁数の値が、BIN16ビットデータの桁数より大きい場合は、自動的に0を付加し、右詰めで「0.□□□」と変換されます。
- 全桁数の値から符号、小数点分を除いた桁数が、BIN16ビットデータの桁数より大きい場合は、符号と数値の間に20H（スペース）を格納します。BIN16ビットデータの桁数の方が大きい場合はエラーとなります。
- 変換した文字列の最後には自動的に00Hが格納されます。

### 図
- 変換例として、(s1)に6、小数桁数に2を指定した場合のデバイス番号への格納イメージが示されています。
- 小数桁数が自動的に付加される様子や、符号の扱いが矢印と数字で視覚的に説明されています。

### 表
#### エラーコード一覧
| エラーコード (SD0) | 内容 |
| :--- | :--- |
| 3401H | (s1)に変換できない不正なデータを入力したときに発生。<br>・全桁数指定が2～8以外<br>・(s1)+10小数桁数指定が0～5以外<br>・(s1)で指定する全桁数と(s1)+1で指定する小数桁数の関係が不適切<br>・全桁数-3≧小数桁数の条件違反<br>・(s1)で指定した桁数が、(s2)で指定したBIN16ビットデータの桁数＋2より小さい<br>・(s1)の桁数が、(s2)の符号を含まないBIN16ビットデータの桁数＋符号分＋小数点分の桁数の条件違反 |

</contents>