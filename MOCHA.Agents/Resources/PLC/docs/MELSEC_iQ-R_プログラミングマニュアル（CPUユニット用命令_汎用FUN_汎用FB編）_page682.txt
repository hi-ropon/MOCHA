ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page682

<overview>
本ページは「注意事項」と「エラー」に関する内容で構成されています。テキスト部分ではSP.FRENAME命令の使用上の注意点が箇条書きで説明されており、表部分ではエラーコード「3405H」に関する詳細な説明が記載されています。グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### 注意事項
- SP.FRENAME命令は割込みプログラム中では実行しないこと。割込みプログラムで実行すると誤動作の原因となる。
- 命令実行中にCPUユニットの状態をRUN→STOPに変更しても、本命令は処理を継続する。
- 変更後のフォルダパス＋ファイル名およびフォルダパスは文字数の制限を超えないようにすること。（ファイルがアクセス不可やエラーになる場合がある）
- SP.FRENAME命令で操作中のファイルには他機能からアクセスしないこと。（ファイル破損やエラーの原因）
- 他機能からアクセスしているファイルやフォルダへの操作は行わないこと。

### 表
#### エラーコード「3405H」の内容
| エラーコード(SD0) | 内容 |
| :--- | :--- |
| 3405H | ドライブ指定(s1)によって指定されたドライブがSDメモリカード以外の場合。<br> (s2)で指定したファイル名/フォルダ名文字列が読み出せない場合の詳細条件:<br> ・ファイル名文字列が1文字以上指定されていない<br> ・指定したファイル名文字列に254文字以上を指定<br> ・指定したフォルダパス245文字以上を指定<br> ・指定したフォルダパスに11以上の階層を指定<br> ・ファイル指定時、指定したファイル名文字列の末尾に区切り文字を指定<br> ・指定したファイル名文字列の末尾、または各区切り文字の直前に半角ピリオドを指定<br> (s3)で指定したファイル名/フォルダ名文字列が読み出せない場合の詳細条件:<br> ・ファイル名/フォルダ名文字列が1文字以上指定されていない<br> ・指定したファイル名文字列に253文字以上を指定<br> ・指定したフォルダ名文字列に244文字以上を指定<br> ・指定したファイル名文字列に区切り文字を指定<br> ・指定したファイル名文字列の末尾に半角ピリオドを指定<br> (s2)で指定したフォルダパス内にルートフォルダ直下のシステムフォルダ($MELPRJ$)を指定した場合<br> (s3)で指定したファイル名/フォルダ名に$MELPRJ$を指定した場合 |

- SP.FRENAME命令が異常完了した場合、完了ステータス(d1)+1で指定したデバイスにエラーコードが格納される。
- 命令が演算エラーになった場合は格納されない。
- 完了ステータス(d1)+1に格納されるエラーコードの詳細は687ページのファイル操作命令で発生するエラーコードを参照。

</contents>