ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page281

<overview>
本ページは、算術演算命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：機能説明、演算結果のオーバーフロー時の挙動、エラーコードの説明
- 図部分：デバイス指定時および定数指定時の演算例を示すビットデータの具体例
- 表部分：オーバーフロー時の符号付き・符号なし指定の違いを示す表、およびエラーコードと内容の表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### 機能
- (s1)で指定したデバイスから(n)点分のBIN16ビットデータと、(s2)で指定したデバイスから(n)点分のBIN16ビットデータ、または定数の減算を行い、減算結果を(d)で指定したデバイス以降に格納する。
- ブロック減算は16ビット単位で行う。

#### 演算結果のオーバーフローについて
- オーバーフローが発生した場合の動作例を示す。
- この場合、SM700（キャリフラグ）はONしない。

#### エラー
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 2821H              | (s1)から(n)点分のデバイス範囲と、(d)から(n)点分のデバイス範囲が重複している場合。ただし、(s1)と(d)に同一デバイスを指定した場合は除く。<br>(s2)から(n)点分のデバイス範囲と、(d)から(n)点分のデバイス範囲が重複している場合。ただし、(s2)と(d)に同一デバイスを指定した場合は除く。 |

### 図
#### (s2)にデバイスを指定した場合の例
- (s1)のデバイスからn点分の16ビットBINデータ（例：8765、8888、9325、…）と、(s2)のデバイスからn点分の16ビットBINデータ（例：1234、5678、9876、…）を減算し、その結果を(d)のデバイスに格納する。
- 各データはb15からb0までの16ビットで表現されている。

#### (s2)に定数を指定した場合の例
- (s1)のデバイスからn点分の16ビットBINデータと、(s2)に指定した単一の定数（例：8880）を減算し、その結果を(d)のデバイスに格納する。

### 表
#### 演算結果にオーバーフローが生じた場合の例
| 符号付き指定の場合 | 符号なし指定の場合 |
|--------------------|--------------------|
| K-32768 (H8000) - K2 (H0002) → K32766 (H7FFE)<br>K32767 (H7FFF) - K-2 (HFFFE) → K-32767 (H8001) | K0 (H0000) - K1 (H0001) → K65535 (HFFFF) |

- 符号付き指定では、オーバーフロー時に値が符号範囲内で循環する。
- 符号なし指定では、0未満の値は最大値にラップアラウンドする。

</contents>