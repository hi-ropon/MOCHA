ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page800

<overview>
このページは、文字列処理に関する機能説明の一部であり、主にBIN16ビットデータを文字列に変換する方法について記載されています。ページ構成は以下の通りです。
- テキスト部分：機能の説明、注意事項、例の説明
- 図部分：BIN16ビットデータから文字列への変換処理のフロー図および例の変換イメージ
- 表部分はなく、数値やコードの説明は図内の表形式で示されている
</overview>

<contents>
### テキスト
#### 機能
- (s2)で指定されたBIN16ビットデータを、(s1)で指定された位置に小数点を付加して文字列に変換する。
- (d)で指定されたデバイス番号以降に変換結果を格納する。

#### 注意事項
- (s1)で指定できる全桁数は2～8桁。
- (s1)+1で指定できる小数部桁数は0～5桁。ただし、小数部桁数は全桁数-3以下に設定する必要がある。

### 図
#### 変換処理のフロー図
- (s1)に全桁数、(s1)+1に小数部桁数を指定。
- (s2)にBIN16ビットデータを指定。
- これらの値を元に、符号付きの文字列を生成し、(d)以降のデバイスに格納。
- 文字列は各桁のアスキーコードで表現され、最後に00H（文字列終端コード）が自動的に格納される。

#### 例：データ「-123」を小数部桁数1桁の「-12.3」として文字列変換する場合
- (s1) = 5（全桁数）
- (s1)+1 = 1（小数部桁数）
- (s2) = -123（BIN16ビットデータ）
- 変換結果は(d)以降のデバイスに以下のように格納される：
  - (d) : 31H（'1'）、2DH（'-'）
  - (d)+1 : 2EH（'.'）、32H（'2'）
  - (d)+2 : 00H（文字列終端）、33H（'3'）

このように、符号、小数点、数字がアスキーコードで順に格納される。

</contents>