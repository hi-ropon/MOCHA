ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page709

<overview>
このページは主にテキストと表、さらに座標変換の説明を含む図で構成されています。テキスト部分ではスケーリング用変換データの機能説明と注意事項、エラーコードの説明が記載されています。表は座標ポイント数とデバイス割付の対応関係を示し、エラーコードとその内容をまとめています。図はX-Y座標のスケーリング範囲と演算エラーの範囲を示したグラフです。
</overview>

<contents>
### テキスト
#### 機能
(s2)で指定したスケーリング用変換データ（32ビットデータ単位）に対し、(s1)で指定した入力値からスケーリングを行い、(d)で指定されたデバイス番号に演算結果を格納します。スケーリング変換は、(s2)で指定したデバイス以降に格納したスケーリング用変換データに基づいて行います。

- 演算結果が整数値にならない場合は、小数点以下1桁目を四捨五入します。
- スケーリング用変換データのX座標データは昇順に設定してください。
- (s1)はスケーリング用変換データ範囲内((s2)～(s2)+1のデバイス値)で設定してください。
- 複数のポイントが同一X座標を指定している場合は、ポイントNo.が最も大きいポイントのY座標の値を出力します。
- スケーリング用変換データの座標ポイント数は1～4294967295にしてください。

#### 注意事項
スケーリング用変換データが昇順にソートされている場合、SM755（スケーリングデータチェック設定）の状態により探索方法が異なり、処理速度も異なります。詳細はDSCL(P)(_U)命令を参照してください。

#### エラー
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3405H              | ・X座標データが昇順に設定されていないとき。<br>・(s1)で指定した入力値が、設定したスケーリング用変換データの範囲外のとき。<br>・(s2)のデバイスから座標ポイント数が1～4294967295の範囲外のとき。 |

### 表
#### 設定項目 (nは(s2)で指定する座標ポイント数を示す)
| 座標ポイント数 | デバイス割付 |
|----------------|--------------|
| (s2)+1, (s2)   |              |
| X座標          | ポイント1    | (s2)+3, (s2)+2 |
|                | ポイント2    | (s2)+5, (s2)+4 |
|                | ...          | ...          |
|                | ポイントn    | (s2)+2n+1, (s2)+2n |
| Y座標          | ポイント1    | (s2)+2n+3, (s2)+2n+2 |
|                | ポイント2    | (s2)+2n+5, (s2)+2n+4 |
|                | ...          | ...          |
|                | ポイントn    | (s2)+4n+1, (s2)+4n |

### 図
X-Y座標のスケーリング範囲を示すグラフで、X軸に入力値(s1)、Y軸に演算結果(d)を示しています。演算可能範囲内でポイント1からポイントnまでの座標が設定されており、範囲外は演算エラーとなります。ポイント間は直線で補間されていることが示されています。
</contents>