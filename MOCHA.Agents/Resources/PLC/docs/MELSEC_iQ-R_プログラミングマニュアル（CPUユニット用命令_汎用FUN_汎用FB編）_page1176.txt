ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1176

<overview>
本ページは「内蔵Ethernet機能用命令」の一部である「ソケット通信用命令」についての説明で構成されています。ページ全体は以下の3つのセクションに分かれています。
1. テキスト部分：コントロールデータの説明、機能の詳細、エラーに関する説明が記載されています。
2. 表部分：コントロールデータの内容を示す表とエラーコードの説明表が掲載されています。
3. 図やグラフはなく、文章と表による構成です。
</overview>

<contents>
### テキスト
#### コントロールデータ
オペランド(s2)に関するコントロールデータの説明です。

- デバイス +0：システムエリア（内容なし）
- デバイス +1：完了ステータス
  - 命令完了時に完了ステータスを格納
  - 0000H：正常完了
  - 0000H以外：異常完了（エラーコード）

セット側はシステム領域に格納されます。

#### 機能
(s1)で指定したコネクションのソケット通信受信データエリアから、(n)で指定したワード分のデータを読み出し、(d)で指定されたデバイス以降に格納します。読み出しデータ(n)が0の場合は無処理です。

**Point**
- 読出しデータ数を1ワードにすると、受信データ長を読み出せます。これにより、SP.SOCRCV/S.SOCRCVS命令実行時に受信データを格納するデバイスを変更可能です。
- S(P).SOCRDATA命令で今回受信するデータをチェックし、SP.SOCRMODE命令で次回受信するデータサイズを指定してから、SP.SOCRCV/S.SOCRCVS命令で今回分を読み出せます。これにより、今回の受信データをもとに次回受信データサイズを指定可能です。

#### エラー
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3405H              | (s1)で指定するコネクション番号が1～16以外の場合。<br>(n)で指定したデバイスの値が5120を超える場合。 |

異常完了時は完了ステータス(s2)+1にエラーコードが格納されます。完了ステータス(s2)+1に格納されるエラーコードの詳細は「MELSEC iQ-R Ethernetユーザーズマニュアル（応用編）」を参照してください。

### 表
#### コントロールデータ

| デバイス | 項目         | 内容                                                                 | 設定範囲 | セット側 |
|----------|--------------|----------------------------------------------------------------------|----------|----------|
| +0       | システムエリア | —                                                                    | —        | —        |
| +1       | 完了ステータス | 命令完了時に完了ステータスを格納。<br>・0000H: 正常完了<br>・0000H以外: 異常完了（エラーコード） | —        | システム |

#### エラーコード

| エラーコード (SD0) | 内容                                                                                   |
|--------------------|----------------------------------------------------------------------------------------|
| 3405H              | (s1)で指定するコネクション番号が1～16以外のとき。<br>(n)で指定したデバイスの値が5120を超えるとき。 |

</contents>