ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page378

<overview>
本ページは「nワードデータのnワード右シフト」命令（SFTWR(P)）について解説しています。構成は以下の通りです。
- テキスト部分：命令の概要説明、使用可能なCPUタイプ、命令の動作説明
- 図部分：ラダー図、ST言語例、FBD/LD図の3種類の命令表現
- 表部分：実行条件の説明表、設定データの内容・範囲・データ型の表、使用可能デバイスの一覧表
グラフは含まれていません。
</overview>

<contents>
### テキスト
#### nワードデータのnワード右シフト（SFTWR(P)）
指定したデバイスから(n1)ワード分のデータ範囲内で、右へ(n2)ワード分シフトさせます。シフト後の空きデータには0が格納されます。

対応CPUタイプはRnCPU、RnENCPU、RnPCPU（プロセス、二重化）、RnPSFCPU（一般、安全）、RnSFCPU（一般、安全）です。

### 図
#### ラダー図
- デバイス(d)から(n1)ワード分のデータを右に(n2)ワードシフトする命令ブロックが示されています。

#### ST言語例
- ENO := SFTWR(EN, n1, n2, d);
- ENO := SFTWRP(EN, n1, n2, d);

#### FBD/LD図
- EN（実行条件）、n1（シフトするデータ数）、n2（シフト数）、d（デバイス）を入力し、ENO（実行結果）を出力する命令ブロック。

### 表
#### 実行条件
| 命令   | 実行条件の説明                   |
|--------|--------------------------------|
| SFTWR  | 立ち上がりパルスで実行          |
| SFTWRP | 立ち上がりエッジで実行          |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容               | 範囲       | データ型           | データ型(ラベル) |
|------------|--------------------|------------|--------------------|------------------|
| (d)        | シフトするデバイス | ―          | ワード             | ANY16            |
| (n1)       | シフトするデータ数 | 0～65535   | 符号なしBIN16ビット | ANY16            |
| (n2)       | シフト数           | 0～65535   | 符号なしBIN16ビット | ANY16            |
| EN         | 実行条件           | ―          | ビット             | BOOL             |
| ENO        | 実行結果           | ―          | ビット             | BOOL             |

#### 使用可能デバイス
| オペランド | ビットデバイス例                     | ワードデバイス例                                  | ダブルワード | 間接指定 | 定数 | その他 |
|------------|------------------------------------|-------------------------------------------------|--------------|----------|------|--------|
| (d)        | ―                                  | ―                                               | ―            | ―        | ○    | ―      |
| (n1)       | ○*1                               | ○                                               | ○            | ―        | ○    | ―      |
| (n2)       | ○*1                               | ○                                               | ○            | ―        | ○    | ―      |

*1 FX、FYは使用できません。

以上の内容により、SFTWR(P)命令は指定したワード数のデータを右方向にシフトし、空いた部分に0を格納する動作を行い、複数のCPUタイプで利用可能であることがわかります。
</contents>