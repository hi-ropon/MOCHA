ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page527

<overview>
本ページは、データ転送命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：使用可能デバイスの一覧表、機能説明、例示、エラーコードの説明
- 表部分：使用可能デバイスの対応表、エラーコード一覧表
- 図部分：データのビット・桁移動の流れを示す図、ビット指定の例示図
</overview>

<contents>
### テキスト
#### 使用可能デバイス
オペランドごとに使用可能なビット、ワード、ダブルワード、間接指定、定数の種類が表形式で示されています。FX、FYは使用不可の注記があります。

#### 機能
SM773（SMOV命令のBCD変更禁止フラグ）がOFFの場合、(s)と(d)の内容を4桁のBCD（0000～9999）に変換し、(n1)桁目から下位(n2)桁分を(d)の(n3)桁を先頭に転送（合成）後、BINに変換して(d)に格納します。

1. (s)をBINからBCDに変換  
2. (n1)桁目から下位(n2)桁分を(d)'の(n3)桁目を先頭に転送（合成）  
3. 合成したBCDデータをBINに変換し(d)へ格納

SM773がONの場合はBIN→BCD変換は行わず、桁移動は4ビット単位で行います。

(n1)にビットの桁指定を使う場合は、先頭ビットデバイスから指定桁数×4ビット分の桁指定となります。

#### 例
X0から3桁×4ビット指定する場合の命令例が示されています。  
[ SMOV K3X0 K3 K2 K2X100 K2 ]  
(1)指定定数、(2)先頭ビットデバイス  
先頭ビットデバイスX0から、指定桁数3×4ビット＝12ビット分が桁指定となることを説明しています。

#### エラー
エラーコード3405Hの説明  
- (n1)、(n2)、(n3)のいずれかが1～4以外のとき  
- SM773がOFFのとき、(s)、(d)のどちらかが0～9999以外のとき  
- (n2)が(n1)もしくは(n3)より大きいとき

### 表
#### 使用可能デバイス一覧
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s) | X,Y,M,L,SM,F,SB,FX,FY | J□￥□,T,ST,C,D,W,SD,SW,FD,R,ZR,RD | U□￥G□,J□￥□,U3E□￥(H)G□ | Z | LT,LST,LC | LZ | K,H,E,$ | － | － |
| (n1)～(n3)、(d) | 同上 | 同上 | 同上 | Z | LT,LST,LC | － | 〇 | － | － |

※ FX、FYは使用不可

#### エラーコード一覧
| エラーコード(SD0) | 内容 |
| :--- | :--- |
| 3405H | (n1)、(n2)、(n3)のいずれかが1～4以外のとき。SM773がOFFのとき、(s)、(d)のどちらかが0～9999以外のとき。(n2)が(n1)もしくは(n3)より大きいとき。 |

### 図
- BIN16ビットのデータ(s)をBCD4桁に変換し、(n1)桁目から下位(n2)桁分を(d)'の(n3)桁目を先頭に転送（合成）する流れを示す図。  
- SM773がONの場合はBIN→BCD変換を行わず、4ビット単位で桁移動する流れの図。  
- 例示図では、先頭ビットデバイスX0から3桁×4ビット＝12ビット分の桁指定の様子をビット単位で示しています。

</contents>