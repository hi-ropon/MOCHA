ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1304

<overview>
本ページは「待機系から制御系へのデータ書込み」に関する説明で構成されています。テキスト部分では命令の動作概要や注意事項が記載されており、2つのラダー図（命令例）が挿入されています。表部分では、データ書込み時に指定するデバイス/ラベルの種類とその内容についてまとめられています。グラフやチャートはなく、図はラダー図のみです。
</overview>

<contents>
### テキスト
#### 待機系から制御系へのデータ書込み
- CONTWR(P)命令は、待機系から制御系にデータを書き込む際に、命令実行時の時刻情報を含めることで、命令が正常完了した時刻を制御系で確認可能。
- 例として、データの先頭に時刻情報を含めて制御系に書き込む場合のラダー図が示されている。
- CONTWR(P)命令が異常完了した場合、PALERT(P)命令により続行エラーを発生させ、異常完了を通知可能。
- 異常完了時にデータ書込み不可要因を通知する例のラダー図も掲載。
- 注意事項として、トラッキング転送対象外のデバイス/ラベルを使用すること、両系のファイルが同一状態で命令を実行すること、書込み先が命令実行時の待機系の状態に依存することなどが挙げられている。
- シーケンサへの書込みやFTPサーバ機能利用時の注意も記載。

### 図（ラダー図）
- 例1: DATARDP命令で取得した時刻情報（時、分、秒）をD100～D102に格納し、CONTWRP命令で待機系のD100～D131データを制御系のD200～D231に書き込む。
- 例2: CONTWRP命令で待機系のデータを書き込み、異常完了時にPALERT命令でエラーコード1810Hの詳細情報をD11に格納。

### 表
| 項目 | 内容 |
| :--- | :--- |
| ファイルレジスタ(R10など) | 命令実行時に待機系で使用しているファイルレジスタのファイル名やブロックNo.と同じ制御系のファイルレジスタに対してデータ書込みを実行。ファイルレジスタファイルがない場合やファイルサイズが一致しない場合は命令が異常完了。 |
| インデックス修飾(W100Z0など) | 命令実行時に待機系のインデックスレジスタに格納されている値から制御系の書込み先デバイスを決定。 |
| 間接指定(@D2000など) | 命令実行時に待機系のデバイスに格納されている間接アドレスから制御系の書込み先デバイスを決定。 |
| ラベルの配列(wLabel1[D0]など) | 命令実行時に待機系の配列の添字に格納されている値から制御系の書込み先ラベルを決定。 |

</contents>