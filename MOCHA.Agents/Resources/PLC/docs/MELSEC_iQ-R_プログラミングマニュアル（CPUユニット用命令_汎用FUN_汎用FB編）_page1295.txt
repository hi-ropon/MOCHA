ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1295

<overview>
本ページは「29 二重化システム用命令」の章の一部で、「29.1 系切替え」について説明しています。ページ構成は以下の通りです。
- テキスト部分：命令の概要説明、実行条件の説明、設定データの内容説明
- 表部分：命令の実行条件一覧、設定データの内容・範囲・データ型の詳細、使用可能デバイスの一覧
- 図部分：ラダー図、ST（ステートメント）形式の命令記述、FBD/LD（ファンクションブロック図/ラダーダイアグラム）形式の命令ブロック図
</overview>

<contents>
### テキスト
#### 29 二重化システム用命令
##### 29.1 系切替え
SP.CONTSW命令は、スキャンのEND処理時に制御系と待機系を切り替えるための命令です。

### 図
- **ラダー図**  
  ラダー形式での命令は、(s)と(d)の2つのオペランドを持つ接点とコイルの形で表現されています。

- **ST（ステートメント）形式**  
  `ENO:=SP_CONTSW(EN,s,d);`  
  EN（実行条件）、s（系切替え命令識別番号）、d（異常完了デバイス）を引数に取る関数呼び出し形式です。

- **FBD/LD形式**  
  ファンクションブロック図またはラダーダイアグラム形式で、EN（入力）、ENO（出力）、s、dの4端子を持つブロックとして表現されています。

### 表
#### 実行条件
| 命令       | 実行条件 |
|------------|----------|
| SP.CONTSW  | EN       |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容                                         | 範囲          | データ型           | データ型(ラベル) |
|------------|----------------------------------------------|---------------|--------------------|------------------|
| (s)        | 系切替え命令識別番号。系切替え要求を発行した処理を特定するための値を指定する。 | -32768～32767 | 符号付きBIN16ビット | ANY16            |
| (d)        | 異常完了デバイス。系切替えが実行できなかったときにONし、正常に系切替えが完了したときにOFFする。 | —             | ビット             | ANY_BOOL         |
| EN         | 実行条件                                     | —             | ビット             | BOOL             |
| ENO        | 実行結果                                     | —             | ビット             | BOOL             |

#### 使用可能デバイス
| オペランド | ビット                             | ワード                                     | ダブルワード | 間接指定 | 定数 | その他 |
|------------|----------------------------------|--------------------------------------------|--------------|----------|------|--------|
| (s)        | X, Y, M, L, SM, F, B, SB, FX, FY | J□¥□口、T, ST, C, D, W, SD, SW, FD, R, ZR, RD | —            | —        | ○    | —      |
| (d)        | ○                                | —                                          | —            | —        | ○    | —      |

- ○は使用可能、—は使用不可を示す。

</contents>