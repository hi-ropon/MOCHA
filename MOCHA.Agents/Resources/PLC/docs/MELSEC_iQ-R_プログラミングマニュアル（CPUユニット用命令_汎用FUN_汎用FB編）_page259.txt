ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page259

<overview>
このページは「BCD4桁減算」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、実行条件、機能説明、エラー内容の説明
- 表部分：実行条件の命令一覧、設定データの内容・範囲・データ型、使用可能デバイス一覧、エラーコード一覧
- 図部分：ラダー回路の簡単なイメージ、BCD4桁減算の動作例（数値の減算過程）、アンダーフロー発生時の例
</overview>

<contents>
### テキスト
#### BCD4桁減算
指定した2つのBCD4桁データを減算する命令について説明しています。

#### 実行条件
- 命令「B-」は立ち上がりエッジで実行
- 命令「B-P」は立ち下がりエッジで実行

#### 機能
- (s)で指定したBCD4桁データから(d)で指定したBCD4桁データを減算し、結果を(d)に格納します。
- 減算結果が0の場合は0が格納されます。
- 減算結果がアンダーフローした場合は、結果が最大値（9998）となり、キャリフラグ（SM700）はONしません。

#### エラー
- エラーコード3405H：(s)または(d)のBCDデータが0～9999の範囲外の場合に発生します。

### 表
#### 実行条件
| 命令 | 実行条件 |
| :--- | :--- |
| B- | 立ち上がりエッジ |
| B-P | 立ち下がりエッジ |

#### 内容、範囲、データ型
| オペランド | 内容 | 範囲 | データ型 | データ型(ラベル) |
| :--- | :--- | :--- | :--- | :--- |
| (s) | 減算データまたは減算データが格納されているデバイス | 0～9999 | BCD4桁 | ANY16 |
| (d) | 減算されるデータが格納されているデバイス | 0～9999 | BCD4桁 | ANY16 |

#### 使用可能デバイス
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s) | ○ | ○ | ○ | ○ | ○ | - | - |
| (d) | ○ | ○ | ○ | ○ | - | - | - |

#### エラーコード(SD0)
| エラーコード | 内容 |
| :--- | :--- |
| 3405H | (s)のBCDデータが0～9999以外のとき、(d)のBCDデータが0～9999以外のとき |

### 図
- ラダー回路の簡単なイメージ図（sとdのオペランドを示す）
- BCD4桁減算の例：
  - 0678 - 0234 = 0444（正常減算）
  - 0001 - 0003 = 9998（アンダーフロー発生時の結果）
</contents>