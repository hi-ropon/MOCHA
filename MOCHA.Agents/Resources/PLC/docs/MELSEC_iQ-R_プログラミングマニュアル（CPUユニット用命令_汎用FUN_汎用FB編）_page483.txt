ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page483

<overview>
このページは、SM705の変換桁数切換機能に関する説明で構成されています。主にテキストで機能の概要と設定方法を解説し、表でSM705の状態と設定方法の対応を示しています。また、図を用いてASCIIコードのビット配置と10進アスキーコードからBCD4桁データへの変換イメージを説明しています。最後に具体例を挙げて変換の流れを視覚的に示しています。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定されたデバイス番号以降に格納されている10進アスキーデータをBCD4桁データに変換し、(d)で指定されたデバイスに格納する。
- SM705（変換桁数切換）の状態により、(s)に設定する10進アスキーデータの設定方法が異なる。

#### SM705の状態と(s)の設定方法
| SM705の状態 | (s)の設定方法 | 参照先 |
|-------------|---------------|---------|
| OFF         | 固定桁数（4桁）で設定 | 483ページ SM705(変換桁数切換)がOFFの場合の(s)の設定方法 |
| ON          | 任意の桁数（最大4桁）で設定 | 484ページ SM705(変換桁数切換)がONの場合の(s)の設定方法 |

※SM705に対応しているCPUユニットのファームウェアバージョンについては、MELSEC iQ-R CPUユニットユーザーマニュアル（応用編）を参照。対応していないCPUユニットでは、SM705をONにしてもOFFの場合と同様の動作となる。

### SM705(変換桁数切換)がOFFの場合の(s)の設定方法
- (s)～(s)+1に10進アスキーデータを4桁固定で設定する。
- ASCIIコードは以下のように各桁に対応：
  - ASCII 10³：千の位のアスキーコード
  - ASCII 10²：百の位のアスキーコード
  - ASCII 10¹：十の位のアスキーコード
  - ASCII 10⁰：一の位のアスキーコード
- 設定可能な値は0～9999の範囲内。
- (s)+2以降のデータは無視される。
- 各位に設定するアスキーコードは30H～39Hの範囲内。
- 20Hまたは00Hのアスキーコードは30Hとして処理。

### 図の説明
- ASCIIコードのビット配置を示す図があり、(s)と(s)+1の16ビットずつのデータが4桁のASCIIコードとして格納されている。
- それを(d)に格納する際に、各桁のASCIIコードを10進数の各桁の値に変換し、BCD4桁データとして格納するイメージを示している。

### 例
- (s)に8765が指定された場合の変換例。
- (s)と(s)+1にそれぞれASCIIコード（37H=7、38H=8、35H=5、36H=6）が格納されている。
- これを(d)に8,7,6,5のBCD4桁データとして格納する。

</contents>