ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page474

<overview>
このページは、SM705の変換桁数切換機能に関する説明で構成されています。ページ全体は主にテキスト部分と表部分、さらにデータ変換の仕組みを示す図解（グラフ的要素を含む）で構成されています。テキスト部分では機能の概要と注意点が説明され、表部分ではSM705の状態と(s)の設定方法の対応関係が示されています。図解は、10進アスキーデータをBIN32ビットデータに変換する具体的なビット配置や例を示しています。
</overview>

<contents>
### テキスト
#### 機能概要
- (s)で指定されたデバイス番号以降に格納されている10進アスキーデータをBIN32ビットデータに変換し、(d)で指定されたデバイス番号に格納する。
- SM705（変換桁数切換）の状態により、(s)に設定する10進アスキーデータの設定方法が異なる。

#### SM705の状態と(s)の設定方法
| SM705の状態 | (s)の設定方法 | 参照先 |
| --- | --- | --- |
| OFF | 固定桁数（符号＋数値部10桁）で設定 | 474ページ |
| ON | 任意の桁数（最大：符号＋数値部10桁）で設定 | 475ページ |

- SM705に対応しているCPUユニットのファームウェアバージョンについては別途参照が必要。
- SM705非対応CPUユニットでは、ON/OFFに関わらずOFFの場合と同様に動作。

#### SM705(変換桁数切換)がOFFの場合の(s)の設定方法
- (s)～(s)+5に10進アスキーデータを固定桁数で設定。
- ASCIIコードの割り当ては以下の通り：
  - ASCII S：符号のアスキーコード
  - ASCII 10^0～10^9：各桁のアスキーコード（1の位から十億の位まで）
  - (1)：無視
  - (2)：上位16ビット
  - (3)：下位16ビット
- DDABIN(P)の場合のデータ範囲は-2147483648～2147483647、DDABIN(P)_Uの場合は0～4294967295。
- (s)+5の上位バイトおよび(s)+6以降のデータは無視。
- 符号データは正のとき20H、負のとき2DHを設定（20H、2DH以外は正のデータとして処理）。
- 各位のアスキーコードは30H～39Hの範囲内。
- 20Hまたは00Hのときは30Hとして処理。

### 図解
- (s)～(s)+5の各デバイスに格納されるASCIIコードのビット配置を示す表。
- 10進アスキーデータの各桁（符号＋10桁）をBIN32ビットデータに変換する際のビット割り当てを示す。
- BIN32データは(d)+1の上位16ビットと(d)の下位16ビットに分割される。

### 例
- DDABIN(P)命令で(s)に"-1234543210"を設定した場合の各デバイスの値を16進数（H表記）で示す。
- 符号は2DH（-）、数字はそれぞれ対応するASCIIコード（31H、33H、35Hなど）で表現。
- 変換後のBIN32データは"-1234543210"として認識される。

</contents>