ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page842

<overview>
このページは「文字列処理」に関する説明で構成されています。ページ全体は以下の3つのセクションに分かれています。
1. テキスト部分：文字列データの削除処理の機能説明と注意点
2. 図部分：文字列削除処理のビット単位の動作を示す図解
3. 表部分：エラーコードとその内容の一覧表
</overview>

<contents>
### テキスト
#### 機能
(d)で指定された文字列データの先頭から(s)文字目で指定された位置（削除開始位置）より、(n)文字分を削除する処理について説明しています。

- 削除した文字以降の文字列データを5文字分左にシフトします。
- シフト後、空いたデバイスには00H（NULLコード）を格納します。
- 削除後、文字列(d)が偶数の場合は文字列の最後の次のデバイス（1ワード）にNULLコードを格納します。
- 削除後、文字列(d)が奇数の場合は文字列の最後のデバイスの上位8ビットにNULLコードを格納します。
- 削除した文字列以降の文字列を(n)文字分シフト後、空いたデバイスにはNULLコードを格納します。

#### エラー
| エラーコード(SD0) | 内容 |
|------------------|------|
| 2820H | (d)で指定したデバイス以降、デバイス/ラベルメモリの各設定エリアにNULLコード(00H)が無いとき。 |
| 3405H | (d)で指定した文字列の文字数が16383文字を超えているとき。<br>(s)に指定可能な範囲外のデータを設定したとき。<br>・指定した値が1≦s≦16383の範囲外<br>・指定した値が文字列(d)の文字数を超えている<br>(n)に指定可能な範囲外のデータを設定したとき。<br>・指定した値が文字列(d)の(s)から最終文字までの文字数を超えている<br>・指定した値が負数 |

### 図
文字列削除処理の動作をビット単位で示しています。

- 左側の表は削除前の文字列データのビット配置を示し、(d)+1から(d)+9までのアドレスに対応する16進数と文字コードが並んでいます。
- 中央の図は削除開始位置(s)3文字目から5文字分削除した後の文字列のシフト処理を示しています。削除した文字以降の文字列が左に5文字分シフトされていることがわかります。
- 右側の図はシフト後、空いたデバイスに00Hが格納されている様子を示しています。
- 図中の注釈により、(d)+7以降の文字列データは変化しないことが明記されています。

</contents>