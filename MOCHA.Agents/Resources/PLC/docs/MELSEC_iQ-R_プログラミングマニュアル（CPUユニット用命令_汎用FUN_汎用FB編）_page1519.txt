ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1519

<overview>
本ページは「43.7 オフディレイタイマ」に関する説明で構成されています。ページ全体は以下のセクションで構成されています。
- テキスト部分：オフディレイタイマの概要、使用条件、動作説明、演算処理の詳細
- 表部分：設定データの引数一覧（引数名、内容、種別、データ型）、遅延時間設定の最小値・最大値の説明表
- 図部分：ラダー、FBD/LD、ST言語でのオフディレイタイマのシンボル・インスタンス表記例
</overview>

<contents>
### テキスト
#### 43.7 オフディレイタイマ（TOF(_E)）
- プロセスCPU（二重化モード）およびSIL2プロセスCPUの両系実行プログラムで使用した場合、バックアップモード時の待機系では動作しません。
- 指定された時間の後、信号をOFFにします。

#### 機能
##### 演算処理
1. 出力
- 入力sがONになると、出力d1をONにします。
- 入力sがONからOFFに変わると、引数nで設定された遅延時間の後にd1をOFFにします。
- d2にはd1がOFFするまでの経過時間がセットされます。
- 経過時間のカウントにはロングタイマを使用します。

2. 遅延時間の設定
- 引数nの有効設定範囲はT#1ms～T#2147483msです。
- ただし、エンジニアリングツールのタイマ時限設定を変更することで有効範囲は変わります。

- (n)の設定値は、(s)がON→OFF（立下り）となったときの値が使用されます。
- (s)がOFFの時に(n)の値を変更した場合、変更した値が有効になるのは(s)の次回立下り時です。

### 図
- ラダー、FBD/LD言語でのオフディレイタイマのシンボル例（EN/ENOなし、EN/ENO付き）
- ST言語でのインスタンス名の例（IN, PT, n, Q, ETの引数指定）

### 表
#### 設定データ：内容、種別、データ型
| 引数 | 内容 | 種別 | データ型 |
| :--- | :--- | :--- | :--- |
| EN | 実行条件（TRUE:実行、FALSE:停止） | 入力変数 | BOOL |
| s(IN) | 時間計測 | 入力変数 | BOOL |
| n(PT) | 遅延時間設定値 | 入力変数 | TIME |
| ENO | 出力状態（TRUE:正常、FALSE:異常または停止） | 出力変数 | BOOL |
| d1(Q) | 出力 | 出力変数 | BOOL |
| d2(ET) | 経過時間 | 出力変数 | TIME |

#### 遅延時間設定の最小値・最大値
| 最小値 | 最大値 |
| :--- | :--- |
| タイマ時限のロングタイマ設定値[ms]と同じ。ただし、ロングタイマ設定値が1ms未満の場合は1msとなる。 | 下記の条件を満たす値となる。遅延時間設定値は時間型(32ビット値)のため最大値は時間型の範囲に収まる値。<br>・遅延時間設定値[ms] ≤ 2147483647[ms] × タイマ時限のロングタイマ設定値[ms]<br>【例】<br>・タイマ時限のロングタイマ設定値が0.001msの場合：T#1ms～T#2147483ms<br>・タイマ時限のロングタイマ設定値が1000msの場合：T#1000ms～T#2147483000ms |

</contents>