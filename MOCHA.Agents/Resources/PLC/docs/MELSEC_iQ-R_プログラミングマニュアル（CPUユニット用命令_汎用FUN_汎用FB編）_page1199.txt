ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1199

<overview>
本ページは「エラーコード(SD0)」に関する説明と、FTPクライアント設定で指定したFTPサーバを使用するプログラム例で構成されています。ページ上部にエラーコードとその内容をまとめた表があり、下部にはラダー図を用いたプログラム例が示されています。テキスト部分はエラーコードの詳細説明とプログラム例の解説、表部分はエラーコードと内容の対応表、図部分はFTPファイル転送のラダー図となっています。
</overview>

<contents>
### テキスト
#### エラーコード(SD0)
エラーコードとその内容を示しています。主にFTPファイル転送時に発生するエラーの詳細が記載されています。

- 2820H: デバイス番号以降の設定エリアに0000Hが存在しない場合のエラー。
- 3405H: デバイスに格納されている文字列が255文字を超える場合や、ファイル名やパスの文字数制限超過、転送可能範囲外のドライブNo.指定などのエラー。
- 3426H: ファイル名未指定や不正なファイル名、ドライブNo.の区切り文字不正、拡張子指定の誤り、ワイルドカード指定文字の混入などのエラー。
- 3430H: FTPクライアント設定のパラメータが未設定の状態でSP.FTPPUT命令を実行した場合のエラー。

#### プログラム例
FTPクライアント設定で指定したFTPサーバを使用し、CPUユニットのドライブ2に格納されているファイル「\database1\recipe\recipe_db.txt」をFTPサーバの「\database1\recipe」へ送付するプログラム例を示しています。

- X0をONにすると、以下の動作を行う。
  1. 使用用途設定エリアを設定（MOVP命令）。
  2. SP.FTPPUT命令でファイル転送を実行。
  3. 転送正常完了時にM150をセット。
  4. 転送異常完了時にM151をセット。

### 表
| エラーコード(SD0) | 内容 |
| :--- | :--- |
| 2820H | デバイス番号以降、デバイス/ラベルメモリの設定エリア間に0000Hが存在しないとき。 |
| 3405H | 文字列が255文字を超える、ファイル名やパスの文字数制限超過、転送可能範囲外のドライブNo.指定など。 |
| 3426H | ファイル名未指定、不正なファイル名、ドライブNo.区切り文字不正、拡張子指定誤り、ワイルドカード文字混入など。 |
| 3430H | FTPクライアント設定パラメータ未設定状態でSP.FTPPUT命令実行時。 |

### 図（ラダー図）
- X0がONになると、MOVP命令で使用用途設定エリアを設定。
- SP.FTPPUT命令でドライブ2の「\database1\recipe\recipe_db.txt」をFTPサーバの「\database1\recipe」へ送信。
- M100がONのとき、M150をセットして正常完了を示す。
- M101がONのとき、M151をセットして異常完了を示す。

(注釈)
1. 使用用途設定エリアを設定。
2. SP.FTPPUT命令を実行。
3. 正常完了表示。
4. 異常完了表示。

</contents>