ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page636

<overview>
本ページは「タイプ2」のコントロールデータ(d1)、ファイル名(s2)、および読み出しデータ(d2)に関する説明で構成されています。主に表形式で各デバイスの項目、内容、設定範囲、セット側の情報が整理されています。テキスト部分は各項目の詳細な説明があり、表部分はデバイスごとの設定内容を体系的に示しています。グラフや図は含まれていません。
</overview>

<contents>
### テキスト・表

#### タイプ2 コントロールデータ(d1)
- **オペランド**: (d1)
- **内容**: 各デバイスの項目ごとに実行タイプや完了ステータス、要求読出しデータ数、ファイル位置、列数指定、データタイプ指定などの詳細が記載されている。

| デバイス | 項目 | 内容 | 設定範囲 | セット側 |
| :--- | :--- | :--- | :--- | :--- |
| +0 | 実行/完了タイプ | 実行タイプを指定。<br>・0000H: バイナリ読出し<br>・0100H: CSV形式変換読出し | 0000H / 0100H | ユーザ |
| +1 | 完了ステータス | 命令完了時に完了ステータスを格納。<br>・0000H: 正常完了<br>・0000H以外: 異常完了（エラーコード） | ― | システム |
| +2 | 要求読出しデータ数 | 読み出したいデータ数をワード単位で指定。<br>（d1)+7のデータタイプ指定によりワード換算） | 1～65535（※1） | ユーザ |
| +3 | 未使用 | ― | ― | ― |
| +4 +5 | ファイル位置 | バイナリ読出し時はファイルの先頭または指定位置から。<br>CSV形式変換読出し時はファイルの先頭または指定位置から、または前回読出し位置から継続。 | 00000000H～FFFFFFFFH | ユーザ |
| +6 | 列数指定 | バイナリ読出し時は0を指定。<br>CSV形式変換読出し時は読出し列数を指定。<br>0は列なし（1行）、0以外は指定数の列。 | 0000H～FFFFH（0～65535） | ユーザ |
| +7 | データタイプ指定 | 0: ワード<br>1: 偶数バイト | 0,1 | ユーザ |

※1 データタイプ指定(d1)+7が1（偶数バイト）の場合、設定範囲は1～32767となる。

---

#### ファイル名(s2)
- **オペランド**: (s2)
- **内容**: ファイル名の文字列を指定。拡張子省略時は「.」から省略可能。60文字＋ピリオド＋3文字以内。61文字以上は拡張子無視で「.BIN」または「.CSV」になる。
- **設定範囲**: Unicode文字列
- **セット側**: ユーザ

---

#### 読み出したデータ(d2)
- **オペランド**: (d2)
- **内容**:

| デバイス | 項目 | 内容 | 設定範囲 | セット側 |
| :--- | :--- | :--- | :--- | :--- |
| +0 | 読出し結果データ数 | (d1)+2で指定したデータ数に対し、実際に読み出したデータ数をセット。単位は(d1)+7のデータタイプ指定による。 | ― | システム |
| +1～+□ | 読出しデータ | 読み出したデータが格納される。 | ― | システム |

---

### ポイント
- 実行タイプはバイナリ読出しとCSV形式変換読出しの2種類。
- 完了ステータスは正常完了と異常完了（エラーコード）を区別。
- ファイル位置や列数指定は読出し方法により異なる指定が必要。
- データタイプ指定によりデータの単位が変わるため、設定範囲も異なる。
- ファイル名はUnicode文字列で拡張子の省略ルールがある。
- 読み出し結果データ数は実際に読み出した数を示し、読み出しデータは連続して格納される。

</contents>