ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page116

<overview>
本ページは「時計」関連のCPUユニット用命令について説明しています。構成は以下の通りです。
- テキスト部分：命令の概要説明と処理内容の詳細
- 表部分：命令記号、処理内容、参照先をまとめた表が複数あり
- 図部分：時計データの読み出し・書き込み・加算に関するデータ構造や処理のイメージを示す簡易的な図表
</overview>

<contents>
### テキスト
#### データベースロールバック
- 命令記号「DBROLLBAK」「DBROLBAKP」は、指定した識別番号に対するデータベースでのロールバックを実行する命令。

#### 時計用命令
##### 時計データの読み出し
- 命令記号「DATERD」「DATERDP」は、CPUユニットの時計素子から「年、月、日、時、分、秒、曜日」を読み出す。
- 読み出しは(d)を基準に、(d)が年、(d)+1が月、(d)+2が日、(d)+3が時、(d)+4が分、(d)+5が秒、(d)+6が曜日となる。

##### 時計データの書き込み
- 命令記号「DATEWR」「DATEWRP」は、指定したデバイス以降に格納している時計データをCPUユニットの時計素子に書き込む。
- 書き込みは(s)を基準に、(s)が年、(s)+1が月、(s)+2が日、(s)+3が時、(s)+4が分、(s)+5が秒、(s)+6が曜日となる。

##### 時計データの加算
- 命令記号「DATE+」「DATE+P」は、時間データを加算する命令。
- (s1)と(s2)のhour, minute, secondを加算し、(d)に結果を格納する。

### 表
| 命令記号 | 処理内容 | 参照先 |
| :--- | :--- | :--- |
| DBROLLBAK / DBROLBAKP | 指定した識別番号に対するデータベースでのロールバックを実行 | 1064ページ DBROLBAK(P) |
| DATERD / DATERDP | CPUユニットの時計素子より「年、月、日、時、分、秒、曜日」を読み出す | 1070ページ DATERD(P) |
| DATEWR / DATEWRP | 指定したデバイス以降に格納している時計データをCPUユニットの時計素子に書き込む | 1072ページ DATEWR(P) |
| DATE+ / DATE+P | 時間データを加算する | 1074ページ DATE+(P) |

### 図
- 時計データの読み出し・書き込みに関して、基準となるデバイスアドレス(d)または(s)から連続した7つのデバイスに「年、月、日、時、分、秒、曜日」が格納されていることを示す表形式の図。
- 時計データの加算は、2つの時間データ（hour, minute, second）を加算し、結果を別のデバイスに格納するイメージ図。

</contents>