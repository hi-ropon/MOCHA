ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page834

<overview>
本ページは「文字列中の任意置換え」についての説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：MIDW(P)命令の概要説明、実行条件の説明
- 図部分：ラダー図、FBD/LD図、実行条件の波形図
- 表部分：設定データの内容・範囲・データ型の説明表、使用可能デバイスの一覧表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### 文字列中の任意置換え MIDW(P)
文字列データ中の任意の位置のデータを任意の文字列で置き換える命令について説明しています。

#### 実行条件
- MIDW命令は立ち上がりエッジで実行されます。
- MIDWP命令は立ち下がりエッジで実行されます。

### 図
- **ラダー図**  
  MIDW命令のラダー表現が示されており、(s1)、(d)、(s2)の3つのオペランドがあることがわかります。

- **FBD/LD図**  
  MIDW命令のFBD/LD表現が示されており、EN（実行条件）、s1（文字列または文字列が格納されている先頭デバイス）、s2（先頭文字の位置および文字数）、d（演算結果の文字列データを格納する先頭デバイス）、ENO（実行結果）という入出力ポートがあります。

- **実行条件の波形図**  
  MIDWは立ち上がりエッジ、MIDWPは立ち下がりエッジで命令が実行されることを示す波形図。

### 表
#### 設定データ（内容、範囲、データ型）
| オペランド | 内容 | 範囲 | データ型 | データ型(ラベル) |
| :--- | :--- | :--- | :--- | :--- |
| (s1) | 文字列または、文字列が格納されている先頭デバイス | — | 文字列 | ANYSTRING_SINGLE |
| (d) | 演算結果の文字列データを格納する先頭デバイス | — | 文字列 | ANYSTRING_SINGLE |
| (s2) | 先頭文字の位置および文字数を格納する先頭デバイス (s2):先頭文字の位置、(s2)+1:文字数 | — | 符号付きBIN16ビット | ANY16_ARRAY (要素数:2) |
| EN | 実行条件 | — | ビット | BOOL |
| ENO | 実行結果 | — | ビット | BOOL |

#### 使用可能デバイス
| オペランド | ビット X,Y,M,L,SM,F,B,SB,FX,FY | ワード J□¥ロ T,ST,C,D,W,SD,SW,FD,R,ZR,RD | ダブルワード U□¥G□,J□¥ロ,U3E□¥(H)G□ | Z | 間接指定 LT,LST,LC | 定数 K,H | E | $ | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s1) | — | — | ○ | — | — | — | ○ | — | — |
| (d) | — | — | ○ | — | ○ | — | — | — | — |
| (s2) | ○ | ○ | ○ | ○ | — | — | — | — | — |

- (s1)は文字列または文字列が格納されている先頭デバイスで、ワード型の一部や定数が使用可能。
- (d)は演算結果の文字列データの格納先で、ワード型や間接指定が使用可能。
- (s2)は先頭文字の位置および文字数を格納するデバイスで、ビット、ワード、ダブルワードが使用可能。

</contents>