ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1042

<overview>
本ページは「データベースレコード更新(DBUPDATE(P))」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、使用可能CPU、動作説明、実行条件の説明
- 図部分：ラダー回路図、FBD/LDの機能ブロック図
- 表部分：命令の実行条件一覧、設定データの内容・範囲・データ型の詳細表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### データベースレコード更新 DBUPDATE(P)
本命令は、設定した識別番号に対応するデータベースの指定テーブルにおいて、指定条件に合致するすべてのレコードを更新します。  
使用できるCPUはRnCPU、RnENCPU、RnPCPU（プロセス、二重化、一般）、RnPSFCPU（安全、一般）、RnSFCPU（安全）で、R00CPU、R01CPU、R02CPUでは使用できません。

#### 実行条件
- DBUPDATE命令は立ち上がりエッジで実行されます。
- DBUPDATEP命令は立ち下がりエッジで実行されます。

### 図
#### ラダー図
- 横長の命令ボックスにs1〜s5、d1、d2の入力と出力が示されています。

#### FBD/LD図
- 機能ブロック形状でEN、s1〜s5の入力、ENO、d1、d2の出力が示されています。

### 表
#### 実行条件一覧

| 命令       | 実行条件           |
|------------|--------------------|
| DBUPDATE   | 立ち上がりエッジ   |
| DBUPDATEP  | 立ち下がりエッジ   |

#### 設定データ：内容、範囲、データ型

| オペランド | 内容                                         | 範囲 | データ型           | データ型(ラベル)          |
|------------|----------------------------------------------|------|--------------------|---------------------------|
| (s1)       | データベース識別番号                         | 1〜4 | 符号付きBIN16ビット | ANY16                     |
| (s2)       | 更新対象のデータベースのテーブル名を格納する先頭デバイス*1 | —    | Unicode文字列       | ANYSTRING_DOUBLE          |
| (s3)       | 更新対象のデータベースのフィールド名を格納する先頭デバイス*1 | —    | ワード              | ANY16*2                   |
| (s4)       | 更新後のデータを格納する先頭デバイス          | —    | ワード              | ANY16*2                   |
| (s5)       | 更新条件(最大2個分)を格納する先頭デバイス     | —    | ワード              | ANY16*2                   |
| (d1)       | 完了デバイス(命令完了で1スキャンONする先頭デバイス) <br>・(d1)+0:完了信号 <br>・(d1)+1:異常完了信号 | —    | ビット              | ANYBIT_ARRAY(要素数:2)    |
| (d2)       | 完了ステータス <br>・0000:正常完了 <br>・0000以外:異常完了(エラーコード) | —    | ワード              | ANY16                     |
| EN         | 実行条件                                     | —    | ビット              | BOOL                      |
| ENO        | 実行結果                                     | —    | ビット              | BOOL                      |

*1 テーブル名とフィールド名は大文字と小文字を区別して設定します。  
*2 ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定してください。
</contents>