ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page585

<overview>
このページは、サブルーチンプログラムにおけるFCALL(P)命令の動作説明を中心に構成されています。ページ全体はテキスト説明とラダー図、タイミングチャートの図解で構成されており、さらにサブルーチンプログラムでのファンクションデバイスの使用方法についての説明も含まれています。テキスト部分が主で、図はラダー図とタイミングチャート、及びファンクションデバイスの接続例のラダー図が掲載されています。表はありません。
</overview>

<contents>
### テキスト
- 実行指令がOFFになると、サブルーチンプログラムの非実行処理を行うため、OUT命令やPLS命令（パルス化命令を含む）を強制的にOFFにできます。
- サブルーチンプログラムでファンクションデバイス（FX、FY、FD）を使用する場合、(s1)～(s5)で対応するデバイスを指定します。指定されたデバイスの内容は後述の図で示されています。
- サブルーチンプログラム実行前に、ビットデータの内容がFXに、ワードデータの内容がFDに転送されます。
- サブルーチンプログラム実行後は、FY、FDの内容が対応するデバイスに転送されます。
- FX、FYのファンクションデバイスの処理単位はビット単位、FDのファンクションデバイスの処理単位は4ワード単位です。
- 指数で指定されたデバイスの種類により、取り扱うデータサイズが異なり、データサイズが確保できない場合はエラーとなります。

### 図
#### FCALL(P)命令を使用する場合のラダー図とタイミングチャート
- ラダー図は、X0入力でCALL命令とFCALL命令でP0サブルーチンを呼び出す構成。
- P0内ではX1入力でY10出力、Y11セット、M0パルス出力、RET命令がある。
- タイミングチャートはX0、X1、Y10、Y11、M0の信号波形を示し、FCALL命令による強制OFFのタイミングが(1)で示されている。
- FCALL命令使用時は、Y11が強制的にOFFされるタイミングがある。

#### FCALL(P)命令を使用しない場合のラダー図とタイミングチャート
- CALL命令のみでP0サブルーチンを呼び出す構成。
- タイミングチャートではY11が強制OFFされず、通常の動作波形となっている。

#### ファンクションデバイス使用時のラダー図
- X10入力でCALLP命令とFCALLP命令でP0サブルーチンを呼び出し、X0、D0、D100のデバイスを引数として渡している。
- P0内ではFX0、FD1、K100、FD2のデバイスを使用し、RET命令で終了。
- 点線矢印で引数のデバイスの対応関係が示されている。

</contents>