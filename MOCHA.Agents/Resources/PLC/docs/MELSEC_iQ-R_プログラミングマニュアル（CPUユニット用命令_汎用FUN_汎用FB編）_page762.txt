ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page762

<overview>
このページは「チェックコード命令」に関する技術的な説明で構成されています。主にテキスト部分で命令の機能や動作モードの説明があり、表部分では16ビット変換モードにおける加算データの具体例と水平パリティ値の計算例が示されています。グラフや図はなく、数値データの16進・10進表記とビットごとのパリティ計算を表形式で説明しています。
</overview>

<contents>
### テキスト
#### 機能
- (s)～(s)+(n)-1に格納されたデータの加算データと水平パリティを算出し、加算データを(d)に、水平パリティを(d)+1に格納する。
- 算出時に使用するモードは16ビット変換モードと8ビット変換モードがあり、SM772（CCD/CRC命令変換モード指定）のON/OFFで選択可能。
- (n)に0を指定した場合は無処理。
- (d)に格納された加算結果でオーバーフローが発生した場合の動作は、SM700（キャリフラグ）はONしない。
- 通信などで使われるエラーチェック方法の水平パリティ値やサムチェック値を算出。エラーチェック方法にはCCD(P)命令以外にCRC（Cyclic Redundancy Check）がある。

#### 16ビット変換モード（SM772=OFF時）
- (s)を先頭とする(n)点のデータについて、その上下各8ビットデータの加算データと水平パリティデータを(d)と(d)+1のデバイスへ格納する。

##### 例（n=6の場合）
- 16ビット変換モードでは、網掛け部分の6バイトを加算し、加算データは「0315H」となるため、これを(d)のデバイスへ格納。

### 表
#### 加算データ値の算出例（10進・16進表記）
| デバイス | 10進値 | 16進値上位 | 16進値下位 |
| :------- | :----- | :--------- | :--------- |
| D0       | 24932  | 61H        | 64H        |
| D1       | 4219   | 10H        | 7BH        |
| D2       | -1333  | FAH        | CBH        |
| D3       | -1     | FFH        | FFH        |
| D4       | 32761  | 7FH        | F9H        |
| D5       | 10000  | 27H        | 10H        |

#### 水平パリティ値の算出
- 16ビット変換モードでは、網掛け部分が水平パリティの計算対象。
- 各ビットのON(1)の個数を数え、奇数ならON(1)、偶数ならOFF(0)とする。
- 算出した水平パリティ値を(d)+1のデバイスへ格納。

| ビット/水平パリティ値 | b7 | b6 | b5 | b4 | b3 | b2 | b1 | b0 | 値   |
| :-------------------- | :-:| :-:| :-:| :-:| :-:| :-:| :-:| :-:| :----|
| D0の上位8ビット       | 0  | 1  | 1  | 0  | 0  | 0  | 0  | 1  | 61H  |
| D0の下位8ビット       | 0  | 1  | 1  | 0  | 0  | 1  | 0  | 0  | 64H  |
| D1の上位8ビット       | 0  | 0  | 0  | 1  | 0  | 0  | 0  | 0  | 10H  |
| D1の下位8ビット       | 0  | 1  | 1  | 1  | 1  | 0  | 1  | 1  | 7BH  |
| D2の上位8ビット       | 1  | 1  | 1  | 1  | 1  | 0  | 1  | 0  | FAH  |
| D2の下位8ビット       | 1  | 1  | 0  | 0  | 1  | 0  | 1  | 1  | CBH  |
| 水平パリティ値         | 0  | 1  | 0  | 1  | 1  | 1  | 1  | 1  | 5FH  |
</contents>