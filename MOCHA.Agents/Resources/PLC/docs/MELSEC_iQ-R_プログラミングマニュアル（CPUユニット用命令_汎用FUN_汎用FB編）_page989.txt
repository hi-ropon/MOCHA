ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page989

<overview>
本ページは「インデックスレジスタ/ロングインデックスレジスタ選択復帰」命令（ZPOP(P)）について解説しています。構成は以下の通りです。
- テキスト部分：命令の概要説明、実行条件、機能説明
- 図部分：ラダー図、ST言語例、FBD/LD図の命令ブロック形状
- 表部分：実行条件の命令別波形、設定データの内容・範囲・データ型、使用可能デバイス一覧
</overview>

<contents>
### テキスト
#### インデックスレジスタ/ロングインデックスレジスタ選択復帰 ZPOP(P)
指定した領域に退避されているデータを、インデックスレジスタおよびロングインデックスレジスタに読み出す命令です。

##### 実行条件
- ZPOP命令は立下りエッジで実行されます。
- ZPOPP命令は立上りエッジで実行されます。

##### 機能
- (d)で指定したデバイスまたは配列型ラベルの要素以降に退避されているデータを、インデックスレジスタ、ロングインデックスレジスタに読み出します。
- 退避されているインデックスレジスタ、ロングインデックスレジスタの内容を読み出すと、退避回数(d)が-1されます。
- (s)で指定したデータはダミーデータ扱いとなり、無視されます。
- (d)以降に使用される領域の構成については、別途ZPUSH(P)命令の説明（986ページ）を参照してください。

### 図
- ラダー図：ZPOP命令のラダー回路記号（(s)と(d)の入力端子あり）
- ST言語例：ENO:=ZPOP_2(EN,s,d); ENO:=ZPOPP_2(EN,s,d);
- FBD/LD図：EN入力、ENO出力、s入力、d出力の命令ブロック形状（ZPOP_2、ZPOPP_2が入る）

### 表
#### 実行条件

| 命令  | 実行条件波形           |
|-------|------------------------|
| ZPOP  | 立下りエッジ           |
| ZPOPP | 立上りエッジ           |

#### 設定データ 内容、範囲、データ型

| オペランド | 内容                             | 範囲 | データ型           | データ型(ラベル) |
|------------|--------------------------------|------|--------------------|------------------|
| (s)        | ダミー                         | ―    | 符号なしBIN16ビット | ANY16            |
| (d)        | インデックスレジスタを復帰する先頭デバイス | ―    | 符号付きBIN16ビット | ANY16*1          |
| EN         | 実行条件                       | ―    | ビット             | BOOL             |
| ENO        | 実行結果                       | ―    | ビット             | BOOL             |

*1 ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定する必要があります。

#### 使用可能デバイス

| オペランド | ビット                             | ワード                             | ダブルワード | 間接指定 | 定数 | その他 |
|------------|----------------------------------|----------------------------------|--------------|----------|------|--------|
| (s)        | ○ (X,Y,M,L,SM,F,B,SB,FX,FY)      | ○ (T,ST,C,D,W,SD,SW,FD,R,ZR,RD)  | ○ (Z)        | ―        | ○ (K,H,E,$) | ―      |
| (d)        | ―                                | ○ (T,ST,C,D,W,SD,SW,FD,R,ZR,RD)  | ―            | ―        | ○ (K,H,E,$) | ―      |

### ポイント
- (d)で指定した領域以降のデータをインデックスレジスタに復帰します。
- 退避回数(d)が1減少します。
- (s)はダミーデータとして無視されます。
- 詳細な領域構成はZPUSH(P)命令の説明を参照してください。
</contents>