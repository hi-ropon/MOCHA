ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page671

<overview>
本ページは、ファイル操作命令に関する説明で構成されています。主にテキストと表、及びフォルダ構造を示す図が含まれています。テキスト部分では、使用用途設定エリアの動作説明と上書き設定、完了ステータスの内容が記載されています。表は「デバイス」「項目」「内容」「設定範囲」「セット側」の5列で構成されており、各項目の詳細が整理されています。図はフォルダ内のファイル・サブフォルダのコピー動作を視覚的に示しており、指定フォルダからコピー先フォルダへのファイル・サブフォルダのコピー方法を2パターンで説明しています。
</overview>

<contents>
### テキスト
#### 使用用途設定エリア
- b2が1（指定フォルダ内のすべてのファイル、サブフォルダをコピーする）場合の動作
  - 指定したフォルダ内のファイルとサブフォルダをコピーする。
  - 指定フォルダ(s2)内のファイル・サブフォルダをコピー先フォルダ(s4)にコピーする。
- b2が1で、指定フォルダにサブフォルダが存在しない（ファイルのみ）場合
  - 指定フォルダ内のファイルのみをコピーする。

#### 上書き設定（b1）
- コピー先にコピー元と同名のファイルやフォルダが存在する場合の動作指定
  - 0：上書きしない
  - 1：上書きする
- b0が1（フォルダ指定）かつb1が0（上書きしない）で指定した場合、コピー先と同名のファイルやフォルダはコピーをスキップする（異常完了しない）。

#### 完了ステータス
- 命令完了時に完了ステータスを格納
  - 0000H：正常完了
  - 0000H以外：異常完了（エラーコード。詳細は687ページ参照）

#### 注意事項
- 本命令は以下の機種のみ使用可能
  - R01CPU、R02CPUの"18"以降
  - Rn(EN)CPU（R01CPU、R02CPUを除く）："50"以降
- 機種により対応ファームウェアバージョンが異なる

### 図（フォルダ構造とコピー動作）
- 指定フォルダ(s2)内のファイル・サブフォルダをコピー先フォルダ(s4)にコピーする動作を2パターンで示す
  1. サブフォルダが存在する場合
     - ルートフォルダ内の指定フォルダ(s2)にfolder1、folder2があり、それぞれにfolder1aサブフォルダが存在
     - 各フォルダ・サブフォルダ内のuser1.csv、user2.csvファイルをコピー先フォルダ(s4)にコピー
  2. サブフォルダが存在しない場合（ファイルのみ）
     - 指定フォルダ(s2)にfolder1、folder2があり、それぞれにuser1.csvファイルのみ存在
     - これらのファイルをコピー先フォルダ(s4)にコピー

### 表
| デバイス | 項目             | 内容                                                                                                                                                                                                                       | 設定範囲 | セット側 |
| :------- | :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------- | :------- |
| +0       | 使用用途設定エリア | b2が1の場合のファイル・サブフォルダのコピー動作説明。指定フォルダ内のファイルやサブフォルダをコピー先にコピーする動作を詳細に記載。                                                                                     | 左記     | ユーザ   |
| +1       | 完了ステータス     | 命令完了時に格納される完了ステータスの内容。正常完了は0000H、異常完了はエラーコードを格納。                                                                                                                             | ―        | システム |

</contents>