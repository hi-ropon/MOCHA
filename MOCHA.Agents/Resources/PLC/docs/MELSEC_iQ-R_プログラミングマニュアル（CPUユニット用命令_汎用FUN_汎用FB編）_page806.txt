ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page806

<overview>
本ページはテキストと表、図で構成されています。テキスト部分ではSM705の変換桁数切換機能の説明と動作概要が記載されています。表はSM705の状態による(d)の格納形式の違いを示しています。図はBCD4桁データ「0123」が格納されている場合のSM705のON/OFF状態によるデータの格納イメージを示しています。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定されたBCD4桁データの各桁の数値をアスキーコードに変換し、(d)で指定されたデバイス番号以降に格納する。
- SM705（変換桁数切換）の状態によって、(d)に格納される16進アスキーデータの形式が異なる。

#### 動作の概要
SM705の変換桁数切換がOFFの場合とONの場合の動作を説明。

#### 例
(s)にBCD4桁データ「0123」が格納されている状態で、BCDDA(P)命令を実行した場合の動作。

- SM705: OFFの場合
  - (d)+0に31H（'1'のアスキーコード）、20H（スペース）
  - (d)+1に33H（'3'のアスキーコード）、32H（'2'のアスキーコード）
  - 「0123」の先頭の0は20H（スペース）に変換されて格納される。

- SM705: ONの場合
  - (d)+0に32H（'2'のアスキーコード）、31H（'1'のアスキーコード）
  - (d)+1に00H（NULL）、33H（'3'のアスキーコード）
  - 先頭の00Hを省略し「123」がアスキーデータに変換されて格納され、終端に00Hが格納される。

### 表
| SM705の状態 | (d)の格納形式 | 参照先 |
| :--- | :--- | :--- |
| OFF | 固定桁数（4桁）で格納 | 807ページ SM705(変換桁数切換)がOFFの場合の動作 |
| ON | (s)の値によって各桁を前詰めで格納 | 807ページ SM705(変換桁数切換)がONの場合の動作 |

### 図
- BCD4桁データ「0123」のビット配置を示す。
- SM705がOFFの場合、(d)の格納先に「31H 20H」「33H 32H」と固定桁数で格納される様子。
- SM705がONの場合、(d)の格納先に「32H 31H」「00H 33H」と前詰めで格納され、終端にNULL(00H)が付加される様子。
</contents>