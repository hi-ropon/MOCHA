ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page641

<overview>
本ページはCSV形式のファイル読み込みに関する説明で構成されています。テキスト部分ではCSV形式のデータ例と読み込みの概要が示されており、表部分ではCSVファイルの内容が表形式で示されています。グラフ部分は、CSVファイルの各データがPLCのデバイスにどのように読み込まれるかを示すフローチャート的な図解で構成されています。
</overview>

<contents>
### テキスト
#### CSV形式変換読出し（文字列(アスキーデータ)）の指定例
CSV形式で保存したデータ（PARTS.CSV）を読み込む場合の例を示しています。読み込みはPARTS.CSVの2行目から3列ずつ、合計6要素を対象に行います。

#### コントロールデータの説明
読み込みに使用するコントロールデータの各デバイスの役割は以下の通りです。
- D10: 実行/完了タイプ
- D11: 完了ステータス
- D12: 要求読出しデータ数
- D13: 最大読出しデータ数
- D14, D15: ファイル位置
- D16: 列数指定
- D17: データタイプ指定

### 表
#### CSVファイルの内容（PARTS.CSV）
| No.     | , | Name   | , | Value1 | , | Value2 | CR | LF |
|---------|---|--------|---|--------|---|--------|----|----|
| AA_0001 | , | Prts_A | , | 100    | , | 200    | CR | LF |
| BB_0002 | , | Prts_B | , | 300    | , | 400    | CR | LF |

### 図（グラフ）
#### デバイスに読み込まれるデータの構造
- SP.FREAD命令により、U0、K2、D10、"PARTS"、D99、M0のパラメータで読み込みを実行。
- (1) 読み込まれたデータはD99以降のデバイスに格納される。
- (2) ファイル名は"PARTS"として指定。
- (3) コントロールデータはD10～D17に設定される。

#### 読み込みデータの詳細
- D99: 読出し結果データ数（K6）
- D100～D103: 2行目第1列の文字列 "AA_0001"（H1411～H0031）
- D104～D107: 2行目第2列の文字列 "Prts_A"（H7250～H0000）
- D108～D109: 2行目第3列の文字列 "100"（H3031～H0030）
- D110～D113: 3行目第1列の文字列 "BB_0002"（H4242～H0032）
- D114～D117: 3行目第2列の文字列 "Prts_B"（H7250～H0000）
- D118～D119: 3行目第3列の文字列 "300"（H3033～H0030）

これらのデータはCSVファイルの各セルの文字列を16進数コードでPLCのデバイスに格納し、読み込み処理を行う仕組みを示しています。
</contents>