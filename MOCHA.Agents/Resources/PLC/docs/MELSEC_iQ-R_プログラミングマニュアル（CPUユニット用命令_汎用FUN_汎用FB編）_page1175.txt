ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1175

<overview>
本ページは「ソケット通信受信データリード」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要説明、実行条件の説明、注意事項など
- 図部分：ラダー図、ST（構造化テキスト）例、FBD/LD（ファンクションブロック図/ラダーダイアグラム）例の3種類の命令表現図
- 表部分：設定データの内容・範囲・データ型を示す表、および使用可能デバイスの一覧表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### ソケット通信受信データリード S(P).SOCRDATA
(s1)で指定したコネクションのソケット通信受信データエリアから、(n)で指定したワード分のデータを読み出し、(d)で指定されたデバイス以降に格納します。

#### 実行条件
- S.SOCRDATA命令は立ち上がりエッジで実行される。
- SP.SOCRDATA命令は立ち下がりエッジで実行される。

### 図
#### ラダー図
- 命令ブロックに(U)、(s1)、(s2)、(d)、(n)の各パラメータが入力されている。

#### ST（構造化テキスト）
- ENO:=S_SOCRDATA(EN,U,s1,s2,n,d);
- ENO:=SP_SOCRDATA(EN,U,s1,s2,n,d);

#### FBD/LD（ファンクションブロック図/ラダーダイアグラム）
- 入力：EN、U、s1、s2、n
- 出力：ENO、d

### 表
#### 設定データ：内容、範囲、データ型

| オペランド | 内容                             | 範囲          | データ型           | データ型(ラベル)        |
| :--------- | :------------------------------ | :------------ | :----------------- | :---------------------- |
| (U)        | ダミー                         | －           | 文字列             | ANYSTRING_SINGLE        |
| (s1)       | コネクション番号               | 1～16        | 符号付きBIN16ビット | ANY16                   |
| (s2)       | コントロールデータを格納する先頭デバイス | コントロールデータ参照 | ワード               | ANY16_ARRAY (要素数:2)  |
| (d)        | 読み出したデータを格納する先頭デバイス | －           | ワード             | ANY16*1                 |
| (n)        | 読出しデータ数                 | 1～5120      | 符号なしBIN16ビット | ANY16                   |
| EN         | 実行条件                       | －           | ビット             | BOOL                    |
| ENO        | 実行結果                       | －           | ビット             | BOOL                    |

*1 ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定する必要がある。

#### 使用可能デバイス

| オペランド | ビット                             | ワード                                   | ダブルワード | 間接指定 | 定数 | その他(U) |
| :--------- | :-------------------------------- | :------------------------------------- | :----------- | :------- | :--- | :-------- |
| (U)        | －                                | ○ (T, ST, C, D, W, SD, SW, FD, R, ZR, RD) | －           | －        | ○    | ○         |
| (s1)       | －                                | －                                      | －           | ○        | ○    | －         |
| (s2)       | －                                | ○                                      | －           | －        | －    | －         |
| (d)        | －                                | ○                                      | －           | －        | －    | －         |
| (n)        | ○ (X, Y, M, L, SM, F, B, SB, FX, FY) | ○                                      | －           | －        | －    | －         |

### 補足
- (U)はダミーオペランドで文字列型。
- (s1)はコネクション番号を指定し、1～16の範囲。
- (s2)はコントロールデータを格納する先頭デバイスで、ワード型の配列。
- (d)は読み出したデータを格納する先頭デバイス。
- (n)は読み出すデータ数で最大5120ワードまで指定可能。
- ENは命令の実行条件、ENOは実行結果を示すビット。
</contents>