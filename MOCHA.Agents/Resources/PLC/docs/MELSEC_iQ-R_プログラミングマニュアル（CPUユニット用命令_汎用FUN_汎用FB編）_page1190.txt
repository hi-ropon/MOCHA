ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1190

<overview>
本ページは、SP.SLMPSND命令に関する注意事項、処理の流れを示す図、及びエラーコードの説明で構成されています。テキスト部分では命令の実行条件や注意点が詳細に記載されており、図部分ではCPUユニット、相手機器、要求先間の通信手順を示すシーケンス図が掲載されています。表部分ではエラーコードとその内容が整理されています。
</overview>

<contents>
### テキスト
#### 注意事項
- 複数のSP.SLMPSND命令を同時に実行する場合、チャンネルが重複しないように設定する必要があります。同一チャンネルのSP.SLMPSND命令は同時使用不可で、同一シーケンススキャン内で複数該当した場合は最初に実行された命令のみが処理されます。
- 実行中のSP.SLMPSND命令と同じチャンネル設定の命令が後から実行されても処理されません。
- SP.SLMPSND命令の処理をCPUユニットが実行しなかった場合、SM699（専用命令未実行フラグ）がONになります。
- コントロールデータの到達監視時間((s1)+11)および要求フレームの監視タイマ((s2)+1)は、到達監視時間＞監視タイマとなるように設定してください。

#### Point
SP.SLMPSND命令は、対象機器が異常応答を返しても正常完了します。正常完了時は応答フレームの終了コードで正常応答か異常応答かを判断します。異常応答の場合は、使用しているSLMP対応機器のマニュアルで確認・処置を行ってください。

### 図
#### CPUユニット、相手機器、要求先間の通信シーケンス
1. CPUユニットから相手機器へ要求伝文を送信（(s1)+11の監視時間）
2. 相手機器から要求先へ処理要求を送信（(s2)+1の監視タイマ）
3. 要求先から相手機器へ処理応答を返す
4. 相手機器からCPUユニットへ応答伝文を返す

### 表
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3405H              | (s1)+2で指定する自局使用チャンネルが1～9以外の場合。<br>(s2)+0で指定する要求データ長が0、または2000を超える場合。 |

異常完了時は、完了時の状態表示デバイス(d2)+1がONになり、完了ステータス(s1)+1にエラーコードが格納されます。完了ステータスに格納されるエラーコードの詳細は、MELSEC iQ-R Ethernetユーザーズマニュアル（応用編）を参照してください。
</contents>