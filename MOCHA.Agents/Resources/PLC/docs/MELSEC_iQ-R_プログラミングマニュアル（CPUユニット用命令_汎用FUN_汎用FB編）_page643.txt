ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page643

<overview>
このページは、CSV形式で保存したデータの読み込み時に、列数がそれぞれの行で異なる場合の動作について説明しています。テキスト部分では、読み込み時の動作や注意点を解説し、表部分ではコントロールデータや読み込まれたデータの内容を示しています。図部分では、デバイスに読み込まれるデータの構造を模式的に表現しています。
</overview>

<contents>
### テキスト
#### 列数がそれぞれの行で異なる場合の読み込み動作
CSV形式で保存したデータにおいて、各行の列数が異なっていても、行を無視せずに読み出しを行います。

##### 例：読み出したときの列数がそれぞれの行で異なる場合
- CSV形式で保存したデータの例として、「大／小項目」「測定値」「余分」などの項目が異なる列数で記載されている。
- 具体的には、「長さ」の行は「CR」「LF」の2列、「温度」の行は「-21」を含む3列となっている。

#### Point
Excelでは、列数がそれぞれの行で異なるファイルは作成されません。CSVファイルを修正した場合にこの現象が発生します。

### 図
- デバイスに読み込まれるデータの構造を示す図があり、SP.FREAD命令の後にU0、K2、D10、"ABCD"、D99、M0の順でデータが並ぶ。
- それぞれのデータは以下の意味を持つ。
  1. 読み込まれたデータ
  2. ファイル名
  3. コントロールデータ

### 表
#### コントロールデータ
| 項目 | 内容 |
| :--- | :--- |
| D10 | 実行/完了タイプ (例: 0100H) |
| D11 | 完了ステータス (-) |
| D12 | 要求読出しデータ数 (例: K7) |
| D13 | 最大読出しデータ数 (例: K0) |
| D14 | ファイル位置 (例: K0) |
| D15 | ファイル位置 (例: K0) |
| D16 | 列数指定 (例: K0) |
| D17 | データタイプ指定 (例: K0) |

#### 読み込まれたデータ
| 項目 | 内容 |
| :--- | :--- |
| D99 | 読出し結果データ数 (例: K7) |
| D100 | 「大／小項目」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D101 | 「,」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D102 | 「測定値」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D103 | 「余分」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D104 | 「長さ」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D105 | 「温度」は数値以外のデータのため、変換データ(0)が格納される (例: K0) |
| D106 | 「-21」は数値であるため、バイナリ値に変換される (例: K-21) |

---

以上の内容により、CSVファイルの列数が異なる行を読み込む際の動作と、読み込まれたデータの格納状況が理解できます。
</contents>