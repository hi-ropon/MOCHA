ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page471

<overview>
このページは、SM705の変換桁数切換機能に関する説明で構成されています。主にテキストで機能の概要と設定方法を解説し、表でSM705の状態と設定方法の対応を示しています。また、図でASCIIコードのビット配置とBIN16ビットデータへの変換イメージを示し、具体例としてDABIN(P)命令における設定例を図表で説明しています。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定されたデバイス番号以降に格納されている10進アスキーデータをBIN16ビットデータに変換し、(d)で指定されたデバイスに格納する。
- SM705の変換桁数切換の状態により、(s)に設定する10進アスキーデータの設定方法が異なる。

#### SM705の状態と(s)の設定方法
| SM705の状態 | (s)の設定方法 | 参照先 |
| --- | --- | --- |
| OFF | 固定桁数（符号＋数値部5桁）で設定 | 471ページ SM705(変換桁数切換)がOFFの場合の(s)の設定方法 |
| ON | 任意の桁数（最大：符号＋数値部5桁）で設定 | 472ページ SM705(変換桁数切換)がONの場合の(s)の設定方法 |

※SM705に対応しているCPUユニットのファームウェアバージョンについては別途参照が必要。対応していないCPUユニットではONにしてもOFFと同様の動作。

#### SM705(変換桁数切換)がOFFの場合の(s)の設定方法
- (s)～(s)+2に10進アスキーデータを固定桁数で設定する。
- ASCIIコードのビット配置は以下の通り：
  - (s)に符号のASCIIコード
  - (s)+1に万位と千位のASCIIコード
  - (s)+2に百位と十位のASCIIコード
- ASCIIコードの範囲は30H～39H（0～9の数字）、符号は20H（スペース：正のとき）、2DH（マイナス：負のとき）で設定。
- (s)～(s)+2で指定するアスキーデータはDABIN(P)命令の場合-32768～32767、DABIN(P)_U命令の場合0～65535の範囲。
- (s)+3以降のデータは無視される。
- ASCIIコードが20Hまたは00Hのときは30Hとして処理。

#### 例：DABIN(P)命令において、(s)に"-25108"を設定した場合
- (s)～(s)+2にそれぞれ32H(符号スペース)、31H、38HなどのASCIIコードを設定し、BIN16データとして-25108が格納される。

### 図
- ASCIIコードのビット配置表：b15～b0のビットに対して、(s)～(s)+2の各デバイスにASCIIコードが割り当てられている様子を示す。
- BIN16ビットデータへの変換イメージ：ASCIIコードからBIN16形式に変換される流れを矢印で示す。
- 例の図：DABIN(P)命令での具体的なASCIIコード配置と、それに対応するBIN16データの数値（-25108）を示す。

### 表
| 項目 | 内容 |
| --- | --- |
| SM705の状態 | OFFまたはONの2状態 |
| (s)の設定方法 | OFF時は固定桁数（符号＋数値部5桁）、ON時は任意桁数（最大符号＋数値部5桁） |
| ASCIIコード範囲 | 30H～39H（数字）、20H（スペース）、2DH（マイナス） |
| アスキーデータ範囲 | DABIN(P)：-32768～32767、DABIN(P)_U：0～65535 |
</contents>