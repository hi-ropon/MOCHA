ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1170

<overview>
本ページは「コントロールデータ」に関する説明で構成されています。主にテキストと表で構成されており、UDP/IP通信におけるコネクションの交信相手IPアドレスやポート番号の変更方法、関連する命令の使用ポイント、注意事項、エラーコードの説明が含まれています。グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### コントロールデータの概要
UDP/IP通信時に、(s1)で指定したコネクションの交信相手IPアドレスおよびポート番号を変更する機能について説明しています。

#### 機能
UDP/IP通信において、(s1)で指定したコネクションの交信相手IPアドレスとポート番号を変更可能です。

**Point**
- SP.SOCCSET命令を使用すると、コネクションをクローズせずに交信相手を変更できます。
- SP.SOCCSET命令の実行タイミングが受信データエリアにデータがある場合は、SP.SOCCSET命令実行後に一度SP.SOCRCV/S.SOCRCVS専用命令を実行してから有効になります。
- 受信データエリアにデータがない場合は、SP.SOCCSET命令実行後すぐに有効になります。

#### 注意事項
SP.SOCSND命令実行中にSP.SOCCSET命令で交信相手を変更しないように注意が必要です。

#### エラー
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3405H              | (s1)で指定するコネクション番号が1～16以外のとき。 |

異常完了時は、完了ステータス(s2)+1にエラーコードが格納されます。  
完了ステータス(s2)+1に格納されるエラーコードの詳細は「MELSEC iQ-R Ethernetユーザーズマニュアル(応用編)」を参照してください。

### 表
#### コントロールデータ（オペランド：(s2)）
| デバイス | 項目               | 内容                                         | 設定範囲                                   | セット側 |
|----------|--------------------|----------------------------------------------|--------------------------------------------|----------|
| +0       | システムエリア     | —                                            | —                                          | —        |
| +1       | 完了ステータス     | 命令完了時に完了ステータスを格納。<br>・0000H:正常完了<br>・0000H以外:異常完了(エラーコード) | —                                          | システム |
| +2 +3    | 相手機器IPアドレス | 相手機器のIPアドレスを格納。                 | 00000001H～FFFFFFFFH (FFFFFFFFH:一斉同報通信) | ユーザ   |
| +4       | 相手機器ポート番号 | 相手機器のポート番号を格納。                 | 0001H～FFFFH (FFFFH:一斉同報通信)          | ユーザ   |
</contents>