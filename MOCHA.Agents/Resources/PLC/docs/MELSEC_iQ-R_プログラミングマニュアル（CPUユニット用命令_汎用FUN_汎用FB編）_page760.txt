ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page760

<overview>
本ページは、CRC値（Cyclic Redundancy Check）を生成する命令の機能説明ページです。ページ構成は以下の通りです。
- テキスト部分：CRC値の生成方法、16ビット変換モードと8ビット変換モードの説明、エラーチェック方法の概要
- 表部分：16ビット変換モードと8ビット変換モードの例示データ（10進数と16進数の対応表）、エラーコード一覧表
- グラフ部分：なし
</overview>

<contents>
### テキスト
#### 機能
- 指定したデバイスの先頭から(n)点の8ビットデータ（バイト単位）に対してCRC値（CRC-16）を生成し、(d)に格納する。
- CRC値の生成多項式は「X^16 + X^15 + X^2 + 1」を使用。
- 計算モードは16ビット変換モードと8ビット変換モードがあり、SM772命令のON/OFFで切り替え可能。
- (n)に0を指定した場合は無処理。
- CRCは通信などで使われるエラーチェック方法の一つで、他にパリティチェックやサムチェックもある。
- CCD(P)命令で他のチェック値も求められる。

#### 16ビット変換モード（SM772=OFF時）
- (s)のデバイスの上位8ビットと下位8ビットに対してCRC演算を行う。
- 演算結果は(d)に指定したデバイス1点の16ビットに格納。
- 例として(n)=6の場合、6バイト分のデータが演算対象となり、CRC値「A57BH」が算出される。

#### 8ビット変換モード（SM772=ON時）
- (s)のデバイスの下位8ビットのみを対象にCRC演算を行う。
- 演算結果は(d)に指定したデバイスから2点を使い、(d)に下位8ビット、(d)+1に上位8ビットを格納。
- 例として(n)=6の場合、6バイト分のデータが演算対象となり、CRC値「BDA1H」が算出される。

### 表
#### 16ビット変換モードの例（n=6）
| デバイス | 10進数 | 16進数 上位 | 16進数 下位 |
| :------- | :----- | :---------- | :---------- |
| D0       | 24932  | 61H         | 64H         |
| D1       | 4219   | 10H         | 7BH         |
| D2       | -1333  | FAH         | CBH         |
| D3       | -1     | FFH         | FFH         |
| D4       | 32761  | 7FH         | F9H         |
| D5       | 10000  | 27H         | 10H         |

#### 8ビット変換モードの例（n=6）
| デバイス | 10進数 | 16進数 上位 | 16進数 下位 |
| :------- | :----- | :---------- | :---------- |
| D0       | 24932  | 61H         | 64H         |
| D1       | 4219   | 10H         | 7BH         |
| D2       | -1333  | FAH         | CBH         |
| D3       | -1     | FFH         | FFH         |
| D4       | 32761  | 7FH         | F9H         |
| D5       | 10000  | 27H         | 10H         |

#### エラーコード一覧
| エラーコード (SD0) | 内容                                               |
| :----------------- | :------------------------------------------------ |
| 3405H              | (s)、(d)にビットデバイスの桁指定で4桁指定以外を指定した場合 |

</contents>