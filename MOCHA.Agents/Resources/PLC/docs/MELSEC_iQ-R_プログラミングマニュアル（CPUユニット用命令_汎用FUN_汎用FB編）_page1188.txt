ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1188

<overview>
このページは「SLMPフレーム送信命令」に関する説明で構成されています。ページ全体は主にテキスト部分と表部分で構成されており、テキスト部分では機能の概要や注意事項が記載されています。表部分は「要求データ」と「応答データ（正常終了時・異常終了時）」の構造を示すもので、各フィールドの名称と配置が図示されています。グラフや図はなく、通信命令のデータ構造の説明に特化した内容です。
</overview>

<contents>
### テキスト
#### 機能
s2で指定したデバイス以降の要求フレームを、コントロールデータの相手機器IPアドレスで指定した相手機器へ送信します。相手機器から応答伝文を受信すると、d1で指定したデバイスに格納されます。  
要求データと正常終了時および異常終了時の応答データの構造について説明しています。

- SP.SLMPSND命令はUDPで通信します。相手機器の設定もUDPに設定してください。  
- SP.SLMPSND命令はバイナリコードで交信します。相手機器の設定もバイナリコードに合わせてください。  
- SP.SLMPSND命令の実行および正常/異常完了は、設定データで指定した完了デバイス(d2)+0、完了時の状態表示デバイス(d2)+1で確認できます。  
- 完了デバイス(d2)+0は、SP.SLMPSND命令が完了したスキャンのEND処理でONし、次のEND処理でOFFします。  
- 完了時の状態表示デバイス(d2)+1は、SP.SLMPSND命令が完了したときの状態によりON/OFFします。正常完了時はOFFのまま変化しません。異常完了時はONします。  
- 奇数バイトの応答データを受信した場合、最後の応答データを格納したデバイスの上位バイトには無効なデータが入ります。  
- プロセスCPU（二重化モード）の場合、A系/B系それぞれのIPアドレスで通信します。

### 表
#### 要求データ構造
| ヘッダ | サブヘッダ | 要求先ネットワーク番号 | 要求先局番 | 要求先ユニットI/O番号 | 要求先マルチドロップ局番 | 要求データ長 | 監視タイマ | 要求データ | フッタ |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s1)+3～(s1)+5 | (s1)+6 | (s1)+7 | (s1)+8 | (s1)+9 | (s2)+0 | (s2)+1 | (s2)+2～(s2)+n |  |  |

- (s1)で指定（一部除く）、(s2)で指定されるフィールドに分かれています。

#### 応答データ構造（正常終了時）
| ヘッダ | サブヘッダ | 要求先ネットワーク番号 | 要求先局番 | 要求先ユニットI/O番号 | 要求先マルチドロップ局番 | 応答データ長 | 終了コード | 応答データ | フッタ |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
|  |  |  |  |  |  | (d1)+0 | (d1)+1 | (d1)+2～(d1)+n |  |

- 応答データは(d1)に格納されます。

#### 応答データ構造（異常終了時）
| ヘッダ | サブヘッダ | 要求先ネットワーク番号 | 要求先局番 | 要求先ユニットI/O番号 | 要求先マルチドロップ局番 |  |  |  |  |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
|  |  |  |  |  |  |  |  |  |  |

- 続いてエラー情報の詳細が以下のように格納されます。

| 応答データ長 | 終了コード | ネットワーク番号(応答局) | 局番(応答局) | 要求先ユニットI/O番号 | 要求先マルチドロップ局番 | コマンド | サブコマンド | フッタ |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (d1)+0 | (d1)+1 |  |  |  |  |  |  |  |

- エラー情報は(d1)に格納されます。

### 注意事項
- UDP通信であること、バイナリコードでの交信であることを強調しています。  
- 完了デバイスと状態表示デバイスの役割と動作タイミングについて説明しています。  
- 奇数バイトの応答データ受信時の注意点や、二重化モード時の通信先IPアドレスについても記載されています。
</contents>