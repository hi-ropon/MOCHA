ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page676

<overview>
本ページは「ファイル操作命令」に関する説明で構成されており、主に以下の3つのセクションで構成されています。
1. テキスト部分：ファイル移動時の動作や完了ステータスの説明、対応機種の注記など。
2. 図部分：指定フォルダ内のファイルやサブフォルダの移動動作を示すフォルダ構造のイラストが2つ掲載されている。
3. 表部分：デバイス、項目、内容、設定範囲、セット側の項目で構成された表形式で、使用用途設定エリアや完了ステータスの詳細が記載されている。
</overview>

<contents>
### テキスト
#### 使用用途設定エリアの動作説明
- b2が1の場合、指定フォルダ内のすべてのファイルおよびサブフォルダを移動する動作を示す。
  - サブフォルダが存在する場合は、指定フォルダ内のファイルとサブフォルダを移動し、移動後は元のフォルダ内のファイルとサブフォルダは削除され、指定フォルダ自体も削除される。
  - サブフォルダが存在しない（ファイルのみ）の場合は、指定フォルダ内のファイルのみを移動する。

#### ■b1: 上書き設定
- 移動先に移動元と同名のファイルやフォルダが存在する場合の動作を指定。
  - 0：上書きしない
  - 1：上書きする

#### 完了ステータス
- 命令完了時に完了ステータスを格納。
  - 0000H：正常完了
  - 0000H以外：異常完了（エラーコード。ファイル操作命令で発生するエラーコードは687ページ参照）

#### 対応機種注記
- 本命令は以下の機種のみ使用可能。
  - R01CPU、R02CPUの"18"以降
  - Rn(EN)CPU（R01CPU、R02CPUを除く）："50"以降
- 機種により対応ファームウェアバージョンが異なる。

### 図
1. **サブフォルダが存在する場合の動作イメージ**
   - ルートフォルダ内にfolder1、folder2があり、それぞれにfolder1aというサブフォルダが存在。
   - 指定フォルダ(s2)内のファイルやサブフォルダを移動先フォルダ(s4)に移動。
   - 移動後は指定フォルダ内のファイル・サブフォルダは削除され、指定フォルダ自体も削除される。
   - ファイル例：user1.csv、user2.csv

2. **サブフォルダが存在しない場合の動作イメージ**
   - ルートフォルダ内にfolder1、folder2があり、それぞれにファイルのみ存在。
   - 指定フォルダ(s2)内のファイルを移動先フォルダ(s4)に移動。
   - 移動後は指定フォルダ内のファイルは削除され、指定フォルダ自体も削除される。
   - ファイル例：user1.csv

### 表
| デバイス | 項目           | 内容                                                                                                                                                                                                                     | 設定範囲 | セット側 |
|----------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| +0       | 使用用途設定エリア | - b2が1の場合、指定フォルダ内のすべてのファイルおよびサブフォルダを移動する動作（サブフォルダが存在する場合）<br>- b2が1の場合、指定フォルダ内のファイルのみを移動する動作（サブフォルダが存在しない場合）<br>■b1: 上書き設定<br>0: 上書きしない<br>1: 上書きする | 左記     | ユーザ   |
| +1       | 完了ステータス   | 命令完了時に完了ステータスを格納。<br>・0000H: 正常完了<br>・0000H以外: 異常完了（エラーコード）                                                                                                                                 | ―        | システム |

</contents>