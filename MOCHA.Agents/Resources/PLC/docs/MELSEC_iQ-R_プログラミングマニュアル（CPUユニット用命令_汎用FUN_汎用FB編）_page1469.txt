ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1469

<overview>
このページは「39 文字列ファンクション」章の一部で、「39.1 文字列の長さ検出」について説明しています。ページ構成は以下の通りです。
- テキスト部分：関数の概要、使用可能なCPU種別、機能説明、演算処理の説明
- 図部分：ラダー、FBD/LD、STでの関数ブロックの例、文字列のメモリ構造図
- 表部分：関数の引数の内容、種別、データ型をまとめた設定データ表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### 39.1 文字列の長さ検出
LEN(_E)関数は、入力された文字列の長さを検出して出力します。

対応CPUはRnCPU、RnENCPU、RnFSCFPU（安全・一般）、RnSFCPU（一般・安全）ですが、一部のCPUでは対応していません。

#### 使用例
- ラダー、FBD/LDではEN/ENOなし、EN/ENO付きの2種類のブロックが示されています。
- ST言語ではEN/ENOなしの場合は d := LEN(s);、EN/ENO付きの場合は d := LEN_E(EN, ENO, s); と記述します。

### 表
#### 設定データ：内容、種別、データ型

| 引数 | 内容 | 種別 | データ型 |
| :--- | :--- | :--- | :--- |
| EN | 実行条件(TRUE:実行、FALSE:停止) | 入力変数 | BOOL |
| s(IN) | 入力 | 入力変数 | ANYSTRING_SINGLE |
| ENO | 出力状態(TRUE:正常、FALSE:異常) | 出力変数 | BOOL |
| d | 出力 | 出力変数 | INT |

### 機能
#### 演算処理
- (s)に入力された文字列の長さを検出し、(d)から出力します。
- (s)への入力値はSTRING型のデータ値で0～255バイトの範囲内です。

### 図
- ラダー、FBD/LDの関数ブロック例：EN/ENOなしとEN/ENO付きの2種類のブロック図が示されています。
- ST言語の記述例。
- 文字列のメモリ構造図：
  - STRING型の文字列は、各文字のASCIIコードが上位バイト・下位バイトに分かれて格納されていることを示しています。
  - 例として、0文字目からn文字目までのASCIIコードが並び、最後は00Hで文字列の終端を示します。
  - この文字列の長さを検出し、INT型で出力します。
</contents>