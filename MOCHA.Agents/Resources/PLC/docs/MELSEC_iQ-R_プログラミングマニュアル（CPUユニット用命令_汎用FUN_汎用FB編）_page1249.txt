ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1249

<overview>
本ページはPID制御用データの設定方法とエラーコードについて記載されています。ページ構成は以下の通りです。
- テキスト部分：PID制御用データの登録方法や注意点、デバイス点数の計算方法、PID制御命令の実行条件について説明。
- 表部分：PID制御用データの割り付け一覧表とエラーコードの内容説明表が掲載されている。
- グラフ部分：なし。
</overview>

<contents>
### テキスト
#### 機能
- (s)で指定したデバイス番号以降に設定されている使用ループ数分のPID制御用データを一括でCPUユニット内部に登録し、PID制御を可能にする。
- PID制御用データは表のように割り付けられている。
- PID制御用データの設定に使用するデバイスの点数は「2＋10×n（nは使用ループ数）」で算出。
- 各データはBIN値で設定する必要がある。
- 使用ループ分のデバイス点数が指定したデバイスの最終番号を超えるとエラーとなり処理されない。
- 1スキャン中に複数箇所でPIDINIT(P)命令を実行した場合、PIDCONT(P)命令に最も近いPIDINIT(P)命令の設定値が有効。
- PIDINIT(P)命令は必ずPIDCONT(P)命令実行前に行う必要があり、実行していない場合はPID制御ができない。

#### エラー
- エラーコード 3405H
  - (s)に指定可能な範囲外のデータを設定した場合に発生。
  - PID制御用データに設定した値が設定可能範囲外。
  - 使用ループ数が1スキャンの実行ループ数未満。
  - 操作量上限値が操作量下限値より小さい。

### 表
#### PID制御用データ割り付け一覧
| 項目 | PID制御用データ | 内容 |
| :--- | :--- | :--- |
| 全ループ共通 | (s)+0 | 使用ループ数 |
| No.1ループ用(10ワード) | (s)+1 | 1スキャンの実行ループ数 |
| 〃 | (s)+2 | 演算式選択 |
| 〃 | (s)+3 | サンプリング周期(Ts) |
| 〃 | (s)+4 | 比例定数(Kp) |
| 〃 | (s)+5 | 積分定数(Ti) |
| 〃 | (s)+6 | 微分定数(Td) |
| 〃 | (s)+7 | フィルタ係数(α) |
| 〃 | (s)+8 | 操作量下限値(MVLL) |
| 〃 | (s)+9 | 操作量上限値(MVHL) |
| 〃 | (s)+10 | 操作量変化率リミット値(ΔMVL) |
| 〃 | (s)+11 | 測定値変化率リミット値(ΔPVL) |
| No.nループ用(10ワード) | (s)+(m+0)～(s)+(m+9) | 上記No.1ループ用と同様の内容（m=(n-1)×10+2） |

#### エラーコード一覧
| エラーコード(SD0) | 内容 |
| :--- | :--- |
| 3405H | (s)に指定可能な範囲外のデータを設定したとき。<br>・PID制御用データに設定した値が設定可能範囲外<br>・使用ループ数 < 1スキャンの実行ループ数<br>・操作量上限値 < 操作量下限値 |

</contents>