ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1210

<overview>
本ページは、FTPサーバへのファイル転送に関するプログラム例の説明で構成されています。ページ全体はテキスト説明とラダー図（プログラム図）、およびその図に対応した番号付きの注釈から成り立っています。テキスト部分では、FTPサーバの指定方法やファイル取得の流れについて説明しています。図部分はラダー図形式で、各命令の動作や設定内容を視覚的に示しています。表やグラフはなく、主にテキストとラダー図の構成です。
</overview>

<contents>
### テキスト
・SP.FTPGET命令のコントロールデータでFTPサーバを指定する場合の説明。
・X0をONにしたとき、FTPサーバアドレス「192.168.3.30」の「\database1\recipe\」に格納されているファイル「\database1\recipe\recipe_db.txt」をCPUユニットのドライブ2の「\database1\recipe\」に取得するプログラム例。

### 図（ラダー図）
- ラダー図はX0のONをトリガーに一連のMOVP命令やDMOVP命令、$MOVP命令で各種設定値をDデバイスに格納し、最後にSP.FTPGET命令を実行する流れを示している。
- 各命令の内容は以下の通り：
  1. 使用用途設定エリアを設定（MOVP H8008 → D0）
  2. FTPサーバを設定（MOVP H0 → D4）
  3. FTPサーバアドレスを設定（DMOVP H0C0A8031E → D134）
  4. ログイン名を設定（$MOVP "USER001" → D136）
  5. パスワードを設定（$MOVP "Pw@12345678901" → D153）
  6. FTPサーバの接続方式を設定（MOVP H1 → D170）
  7. ポート番号を設定（MOVP K21 → D171）
  8. SP.FTPGET命令を実行（SP.FTPGET U0 D0 "\database1\recipe\recipe_db.txt" "2:\database1\recipe" M100）
  9. 正常完了を表示（SET M150）
  10. 異常完了を表示（SET M151）

### 注釈
(1) 使用用途設定エリアを設定します。
(2) FTPサーバを設定します。
(3) FTPサーバアドレスを設定します。
(4) ログイン名を設定します。
(5) パスワードを設定します。
(6) FTPサーバの接続方式を設定します。
(7) ポート番号を設定します。
(8) SP.FTPGET命令を実行します。
(9) 正常完了を表示します。
(10) 異常完了を表示します。
</contents>