ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page380

<overview>
このページは、WSFR(P)命令に関する説明で構成されています。ページ全体はテキスト説明、ラダー図とST（構造化テキスト）コード、FBD/LD（ファンクションブロック図/ラダー図）による命令の表現、実行条件の表、設定データの内容・範囲・データ型の表、使用可能デバイスの表で構成されています。グラフはなく、主に命令の仕様と使用方法を示すテキストと表が中心です。
</overview>

<contents>
### テキスト
#### WSFR(P)命令の概要
- R00CPU、R01CPU、R02CPUにはバージョンによる制約はない。
- RnCPU（R00CPU、R01CPU、R02CPUを除く）、RnENCPUはファームウェアバージョンが17以降で使用可能。
- エンジニアリングツールはバージョン1.020W以降で使用可能。
- 指定したデバイスから(n1)ワード分のデータ範囲内で、右へ(n2)ワード分シフトさせる。
- シフト後の空きデータには指定データが格納される。

### ラダー図
- ラダー図は、シフト命令の入力パラメータ(s)、(d)、(n1)、(n2)を示す。
- STコードは以下の通り:
  ```
  ENO:=WSFR(EN,s,n1,n2,d);
  ENO:=WSFRP(EN,s,n1,n2,d);
  ```

### FBD/LD図
- ファンクションブロック図では、EN、ENO、s、d、n1、n2の各端子が示されている。

### 実行条件
| 命令   | 実行条件           |
|--------|--------------------|
| WSFR   | 立下りエッジ        |
| WSFRP  | 立上りエッジ        |

### 設定データ
#### 内容、範囲、データ型

| オペランド | 内容                             | 範囲       | データ型           | データ型(ラベル) |
|------------|--------------------------------|------------|--------------------|------------------|
| (s)        | シフト後の空きデータに格納する先頭デバイス | ―          | 符号なしBIN16ビット | ANY16            |
| (d)        | シフトする先頭デバイス           | ―          | ワード             | ANY16            |
| (n1)*1     | シフトするデータの数             | 0～65535   | 符号なしBIN16ビット | ANY16_U          |
| (n2)*1     | シフト数                       | 0～65535   | 符号なしBIN16ビット | ANY16_U          |
| EN         | 実行条件                       | ―          | ビット             | BOOL             |
| ENO        | 実行結果                       | ―          | ビット             | BOOL             |

*1 (n2) ≤ (n1)となるように設定する必要がある。

### 使用可能デバイス
| オペランド | ビット                             | ワード                                     | ダブルワード | 間接指定 | 定数 | その他 |
|------------|----------------------------------|--------------------------------------------|--------------|----------|------|--------|
| (s)        | ○*1 (X,Y,M,L,SM,F, B,SB,FX,FY)  | ○ (J□￥□, T, ST, C, D, W, SD, SW, FD, R, ZR, RD) | ―            | ―        | ○    | ○      | ―      |
| (d)        | ○*1                             | ○                                          | ―            | ―        | ○    | ―      | ―      |
| (n1)       | ○*1                             | ○                                          | ○            | ―        | ○    | ―      | ―      |
| (n2)       | ○*1                             | ○                                          | ○            | ○        | ○    | ―      | ―      |

*1 FX、FYは使用不可。

</contents>