ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page813

<overview>
本ページは「エラー」と「注意事項」に関する内容で構成されています。上部にエラーコードとその内容を示す表があり、その下に注意事項の説明テキストが配置されています。注意事項の説明には、演算結果の格納に関する問題点を具体例の図解を用いて詳細に解説しています。図はビット列の変換と格納の様子を示すもので、テキスト部分と図解が連動して説明されています。表はエラーコードの説明のみで、グラフはありません。
</overview>

<contents>
### テキスト
#### エラー
| エラーコード (SD0) | 内容                         |
|--------------------|------------------------------|
| 3401H              | (s)のデータが0～99999999以外のとき。 |

#### 注意事項
SM705（変換桁数切換）がONのとき、(d)には演算結果を有効桁数分だけ格納します。そのため、DBCDDA(P)命令を連続して実行し、演算結果を同一デバイスに格納する場合、(d)の一部に前回の演算結果が上書きされずに残ってしまう可能性があります。

##### 具体例
1. (s)が「91234056H」のときにDBCDDA(P)命令を実行し、さらに(s)が「00001234H」のときにDBCDDA(P)命令を実行する場合。

(1) 「91234056」を文字列に変換  
(2) 「1234」を文字列に変換  
(3) (d)+3に前回の変換結果の一部が残ったままになる

この問題を回避するには、格納エリア(d)+0～(d)+3をすべてクリアしてからDBCDDA(P)命令を実行するプログラムを作成してください。

##### クリア処理の例
(4) 「91234056」を文字列に変換  
(5) (d)+0～(d)+3をクリア  
(6) 「1234」を文字列に変換

### 図（ビット列の変換と格納例）
- (s)+1、(s)のビット列（b31～b0）を示し、それぞれのビットに対応した数値が並ぶ。
- (d)+0～(d)+4の格納エリアに16進数表記でデータが格納される様子を示す。
- 例(1)では「91234056H」のビット列が(d)+0～(d)+4に対応する16進数（31H(1), 39H(9)など）として格納されている。
- 例(2)では「1234」のビット列が(d)+0～(d)+4に格納されているが、(d)+3に前回のデータが残っていることがわかる。
- 例(5)は(d)+0～(d)+3を00Hでクリアした状態を示す。
- 例(6)はクリア後に「1234」を格納した状態で、(d)+3の残留データが消えていることを示す。

### ポイント
- 演算結果を格納する領域は、前回のデータが残る可能性があるため、連続してDBCDDA(P)命令を使う場合は事前にクリアが必要。
- クリアしないと、文字列変換結果に不要なデータが混入する恐れがある。

</contents>