ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page376

<overview>
本ページは「SFTL(P)」命令に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：命令の概要、使用可能なCPUの説明、命令の動作説明
- 図部分：ラダー図、ST（構造化テキスト）コード、FBD/LD（ファンクションブロック図/ラダーダイアグラム）での命令表現
- 表部分：実行条件の説明表、設定データの内容・範囲・データ型の表、使用可能デバイスの一覧表
グラフ部分はありません。
</overview>

<contents>
### テキスト
#### SFTL(P)命令概要
- R00CPU、R01CPU、R02CPUにはバージョンによる制約はなく、RnCPU（R00CPU、R01CPU、R02CPUを除く）およびRnENCPUはファームウェアバージョンが17以降で使用可能。
- エンジニアリングツールはバージョン1.020W以降で使用可能。
- 指定したデバイスから(n1)ビット分のデータ範囲内で、左へ(n2)ビット分シフトし、シフト後の空きデータには指定データが格納される。

### 図
#### ラダー図
- (s)、(d)、(n1)、(n2)の入力を持つ命令ブロックの図示。

#### ST（構造化テキスト）
- ENO:=SFTL(EN,s,n1,n2,d);
- ENO:=SFTLP(EN,s,n1,n2,d);

#### FBD/LD（ファンクションブロック図/ラダーダイアグラム）
- EN、s、n1、n2を入力、ENOとdを出力とするブロック図。

### 表
#### 実行条件
| 命令   | 実行条件の波形図 |
|--------|------------------|
| SFTL   | 立ち下がりエッジ  |
| SFTLP  | 立ち上がりエッジ  |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容                         | 範囲       | データ型       | データ型(ラベル) |
|------------|------------------------------|------------|----------------|------------------|
| (s)        | シフト後の空きデータに格納する先頭デバイス | ―          | ビット         | ANY_BOOL         |
| (d)        | シフトする先頭デバイス       | ―          | ビット         | ANY_BOOL         |
| (n1)*1     | シフトするデータの数         | 0～65535   | 符号なしBIN16ビット | ANY16_U          |
| (n2)*1     | シフト数                     | 0～65535   | 符号なしBIN16ビット | ANY16_U          |
| EN         | 実行条件                     | ―          | ビット         | BOOL             |
| ENO        | 実行結果                     | ―          | ビット         | BOOL             |

*1 (n2) ≤ (n1)となるように設定する必要あり。

#### 使用可能デバイス
| オペランド | ビットデバイス                             | ワードデバイス                             | ダブルワードデバイス | 間接指定 | 定数 | その他 |
|------------|------------------------------------------|------------------------------------------|----------------------|----------|------|--------|
| (s)        | ○ (X,Y,M,L,SM,F,B,SB,FX,FY)              | ○¹ (T,ST,C,D,W,SD,SW,FD,R,ZR,RD)         | ―                    | ―        | ○       | ―    | ―      |
| (d)        | ○                                        | ○¹                                       | ―                    | ―        | ―       | ―    | ―      |
| (n1)       | ―                                        | ○                                        | ○                    | ○        | ―       | ―    | ―      |
| (n2)       | ○                                        | ○                                        | ○                    | ○        | ○       | ―    | ―      |

注釈：
- ¹ T, ST, C, FDは使用不可。
- ² 0または1のみ使用可能。
- ³ FX, FYは使用不可。

</contents>