ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page779

<overview>
このページは「文字列処理命令」に関する説明で構成されています。主にテキスト部分で、(s)で指定された文字列データを(d)で指定されたデバイス番号以降に転送する機能の詳細を解説しています。図を用いて文字列の転送方法やデバイス範囲の重複処理、2バイトデータのシフトJISコード変換について説明しています。最後にエラーコードの表があり、転送時に発生する可能性のあるエラー内容をまとめています。
</overview>

<contents>
### テキスト
#### 機能
(s)で指定された文字列データを(d)で指定されたデバイス番号以降に転送します。文字列の転送では、(s)で指定された文字列、またはデバイス番号から00Hが格納されているデバイス番号までの文字列を一度に転送します。

転送する文字列データが格納されているデバイス範囲(s)～(s)+nと、転送された文字列データを格納するデバイス範囲(d)～(d)+nが重複していても正常に処理されます。例として、D10～D13に格納されていた文字列をD11～D14に転送すると、転送前の文字列のまま転送されます。

(s)+nの下位バイトに00Hが格納されている場合は、(d)+nの上位バイト、下位バイトともに00Hを格納します。

(s)に漢字などの2バイトデータが指定された場合は、シフトJISコードに変換されます。$MOV(P)命令を実行すると、(d)には上位バイトと下位バイトが逆に格納されます。

### 図
- 文字列転送のイメージ図：  
  (s)の文字列データが(b15～b0)のビット構成で示され、(d)のデバイス番号以降に同様の文字列が転送される様子を示しています。  
- デバイス範囲の重複転送例：  
  D10～D13の文字列をD11～D14に転送した場合のビット配置の変化を示し、転送前後で文字列が変わらないことを説明。  
- 00H格納時の処理：  
  (s)+nの下位バイトに00Hがある場合、(d)+nの上下位バイトに00Hが格納されることを示す図。  
- シフトJISコード変換例：  
  「停止スイッチA」という文字列がシフトJISコードに変換され、(d)のデバイスに上位バイトと下位バイトが逆に格納される様子を示す。

### 表
#### エラーコード(SD0)
| エラーコード | 内容 |
| :--- | :--- |
| 2820H | (s)で指定したデバイス番号以降、デバイス/ラベルメモリの各設定エリアの間に00Hが存在しないとき。 |
| 3405H | (s)の文字列が16383文字を超えるとき。 |
| 3406H | (d)で指定したデバイス番号以降、該当デバイス/ラベルメモリの各設定エリアの最終番号までの点数に、指定した文字列がすべて格納できないとき。 |
</contents>