ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page746

<overview>
このページは「設定データ」に関する説明で構成されています。主にテキスト部分と表部分があり、テキストで機能の説明や使用上の注意が記載され、表でオペランドの内容・範囲・データ型や使用可能デバイスの対応状況、さらにデータテーブルの構成例やSM774の設定値と並び替え順序が示されています。グラフは含まれていません。
</overview>

<contents>
### テキスト
#### 設定データの内容、範囲、データ型
- オペランドごとに内容、範囲、データ型（符号付き/符号なしBIN32ビット、BIN16ビット、ビット型など）と対応するラベル型が説明されています。
- ラベルで設定する場合は、動作に必要な領域が確保できるよう配列を定義し、その配列型ラベルの要素を指定する必要があります。

#### 機能
- (s)で指定された行方向に連続する((n1)×(n2))点のBIN32ビットデータテーブル（並び替え元）を、(n3)列のデータを基準に昇順または降順で並べ替え、(d)で指定した((n1)×(n2))点のBIN32ビットデータテーブル（並び替え後）に格納します。
- データテーブル構成例として、並び替え元で(n1)=3、(n2)=4の場合の各行・列のデータ配置が示されています。
- 並び替えは命令実行開始時のSM774（データテーブルソート命令実行順）のON/OFF状態で設定されます。
- 実行指令をONにすると、SD774のビット11がONとなり並び替えを開始。スキャン後のEND命令実行時に並び替え完了し、ビット11がOFF、ビット9がONとなる完了フラグが設定されます。
- ビット11がON中はDSORTTBL2(_U)命令は実行不可（実行しても無処理）。

### 表
#### 設定データ（オペランドの内容、範囲、データ型）
| オペランド | 内容 | 範囲 | データ型 | データ型(ラベル) |
| :--- | :--- | :--- | :--- | :--- |
| (s) DSORTTBL2 / DSORTTBL2_U | データテーブルを格納している先頭デバイス | — | 符号付きBIN32ビット / 符号なしBIN32ビット | ANY32_S / ANY32_U |
| (n1) | データ(行)数 | 1〜32 | 符号なしBIN16ビット | ANY16_U |
| (n2) | データ(列)数 | 1〜6 | 符号なしBIN16ビット | ANY16_U |
| (d) DSORTTBL2 / DSORTTBL2_U | 演算結果を格納する先頭デバイス | — | 符号付きBIN32ビット / 符号なしBIN32ビット | ANY32_S / ANY32_U |
| (n3) | 並び替えの基準となるデータ(列)の列番号 | — | 符号なしBIN16ビット | ANY16_U |
| EN | 実行条件 | — | ビット | BOOL |
| ENO | 実行結果 | — | ビット | BOOL |

#### 使用可能デバイス
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| (s) | — | ○ | — | — | — | — |
| (n1) | ○ | ○ | ○ | ○ | ○ | — |
| (n2) | ○ | ○ | ○ | ○ | ○ | — |
| (d) | — | ○ | — | — | — | — |
| (n3) | ○ | ○ | ○ | ○ | ○ | — |

※LT、LSTは使用不可。

#### データテーブル構成例
- 行数3、列数4の場合の各セルのデータ配置を示す表
| — | 列番1 | 列番2 | 列番3 | 列番4 |
| :--- | :--- | :--- | :--- | :--- |
| 行番1 | (s)+1, (s) | (s)+3, (s)+2 | (s)+5, (s)+4 | (s)+7, (s)+6 |
| 行番2 | (s)+9, (s)+8 | (s)+11, (s)+10 | (s)+13, (s)+12 | (s)+15, (s)+14 |
| 行番3 | (s)+17, (s)+16 | (s)+19, (s)+18 | (s)+21, (s)+20 | (s)+23, (s)+22 |

#### SM774設定値と並び替え順
| SM774設定値 | 並び替え順 |
| :--- | :--- |
| OFF | 昇順 |
| ON | 降順 |

</contents>