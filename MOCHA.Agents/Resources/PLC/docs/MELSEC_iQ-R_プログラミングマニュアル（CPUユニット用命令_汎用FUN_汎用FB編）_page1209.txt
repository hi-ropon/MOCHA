ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1209

<overview>
本ページは「エラーコード」と「プログラム例」の2つのセクションで構成されています。  
上部はエラーコードの一覧表で、エラーコード（16進数）とその内容が詳細に記載されています。  
下部はFTPクライアント設定を用いたファイル取得のラダー図によるプログラム例が示されています。  
テキスト部分はエラーコードの説明とプログラム例の解説、表部分はエラーコード一覧、図部分はラダー図のプログラム例です。
</overview>

<contents>
### テキスト
#### エラーコード一覧
- 2820H: 指定したデバイス番号以降の設定エリア間に0000Hが存在しない場合のエラー。
- 3405H: 文字列長が255文字を超える場合やファイル名とパスの合計が255文字を超える場合などの文字列長に関するエラー。  
  また、使用用途設定エリアのビット15がONで範囲外データの場合や、特定範囲に"00H"が存在しない場合も含む。
- 3426H: ファイル名が指定されていない、転送できないファイル、ドライブNo.の区切り文字が不正、ワイルドカードの誤使用などのファイル指定に関するエラー。
- 3430H: FTPクライアント設定のパラメータが未設定の状態でSP.FTPGET命令を実行した場合のエラー（ただし特定条件を除く）。

#### プログラム例
- FTPクライアント設定で指定したFTPサーバからファイルを取得する例。
- X0をONにすると、FTPサーバ「\database1\recipe\」にある「recipe_db.txt」ファイルをCPUユニットのドライブ2の同パスに取得する。
- ラダー図の動作説明：
  1. 使用用途設定エリアを設定（MOVP命令）。
  2. SP.FTPGET命令でファイル取得を実行。
  3. 正常完了時にM150をセット。
  4. 異常完了時にM151をセット。

### 表
#### エラーコード（SD0）と内容

| エラーコード (SD0) | 内容 |
|--------------------|------|
| 2820H | 指定デバイス番号以降の設定エリア間に0000Hが存在しない。 |
| 3405H | 文字列長超過やファイル名・パスの長さ制限違反、使用用途設定エリアのビット15がONで範囲外データなど。 |
| 3426H | ファイル名未指定、転送不可ファイル、ドライブNo.区切り文字不正、ワイルドカード誤使用など。 |
| 3430H | FTPクライアント設定パラメータ未設定状態でSP.FTPGET命令実行。 |

### 図
#### プログラム例のラダー図説明
- X0がONになると、MOVP命令で使用用途設定エリアを設定。
- SP.FTPGET命令でFTPサーバから指定ファイルを取得。
- M100のONで正常完了を示し、M150をセット。
- M101のONで異常完了を示し、M151をセット。
- ラダー図は4つの主要ステップで構成され、ファイル取得の流れを示している。

</contents>