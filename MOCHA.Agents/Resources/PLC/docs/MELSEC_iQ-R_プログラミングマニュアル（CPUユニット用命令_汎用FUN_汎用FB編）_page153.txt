ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page153

<overview>
本ページは主に3つのセクションで構成されています。  
1. テキスト部分：設定データの内容、範囲、データ型の説明およびLDP、LDF、ANDP、ANDF命令の機能説明。  
2. 表部分：設定データのオペランド別の使用可能デバイス一覧表、ANDP/ANDF命令で指定するデバイスの状態一覧表。  
3. 図部分：LDP、LDF命令を使用した回路例の簡単な回路図が2つ掲載されている。  
</overview>

<contents>
### テキスト
#### 設定データ
- 内容、範囲、データ型について説明。  
- オペランドには(s)、EN、ENOがあり、それぞれ接点として使用するデバイス、実行条件、実行結果を示す。  
- SIL2プロセスCPUおよび安全CPUの安全プログラムでは、これらの安全デバイスおよび安全ラベルのみ使用可能。

#### 機能
##### LDP、LDF命令
- LDP命令は立上りパルス演算開始命令で、指定ビットデバイスのOFF→ONの立上り時のみ導通。  
- ワードデバイスのビット指定時は、指定ビットが0→1に変化した時のみ導通。  
- LDP命令のみの場合はON中実行命令のパルス化命令と同じ動作。  
- LDF命令は立下りパルス演算開始命令で、指定ビットデバイスのON→OFFの立下り時に導通。  
- LDP、LDF命令をSTおよびFBD/LDで使用した場合、指定ビットデバイスの立上り・立下り時にENOがON。  
- LDP、LDF命令をSTで使用時はENに常時ONを指定。  
- LDP、LDF命令をFBD/LDで使用時はENに左母線または常時ONの変数部品/定数部品を指定。

##### ANDP、ANDF命令
- ANDP命令は立上りパルス直列接続命令、ANDF命令は立下りパルス直列接続命令。  
- それまでの演算結果とAND演算を行い、演算結果を出力。  
- ANDP、ANDF命令で使用するON/OFF情報は表に示されている。  
- STおよびFBD/LDで使用時、ENと指定ビットデバイスの立上り（ANDP）または立下り（ANDF）のAND演算結果がONの時、ENOはON。  
- ENは実行条件にはならない。

### 図
- LDP命令使用回路例：X0接点がON時にMOV命令でK0をD0に移動する回路。  
- LDP命令未使用回路例：X0接点がON時にMOVP命令でK0をD0に移動する回路。  
- LDF命令使用回路例：X0接点がON時にM0コイルをパルス出力する回路。

### 表
#### 設定データの使用可能デバイス一覧
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他(DX) |
| --- | --- | --- | --- | --- | --- | --- |
| (s) | X,Y,M,L,SM,F,B,SB,FX,FY (○) | T,ST,C,D,W,SD,SW,FD,R,ZR,RD (○) | Z,LT,LST,LC (○) | - | K,H (○) | - |

- SIL2プロセスCPUおよび安全CPUの安全プログラムでは上記の安全デバイスおよび定数のみ使用可能。

#### ANDP、ANDFで指定のデバイスと状態
| ビットデバイス | ワードデバイスのビット指定 | ANDPの状態 | ANDFの状態 |
| --- | --- | --- | --- |
| OFF→ON | 0→1 | ON | OFF |
| OFF | 0 | OFF | OFF |
| ON | 1 | OFF | OFF |
| ON→OFF | 1→0 | OFF | ON |
</contents>