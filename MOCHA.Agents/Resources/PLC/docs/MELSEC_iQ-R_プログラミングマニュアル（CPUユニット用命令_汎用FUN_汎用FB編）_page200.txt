ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page200

<overview>
本ページは「5.6 フェーズ処理命令」に関する説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：フェーズ処理命令の概要、ポイント、エンジニアリングツールの設定、注意事項の説明。
- 図部分：フェーズ処理命令の動作フローとラダープログラム例の図解。
- 表やグラフはなく、図とテキスト中心の構成。
</overview>

<contents>
### テキスト
#### 5.6 フェーズ処理命令 概要
フェーズ処理命令は、ラダープログラム上で工程（フェーズ）に合わせて順次処理を行う場合に使用する命令です。1つの工程ごとにプログラムを実行します。

#### Point
- 工程に合わせた順次処理を行うプログラム表現としてSFCプログラムがあります。制御動作をステップ遷移で複数のステップに分割し、実行順序や実行条件を明確に表現可能なため、複雑な工程制御にはSFCプログラムの使用を推奨します。
- PHASE命令は2ステップ加算されるため、PHASE命令後のラダープログラム上でステップNo.を指定する機能を使う場合は、加算される2ステップ（合計15ステップ分）を考慮したステップNo.を指定する必要があります。

#### ステップNo.を指定する機能例
- リアルタイムモニタ機能
- 実行条件付きデバイステスト機能
- データロギング機能

#### エンジニアリングツールの設定
フェーズ処理命令を使用するには、エンジニアリングツールのオプション設定で「フェーズ処理命令を使用する」を「はい」に設定する必要があります。設定しない状態でフェーズ処理命令を入力したプログラムを変換するとエラーになります。

設定手順：
[ツール]→[オプション]→[変換]→[基本設定]→[動作設定]

#### 注意事項
- フェーズ処理命令はラダープログラムのみで使用可能。SFC、ST、FBD、LDでは使用不可。
- スキャン実行タイププログラムのみ使用可能。初期実行タイプ、定周期実行タイプ、イベント実行タイプ、待機タイププログラムでは使用不可。
- フェーズ処理命令を入力したプログラムはエンジニアリングツールで変換後、スキャン実行タイプ以外のプログラム実行タイプに変更しないこと。
- メインルーチンプログラムのみ使用可能。サブルーチン、割込みプログラムでは使用不可。
- プログラムブロック内のみ使用可能。ファンクション(FUN)、ファンクションブロック(FB)内では使用不可。

### 図
- 左側にフローチャート形式の処理の流れ図があり、「開始スイッチ」のON/OFF判定後に工程1、工程2の順に処理が進む様子を示している。
- 右側はラダープログラムの例で、各フェーズの実行条件（PHASE命令）、終了条件（PHASECHG命令）、およびフェーズ処理の流れを示す。フェーズ1の処理が完了するとフェーズ2へ移行する指示が出る構造になっている。

</contents>