ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1268

<overview>
このページは主にテキストと表で構成されています。テキスト部分では、実行条件や機能の説明、注意事項、エラーについて記載されています。表部分は「実行条件」「設定データ」「使用可能デバイス」「ステップの状態」「プログラムの指定方法」「CPUユニットごとのブロックNo.とステップNo.の範囲」などの情報を整理して示しています。グラフや図は含まれていません。
</overview>

<contents>
### テキスト
#### 実行条件
命令（LD、LDI、AND、ANI、OR、ORI）は常時実行されることが示されています。

#### 設定データ
##### 内容、範囲、データ型
- オペランド(s): 接点として使用するデバイス
- 範囲: なし
- データ型: ビット
- データ型(ラベル): ANY_BOOL

##### 使用可能デバイス
- ビットデバイス: X, Y, M, L, SM, F, B, S, SB, FX, FY（Sのみ使用可能）
- ワードデバイス: T, ST, C, D, W, SD, SW, FD, R, ZR, RD
- ダブルワードデバイス: LT, LST, LC
- 間接指定、定数、その他（BL□、S□）も利用可能

#### 機能
- 指定したブロックの指定ステップが活性状態かどうかをチェックする。
- ステップの活性/非活性状態により、接点のON/OFFが変わる。

##### ステップの状態と接点のON/OFF
| ステップの状態 | a接点命令の接点 | b接点命令の接点 |
| --- | --- | --- |
| 活性状態 | ON | OFF |
| 非活性状態 | OFF | ON |

#### ステップの指定方法
| プログラム | 指定方法 |
| --- | --- |
| SFCプログラム | 自ブロック内のステップ指定はS□で指定。他ブロックはBL□Y S□で指定。 |
| シーケンスプログラム | BL□Y S□で指定。ブロックNo.未指定時はBSET命令で指定。未指定の場合はブロック0。 |

#### ブロックNo.、ステップNo.の範囲
| CPUユニット | ブロックNo. | ステップNo. |
| --- | --- | --- |
| R00CPU, R01CPU, R02CPU | 0～127 | 0～127 |
| 上記以外のCPUユニット | 0～319 | 0～511 |

- 範囲外の指定はa接点命令、b接点命令ともにOFFになる。
- SFCプログラムが存在しONの場合はSM321がONの時のみ実行。
- SFCプログラムが存在しないかOFFの場合、指定範囲内ならa接点命令はOFF、b接点命令はON。

#### 注意事項
- シーケンスプログラムでブロック指定なしのステップ指定S□は、エンジニアリングツール上で接点のON/OFFモニタ不可。
- 演算は行われるため、内部的にONならコイル出力はONになる。

#### エラー
- 演算エラーはなし。

### 表
#### 実行条件
| 命令 | 実行条件 |
| --- | --- |
| LD, LDI, AND, ANI, OR, ORI | 常時実行 |

#### 設定データ（内容、範囲、データ型）
| オペランド | 内容 | 範囲 | データ型 | データ型(ラベル) |
| --- | --- | --- | --- | --- |
| (s) | 接点として使用するデバイス | － | ビット | ANY_BOOL |

#### 使用可能デバイス
| オペランド | ビット | ワード | ダブルワード | 間接指定 | 定数 | その他 |
| --- | --- | --- | --- | --- | --- | --- |
| (s) | X,Y,M,L,SM,F,B,S,SB,FX,FY (Sのみ使用可) | T,ST,C,D,W,SD,SW,FD,R,ZR,RD | LT,LST,LC | － | K,H,E,$ | BL□,S□ |

#### ステップの状態と接点
| ステップの状態 | a接点命令の接点 | b接点命令の接点 |
| --- | --- | --- |
| 活性状態 | ON | OFF |
| 非活性状態 | OFF | ON |

#### プログラムの指定方法
| プログラム | 指定方法 |
| --- | --- |
| SFCプログラム | 自ブロック内のステップはS□で指定。他ブロックはBL□Y S□で指定。 |
| シーケンスプログラム | BL□Y S□で指定。ブロックNo.未指定時はBSET命令で指定。未指定の場合はブロック0。 |

#### CPUユニットごとのブロックNo.とステップNo.の範囲
| CPUユニット | ブロックNo. | ステップNo. |
| --- | --- | --- |
| R00CPU, R01CPU, R02CPU | 0～127 | 0～127 |
| その他CPUユニット | 0～319 | 0～511 |
</contents>