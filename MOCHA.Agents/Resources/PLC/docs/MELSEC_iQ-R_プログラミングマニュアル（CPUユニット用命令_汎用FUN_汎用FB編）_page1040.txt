ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1040

<overview>
本ページは、CPUユニット内蔵データベースアクセス機能の一部である「DBINSERT(P)命令」について説明しています。ページ構成は以下の通りです。
- テキスト部分：DBINSERT(P)命令の機能概要、動作条件、完了信号の説明、注意事項など。
- 表部分：追加されるレコードの例（フィールド型と値の一覧）。
- 図部分：DBINSERT(P)命令実行時の完了デバイスの動作タイミングを示すタイムチャート。
</overview>

<contents>
### テキスト
#### DBINSERT(P)命令の機能
- (s1)で設定した識別番号に対応するデータベースの(s2)で設定したテーブルに対してレコードを追加する。
- (s3)で追加するレコードのフィールド個数、フィールド名を指定可能。すべてのフィールドを指定する必要はなく、指定しないフィールドはNULL格納。
- (s4)で追加するレコードの件数、1レコードあたりのサイズおよび値を指定。
- DBINSERT(P)命令でテーブルrecipeAに1件のレコードを追加した場合の例を示す。

#### 完了信号の動作
- 正常完了時：完了デバイス(d1)+0の完了信号がON、(d2)の完了ステータスに0が格納される。
- 異常完了時：完了デバイス(d1)+1の異常完了信号がON、(d2)の完了ステータスにエラーコードが格納される。

#### 注意事項
- DBINSERT(P)命令実行中はSM753（ファイルアクセス中）がONになる。
- SM753がON中はDBINSERT(P)命令は実行不可。実行した場合は無処理。
- CPUユニットパラメータで「内蔵データベースアクセス使用有無」を使用する設定の場合、SM1498（内蔵データベース起動完了フラグ）がOFFの間はDBINSERT(P)命令は実行不可。実行した場合は無処理。

### 表
| (1) | (2)           | (3)  |
|-----|---------------|-------|
| 1   | ProductA      | 100   |
| 2   | ProductB      | 200   |

- (1): フィールド1 WORD型
- (2): フィールド2 WSTRING型（最大16文字）
- (3): フィールド3 INT型

### 図（タイムチャート）
- プログラム開始からDBINSERT(P)命令実行、完了デバイスのON/OFF動作を示す。
- DBINSERT(P)命令実行時に「データベースへデータを追加」処理が行われる。
- 正常完了時は完了デバイス(d1)がON、異常完了時は完了デバイス(d1)+1がONになる。
- END処理のタイミングで完了デバイスはOFFに戻る。
</contents>