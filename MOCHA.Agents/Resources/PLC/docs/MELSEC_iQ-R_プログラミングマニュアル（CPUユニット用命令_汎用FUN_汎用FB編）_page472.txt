ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page472

<overview>
本ページは、SM705（変換桁数切換）がONの場合の(s)の設定方法についての説明で構成されています。ページ上部にテキストによる詳細な解説があり、その下に複数の表が配置され、(s)に設定する値とその内容の対応関係を示しています。さらに、注意事項や補足説明がテキストで記載されています。ページ下部にはエラーコードとその内容を示す表があり、エラー発生条件について説明しています。グラフや図はなく、テキストと表が主体の構成です。
</overview>

<contents>
### テキスト
#### SM705（変換桁数切換）がONの場合の(s)の設定方法
(s)には、任意の桁数（00H（NULLコード）まで）の10進アスキーデータを設定します。ただし、整数部が最大桁数（5桁）の場合は、00H（NULLコード）の設定は不要です。(s)の設定方法を以下に示しています。

- (s)～(s)+2で指定するアスキーデータは、DABIN(P)命令の場合は-32768～32767、DABIN(P)_U命令の場合は0～65535の範囲内です。
- 変換するデータが負の数の場合は、(s)+0の下位バイトに符号データとして2DH（-）を設定します。変換するデータが0または正の数の場合は符号データは設定せず、最上位桁のアスキーコードを設定します。
- 各位に設定するアスキーコードは、30H～39Hの範囲内です。
- 正の数で数値部5桁の場合、(s)+2の上位バイト以降のデータは無視されます。負の数で数値部5桁の場合、(s)+3以降のデータは無視されます。
- 各位に設定するアスキーコードが20Hのときは30Hとして処理されます。00Hのときは、10進アスキーデータの終端として処理されます。
- 下記の場合、(d)には0が格納されます。
  - 1文字目が00H（NULL）
  - 1文字目が2DH（-）で、2文字目が00H（NULL）

### 表
#### (s)に設定する値と内容の対応表

| (s)に設定する値 | (s)～(s)+2の内容 |
|-----------------|------------------|
| 0<br>正の数（数値部1桁） | (s)の上位バイトに00Hを設定。<br>(s)+1以降は無視される。 |
| 0<br>正の数（数値部2桁）<br>負の数（数値部1桁） | (s)+1の下位バイトに00Hを設定。<br>(s)+1の上位バイト以降は無視される。 |
| 負の数（数値部4桁） | (s)+2の上位バイトに00Hを設定。 |
| 正の数（数値部5桁） | (s)+2の上位バイト以降は無視される。最大桁数のため00H設定不要。 |
| 負の数（数値部5桁） | (s)+3以降は無視される。最大桁数のため00H設定不要。 |

#### アスキーコードの説明
- ASCII 10⁰: 一の位のアスキーコード
- ASCII 10¹: 十の位のアスキーコード
- ASCII 10⁴: 万の位のアスキーコード
- 符号データは2DH（-）で表す

### テキスト（注意事項）
- 変換するデータが負の数の場合、(s)+0の下位バイトに符号データ2DH（-）を設定。
- 正の数の場合は符号データは設定しない。
- 各位に設定するアスキーコードは30H～39Hの範囲内。
- 00Hは10進アスキーデータの終端として処理。
- 特定条件下で(d)に0が格納される。

### 表
#### エラーコード（SD0）

| エラーコード | 内容 |
|--------------|------|
| 3401H | (s)～(s)+2に変換できない不正なデータを入力したとき。<br>・1文字目のアスキーコードが2DH、30H～39H、20H、00H以外。<br>・2文字目以降のアスキーコードが30H～39H、20H、00H以外。<br>・DABIN(P)命令使用時、アスキーデータが-32768～32767以外。<br>・DABIN(P)_U命令使用時、アスキーデータが0～65535以外。 |

### テキスト（補足）
- SM705（変換桁数切換）がOFFの場合は、1文字目のアスキーコードに何を設定してもエラーになりません。

</contents>