ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1156

<overview>
このページは、内蔵Ethernet機能用命令の一つである「オープン/クローズ処理命令」について説明しています。ページ構成は以下の通りです。
- テキスト部分：機能の説明、命令の実行タイミング、パラメータ設定に関する注意事項
- 図部分：命令実行タイミングを示すシーケンス図
- 表部分：エラーコードとその内容の一覧
</overview>

<contents>
### テキスト
#### 機能
- (s1)で指定したコネクションのオープン処理を行う。
- オープン処理で使用する設定値は、(s2)+0で選択する。
- SP.SOCOPEN命令の実行および正常/異常完了は、設定データで指定した完了デバイス(d)、完了時の状態表示デバイス(d)+1で確認可能。
  - 完了デバイス(d)：SP.SOCOPEN命令完了時にスキャンのEND処理でONし、次のEND処理でOFF。
  - 完了時の状態表示デバイス(d)+1：SP.SOCOPEN命令完了時の状態によりON/OFF。正常完了時はOFFのまま変化しない。異常完了時はスキャンのEND処理でONし、次のEND処理でOFF。
- SP.SOCOPEN命令の実行タイミングは図の通り。

#### 注意事項
- パラメータ上で設定していないコネクション（プロトコル欄が空欄のコネクション）もオープンして使用可能。
- その場合は(s2)+0を8000Hに設定し、コントロールデータの(s2)+1～(s2)+9でオープン内容を指定する。

### 図
- シーケンススキャンのタイミングに合わせてSP.SOCOPEN命令が実行される。
- 完了デバイス(d)は命令実行後にONとなり、次のEND処理でOFFになる。
- 完了時の状態表示デバイス(d)+1は、異常完了時にON、正常完了時は1スキャンの間ONとなり、その後OFFになる。
- 図は命令実行から完了までの状態遷移を示している。

### 表
#### エラーコード一覧
| エラーコード (SD0) | 内容                                   |
|--------------------|--------------------------------------|
| 3405H              | (s1)で指定するコネクション番号が1～16以外のとき。 |

- 異常完了時は完了時の状態表示デバイス(d)+1がONになり、完了ステータス(s2)+1にエラーコードが格納される。
- エラーコードの詳細は「MELSEC iQ-R Ethernetユーザーズマニュアル（応用編）」を参照。
</contents>