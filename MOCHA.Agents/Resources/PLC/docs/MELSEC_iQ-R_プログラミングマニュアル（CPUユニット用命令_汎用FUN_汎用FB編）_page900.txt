ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page900

<overview>
本ページは「浮動小数点命令」に関する説明で構成されています。ページ全体は以下の3つのセクションに分かれています。
1. テキスト部分：機能の説明、BCD型浮動小数点フォーマットデータの変換方法、符号や指数部の設定ルール、例示。
2. 表部分：エラーコードとその内容をまとめた表。
3. 図部分：BCD型浮動小数点フォーマットのデバイス配置例と変換後の単精度実数データの配置例を示す図。
</overview>

<contents>
### テキスト
#### 機能
(s1)で指定されたデバイス番号以降に格納されているBCD型浮動小数点フォーマットデータを、(s2)で指定された小数部桁数に基づいて単精度実数データに変換し、(d)で指定されたデバイス番号以降に格納します。

- (s1)の内容：
  - (s1)：符号（正のとき0、負のとき1）
  - (s1)+1、(s1)+2：BCD7桁
  - (s1)+3：指数部符号（正のとき0、負のとき1）
  - (s1)+4：BCD指数（0～38）
- (s2)：小数部桁数（0～7）
- (d)+1、(d)：単精度実数

- 符号および指数部符号は、正のとき0、負のとき1を設定。
- BCD指数は0～38の範囲で設定可能。
- 小数部桁数は0～7の範囲で設定可能。

#### 例
(s2)に6を設定した場合の例を示しています。

- (s1)のデバイスに以下のBCDデータが格納されている：
  - (s1)：1
  - (s1)+1：5423H
  - (s1)+2：0321H
  - (s1)+3：0
  - (s1)+4：2
- (s2)：6

このデータは「3215423H」となり、変換後は(d)+1に「-3.215」、(d)に「423E+2」として単精度実数データが格納されます。

### 表
#### エラーコード（SD0）
| エラーコード | 内容 |
| :--- | :--- |
| 3401H | (s1)で指定する形式指定が1以外の場合。<br>(s1)+1、(s1)+2の各桁に0～9以外の値がある場合。<br>(s1)+3で指定する指数部符号が0、1以外の場合。<br>(s1)+4で指定する指数データが0～38以外の場合。<br>(s2)で指定した小数部桁数が0～7以外の場合。 |
| 3403H | (d)が指定範囲を超えた場合（オーバーフロー発生時）。<br>|(d)| < 2^128 |

### 図
- BCD型浮動小数点フォーマットのデバイス配置例：
  - (s1)：符号
  - (s1)+1：BCD7桁
  - (s1)+2：BCD7桁
  - (s1)+3：指数部符号
  - (s1)+4：BCD指数（0～38）
- (s2)：小数部桁数（0～7）
- 変換後の単精度実数データは(d)+1、(d)に格納される。

- 例示図では、(s1)～(s1)+4のBCDデータが「3215423H」となり、(d)+1、(d)に「-3.215423E+2」として格納される流れを矢印で示している。
</contents>