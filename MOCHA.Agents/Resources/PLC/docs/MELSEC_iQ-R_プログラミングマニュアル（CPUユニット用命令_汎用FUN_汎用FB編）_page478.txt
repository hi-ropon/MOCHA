ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page478

<overview>
本ページは、SM705の変換桁数切換に関するデータ変換命令の説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：機能説明、設定方法の詳細、注意事項、エラーコードの説明
- 表部分：SM705の状態別(s)の設定方法の比較表、(s)に設定する値と内容の対応表、エラーコード一覧
- 図部分：16進アスキーデータのビット配置例、(s)の設定例のビット構成図
</overview>

<contents>
### テキスト
#### 機能
(s)で指定されたデバイス番号以降に格納されている16進アスキーデータをBIN16ビットデータに変換し、(d)で指定されたデバイスに格納する。  
SM705の変換桁数切換の状態により、(s)に設定する16進アスキーデータの設定方法が異なる。

#### SM705の状態と(s)の設定方法
- OFF：固定桁数（4桁）で設定  
- ON：任意の桁数（最大4桁）で設定  
※SM705対応CPUユニットのファームウェアバージョンにより動作が異なる場合がある。

#### SM705(変換桁数切換)がOFFの場合の(s)の設定方法
- (s)～(s)+1に16進アスキーデータを4桁固定で設定する。  
- 指定するアスキーデータは0000H～FFFFHの範囲。  
- (s)+2以降のデータは無視される。  
- 各桁のアスキーコードは30H～39Hおよび41H～46Hの範囲内。  

##### 例
(s)に5A8DHが指定された場合、(s)に41H（A）、35H（5）、(s)+1に44H（D）、38H（8）が設定され、BIN16データとして5A8DHが(d)に格納される。

#### SM705(変換桁数切換)がONの場合の(s)の設定方法
- (s)には任意の桁数（00HのNULLコードまで）の16進アスキーデータを設定可能。最大4桁の場合は00Hの設定は不要。  
- (s)に設定する値と(s)～(s)+1の内容は以下の通り。

| (s)に設定する値 | (s)～(s)+1の内容 |
|-----------------|------------------|
| 00H～FH         | (s)の上位バイトに00Hを設定、(s)+1以降は無視。 |
| 10H～FFFH       | (s)+1の下位バイトに00Hを設定、(s)+1の上位バイト以降は無視。 |
| 100H～FFFF      | (s)+1の上位バイトに00Hを設定、(s)+2以降は無視。 |
| 1000H～FFFFF    | (s)+2以降は無視。 |

- アスキーコードの範囲はOFF時と同様。  
- 00Hのアスキーコードは16進アスキーデータの終端として扱う。

#### エラー
| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3401H              | (s)～(s)+1に変換できない不正なデータを入力した場合。各桁のアスキーコードが30H～39H、41H～46H以外。 |

### 図
- 16進アスキーデータのビット配置例：  
  (s)～(s)+1にASCIIコード4桁を設定し、BIN16ビットデータに変換される様子を示す。  
- (s)に5A8DHが指定された場合のビット配置例。  
- ONの場合の(s)～(s)+1のビット配置例を複数パターンで示し、00Hの位置によるデータの終端処理を説明。

### 表
#### SM705の状態別(s)の設定方法

| SM705の状態 | (s)の設定方法 | 参照先 |
|-------------|---------------|--------|
| OFF         | 固定桁数(4桁)で設定 | 478ページ |
| ON          | 任意の桁数(最大4桁)で設定 | 478ページ |

#### (s)に設定する値と(s)～(s)+1の内容対応表

| (s)に設定する値 | (s)～(s)+1の内容 |
|-----------------|------------------|
| 00H～FH         | (s)の上位バイトに00Hを設定、(s)+1以降は無視。 |
| 10H～FFFH       | (s)+1の下位バイトに00Hを設定、(s)+1の上位バイト以降は無視。 |
| 100H～FFFF      | (s)+1の上位バイトに00Hを設定、(s)+2以降は無視。 |
| 1000H～FFFFF    | (s)+2以降は無視。 |

#### エラーコード一覧

| エラーコード (SD0) | 内容 |
|--------------------|------|
| 3401H              | 不正なデータ入力（アスキーコードが指定範囲外） |
</contents>