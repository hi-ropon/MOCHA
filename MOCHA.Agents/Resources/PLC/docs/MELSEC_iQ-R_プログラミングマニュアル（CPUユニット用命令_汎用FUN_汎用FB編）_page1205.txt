ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1205

<overview>
本ページは、内蔵Ethernet機能用命令の一部であるFTPサーバ指定に関する説明で構成されています。主にテキスト説明と複数の表（ビット割り当てを示す表やFTPサーバ対応OS一覧表）が含まれています。グラフや図はなく、プログラム例のブロック図が数点掲載されています。テキストはFTPサーバ名、ログイン名、パスワードの指定方法やFTPサーバアドレスの指定方法について詳細に解説しています。
</overview>

<contents>
### テキスト
#### 機能概要
- ユニットパラメータでFTPサーバを指定しない場合（(s1)+0のビット15が"0"）は、(s2)で指定したFTPサーバのファイルを、(s3)で指定したCPUユニットのフォルダパスに取得する。
- SP.FTPGET命令実行時に、ユニットパラメータの"FTPクライアント設定"で指定したFTPサーバに接続し、ファイル取得後にFTPサーバとの接続を切断する。
- FTPサーバ指定は、SP.FTPGET命令のコントロールデータで行い、(s1)+0のビット15が"1"の場合は(s1)+4～171でFTPサーバ名、ログイン名、パスワードをASCII文字列で指定し、最後に"00H"を格納する。

#### FTPサーバ名、ログイン名、パスワードの指定例
- FTPサーバ名例："SERV001"を指定する場合、コントロールデータ(s1)の先頭デバイスはD0。
  - 各文字を16進数のASCIIコードで表し、(s1)+5～8に格納。
  - プログラム例：`$MOV "SERV001" D5`
- ログイン名例："USER001"を指定する場合、コントロールデータ(s1)の先頭デバイスはD0。
  - (s1)+136～139にASCIIコードを格納。
  - プログラム例：`$MOV "USER001" D136`
- パスワード例："PW1234"を指定する場合、コントロールデータ(s1)の先頭デバイスはD0。
  - (s1)+153～156にASCIIコードを格納。
  - プログラム例：`$MOV "PW1234" D153`

#### FTPサーバアドレスの指定例
- (s1)+134～135でFTPサーバアドレスを1バイトごとに"."（ドット）区切りで16進数指定。
- 例：`33H 19H  C0H A8H`を指定。
- プログラム例：`DMOV HC0A83319 D134`

#### 動作確認済みFTPサーバ一覧
| FTPサーバ | 対象OS |
| :--- | :--- |
| Microsoft® Internet Information Services (IIS) | Microsoft® Windows® 11<br>Microsoft® Windows® 10 |

#### 注意事項
- FTPサーバ名を指定する場合は、ユニットパラメータのDNS設定を行う必要がある。
- 詳細は「MELSEC iQ-R Ethernetユーザーズマニュアル（応用編）」を参照。

### 表
#### FTPサーバ名、ログイン名、パスワードのASCIIコード割り当て例
- 各文字を16進数のASCIIコードでビット単位に分割し、(s1)の指定アドレスに格納する表が3つ掲載。
  - 例：'S'は53H、'E'は45Hなど。
- 各表はb15～b0のビット割り当てを示し、上位バイトと下位バイトに分かれている。

#### FTPサーバアドレス指定例のビット割り当て表
- 1バイトずつ16進数で区切ったFTPサーバアドレスのビット割り当てを示す。

#### 動作確認済みFTPサーバ対応OS表
- FTPサーバ名と対応OSを2列で示した表。

### プログラム例（図）
- FTPサーバ名、ログイン名、パスワード、FTPサーバアドレスの指定を示すプログラムブロック図。
- 例：`$MOV "SERV001" D5`、`$MOV "USER001" D136`、`$MOV "PW1234" D153`、`DMOV HC0A83319 D134`
- 各例は対応するASCIIコードや16進数データの格納位置を示している。

</contents>