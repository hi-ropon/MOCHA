ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page586

<overview>
このページは、ファンクションデバイスのデータサイズに関する説明、指定されたデバイスの内容を示す図、FCALL命令のネスティング構造の説明、注意事項、及びエラーコード一覧の構成になっています。テキスト部分ではデバイスのデータサイズや注意事項、エラーコードの説明があり、表部分ではファンクションデバイスのデータサイズとエラーコードの内容が示されています。図部分では、指定されたデバイスの内容の例とFCALL命令のネスティング構造が視覚的に説明されています。
</overview>

<contents>
### テキスト
- 各ファンクションデバイスのデータサイズについて説明しています。
- FCALL(P)命令は(s1)～(s5)まで使用可能で、ネスティングは16重まで可能ですが、16重はCALL(P)、FCALL(P)、ECALL(P)、EFCALL(P)、XCALL命令の合計です。
- 注意事項として、FBD/LDプログラムはサブルーチンプログラムとして作成できず、引数を持つサブルーチンプログラムの実行もできないことが記載されています。

### 図
- 指定されたデバイスの内容の例として、X0が入力され、FCALL命令でP0プログラムを呼び出し、その中でM0、D0、D30がそれぞれ異なる転送先に占有される様子を示しています。
- FCALL命令のネスティング構造を示す図では、P0が呼び出され、その中でP10、さらにP20が呼び出される階層構造が矢印とボックスで表現されています。各呼び出しはRET命令で戻る構造です。

### 表
#### ファンクションデバイスのデータサイズ
| ファンクションデバイス | 使用デバイス | データサイズ |
| :--------------------- | :----------- | :----------- |
| FX, FY                 | ビットデバイス | 1点          |
|                        | ワードデバイスのビット指定時 | 1ビット       |
| FD                     | ビットデバイスの桁指定時*3 | 4ワード*4    |
|                        | ワードデバイス | 4ワード       |

*3 ビットデバイスの桁指定時で、指定されたデバイス番号が16の倍数でなくてもエラーにならない。  
*4 FDの上位2ワードは0となる。

#### エラーコード一覧
| エラーコード(SD0) | 内容 |
| :---------------- | :--- |
| 2820H             | (s1)～(s5)で引数に指定したデバイスがデータサイズ分確保できないとき。 |
| 3360H             | 17重目のネスティングが実行されたとき。 |
| 3380H             | FCALL(P)命令で指定したポインタのサブルーチンプログラムが存在しないとき。 |
| 3381H             | FCALL(P)命令実行後、RET命令を実行する前にEND命令、FEND命令、GOEND命令、STOP命令を実行したとき。 |
| 3382H             | FCALL(P)命令を実行する前にRET命令を実行したとき。 |
</contents>