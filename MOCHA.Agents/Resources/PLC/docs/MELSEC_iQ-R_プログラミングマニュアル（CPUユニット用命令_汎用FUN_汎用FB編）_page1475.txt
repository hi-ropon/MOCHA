ファイル名: MELSEC_iQ-R_プログラミングマニュアル（CPUユニット用命令_汎用FUN_汎用FB編）_page1475

<overview>
このページは「39.4 文字列の結合」についての説明で構成されています。ページ全体は以下のセクションに分かれています。
- テキスト部分：関数の概要説明、引数の説明、機能の詳細
- 表部分：引数の内容、種別、データ型をまとめた表
- 図部分：ラダー、FBD/LD、ST言語での関数ブロックの構造図、および文字列結合のバイト構造を示す図
</overview>

<contents>
### テキスト
#### 39.4 文字列の結合(CONCAT(_E))
文字列を結合して出力する関数について説明しています。

##### 対応CPU
- RnCPU、RnRENCPU、RnPCPU（プロセス、三重化、一般）、RnSPFCPU（安全、一般）

##### 機能概要
- 入力変数s1の文字列の後に、入力変数s2～s28の文字列を結合し、出力変数dから出力します。
- 文字列の結合は、s1の文字列の終了を示す00Hを無視し、s2～s28の文字列を続けて結合します。
- 結合した文字列が255バイトを超える場合は255バイトまで出力します。ただし、ファンクション以外のST言語でワードデバイスが指定されている場合や特定のオプション設定が有効な場合は2047バイトまで出力可能です。

##### 入力変数の範囲
- s1、s2～s28の入力値はSTRING型のデータ値で0～255バイトの範囲内。
- ファンクション以外のST言語でワードデバイス指定かつオプション設定が有効な場合は0～2047バイト。

##### 実行条件
- EN：実行条件（TRUEで実行、FALSEで停止）
- ENO：出力状態（TRUEが正常、FALSEが異常）

### 表
#### 設定データ（引数の内容、種別、データ型）

| 引数          | 内容                             | 種別     | データ型           |
|---------------|--------------------------------|----------|--------------------|
| EN            | 実行条件(TRUE:実行、FALSE:停止) | 入力変数 | BOOL               |
| s1(IN1)～s28(IN28) | 入力                           | 入力変数 | ANYSTRING_SINGLE   |
| ENO           | 出力状態(TRUE:正常、FALSE:異常) | 出力変数 | BOOL               |
| d             | 出力                             | 出力変数 | ANYSTRING_SINGLE   |

### 図
#### 関数ブロック構造
- ラダー、FBD/LDではEN/ENO付きとなしの2種類のブロック図を示し、s1、s2の入力とdの出力を表現。
- ST言語ではEN/ENOなしの場合は「d:=CONCAT(s1,s2);」、EN/ENO付きの場合は「d:=CONCAT_E(EN,ENO,s1,s2);」の記述例を示す。

#### 文字列結合のバイト構造例
- (s1)「ABCDE」と(s2)「123456」を結合し、(d)「ABCDE123456」となる例を示す。
- 各文字は上位バイト・下位バイトに分かれ、16進数で表記。
- s1の終端00Hは無視され、s2の文字列が続く形で結合されている。
- 結合後の文字列はバイト単位で連続していることを示す。

### 注意事項
- 大きいサイズの文字列結合命令を使用する場合は、設定メニューから「変換」→「基本設定」→「動作設定」→「STプログラム」→「大きいサイズの文字列結合命令を使用する」を有効にする必要がある。
</contents>